/*

 Lodash <https://lodash.com/>
 Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 Released under MIT license <https://lodash.com/license>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 jQuery JavaScript Library v1.12.4-aem
 http://jquery.com/

 Includes Sizzle.js
 http://sizzlejs.com/

 Copyright jQuery Foundation and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2016-05-20T17:17Z
 Sizzle CSS Selector Engine v2.2.1
 http://sizzlejs.com/

 Copyright jQuery Foundation and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2015-10-17
 jQuery requestAnimationFrame - 0.2.2 - 2016-10-26
 https://github.com/gnarf37/jquery-requestAnimationFrame
 Copyright (c) 2016 Corey Frang; Licensed MIT  jQuery Transit - CSS3 transitions and transformations
 (c) 2011-2014 Rico Sta. Cruz
 MIT Licensed.

 http://ricostacruz.com/jquery.transit
 http://github.com/rstacruz/jquery.transit
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var a=0;return function(){return a<b.length?{done:!1,value:b[a++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){b!=Array.prototype&&b!=Object.prototype&&(b[a]=c.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var b=0;return function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+b++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.asyncIterator;b||(b=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};
(function(b,a){"object"===typeof module&&"object"===typeof module.exports?module.exports=b.document?a(b,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return a(b)}:a(b)})("undefined"!==typeof window?window:this,function(b,a){function c(a){var n=!!a&&"length"in a&&a.length,b=h.type(a);return"function"===b||h.isWindow(a)?!1:"array"===b||0===n||"number"===typeof n&&0<n&&n-1 in a}function d(a,b,c){if(h.isFunction(b))return h.grep(a,function(a,n){return!!b.call(a,
n,a)!==c});if(b.nodeType)return h.grep(a,function(a){return a===b!==c});if("string"===typeof b){if(Z.test(b))return h.filter(b,a,c);b=h.filter(b,a)}return h.grep(a,function(a){return-1<h.inArray(a,b)!==c})}function e(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function g(a){var n={};h.each(a.match(Ca)||[],function(a,b){n[b]=!0});return n}function k(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",f),b.removeEventListener("load",f)):(J.detachEvent("onreadystatechange",f),b.detachEvent("onload",
f))}function f(){if(J.addEventListener||"load"===b.event.type||"complete"===J.readyState)k(),h.ready()}function l(a,b,c){if(void 0===c&&1===a.nodeType)if(c="data-"+b.replace(ae,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:Xa.test(c)?h.parseJSON(c):c}catch(ta){}h.data(a,b,c)}else c=void 0;return c}function w(a){for(var n in a)if(("data"!==n||!h.isEmptyObject(a[n]))&&"toJSON"!==n)return!1;return!0}function m(a,b,c,d){if(Wb(a)){var n=
h.expando,e=a.nodeType,t=e?h.cache:a,L=e?a[n]:a[n]&&n;if(L&&t[L]&&(d||t[L].data)||void 0!==c||"string"!==typeof b){L||(L=e?a[n]=Na.pop()||h.guid++:n);t[L]||(t[L]=e?{}:{toJSON:h.noop});if("object"===typeof b||"function"===typeof b)d?t[L]=h.extend(t[L],b):t[L].data=h.extend(t[L].data,b);a=t[L];d||(a.data||(a.data={}),a=a.data);void 0!==c&&(a[h.camelCase(b)]=c);"string"===typeof b?(c=a[b],null==c&&(c=a[h.camelCase(b)])):c=a;return c}}}function u(a,b,c){if(Wb(a)){var n,d,e=a.nodeType,t=e?h.cache:a,L=
e?a[h.expando]:h.expando;if(t[L]){if(b&&(n=c?t[L]:t[L].data)){h.isArray(b)?b=b.concat(h.map(b,h.camelCase)):b in n?b=[b]:(b=h.camelCase(b),b=b in n?[b]:b.split(" "));for(d=b.length;d--;)delete n[b[d]];if(c?!w(n):!h.isEmptyObject(n))return}if(!c&&(delete t[L].data,!w(t[L])))return;e?h.cleanData([a],!0):H.deleteExpando||t!=t.window?delete t[L]:t[L]=void 0}}}function x(a,b,c,d){var n=1,e=20,t=d?function(){return d.cur()}:function(){return h.css(a,b,"")},L=t(),f=c&&c[3]||(h.cssNumber[b]?"":"px"),q=(h.cssNumber[b]||
"px"!==f&&+L)&&Hc.exec(h.css(a,b));if(q&&q[3]!==f){f=f||q[3];c=c||[];q=+L||1;do n=n||".5",q/=n,h.style(a,b,q+f);while(n!==(n=t()/L)&&1!==n&&--e)}if(c){q=+q||+L||0;var g=c[1]?q+(c[1]+1)*c[2]:+c[2];d&&(d.unit=f,d.start=q,d.end=g)}return g}function A(a){var b="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video".split(" ");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());
return a}function D(a,b){var n,c,d=0,e="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(b||"*"):void 0;if(!e)for(e=[],n=a.childNodes||a;null!=(c=n[d]);d++)!b||h.nodeName(c,b)?e.push(c):h.merge(e,D(c,b));return void 0===b||b&&h.nodeName(a,b)?h.merge([a],e):e}function y(a,b){for(var c,n=0;null!=(c=a[n]);n++)h._data(c,"globalEval",!b||h._data(b[n],"globalEval"))}function E(a){pa.test(a.type)&&(a.defaultChecked=a.checked)}
function M(a,b,c,d,e){for(var n,t,L,f,q,g,k=a.length,m=A(b),l=[],ta=0;ta<k;ta++)if((t=a[ta])||0===t)if("object"===h.type(t))h.merge(l,t.nodeType?[t]:t);else if(Ic.test(t)){L=L||m.appendChild(b.createElement("div"));f=(hc.exec(t)||["",""])[1].toLowerCase();g=ua[f]||ua._default;L.innerHTML=g[1]+h.htmlPrefilter(t)+g[2];for(n=g[0];n--;)L=L.lastChild;!H.leadingWhitespace&&Jc.test(t)&&l.push(b.createTextNode(Jc.exec(t)[0]));if(!H.tbody)for(n=(t="table"!==f||Aa.test(t)?"\x3ctable\x3e"!==g[1]||Aa.test(t)?
0:L:L.firstChild)&&t.childNodes.length;n--;)h.nodeName(q=t.childNodes[n],"tbody")&&!q.childNodes.length&&t.removeChild(q);h.merge(l,L.childNodes);for(L.textContent="";L.firstChild;)L.removeChild(L.firstChild);L=m.lastChild}else l.push(b.createTextNode(t));L&&m.removeChild(L);H.appendChecked||h.grep(D(l,"input"),E);for(ta=0;t=l[ta++];)if(d&&-1<h.inArray(t,d))e&&e.push(t);else if(a=h.contains(t.ownerDocument,t),L=D(m.appendChild(t),"script"),a&&y(L),c)for(n=0;t=L[n++];)dd.test(t.type||"")&&c.push(t);
return m}function Q(){return!0}function B(){return!1}function C(){try{return J.activeElement}catch(n){}}function K(a,b,c,d,e,f){var n;if("object"===typeof b){"string"!==typeof c&&(d=d||c,c=void 0);for(n in b)K(a,n,c,d,b[n],f);return a}null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"===typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0));if(!1===e)e=B;else if(!e)return a;if(1===f){var t=e;e=function(a){h().off(a);return t.apply(this,arguments)};e.guid=t.guid||(t.guid=h.guid++)}return a.each(function(){h.event.add(this,
b,e,d,c)})}function ma(a,b){return h.nodeName(a,"table")&&h.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function X(a){a.type=(null!==h.find.attr(a,"type"))+"/"+a.type;return a}function T(a){var b=ed.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function Y(a,b){if(1===b.nodeType&&h.hasData(a)){var c,n;var d=h._data(a);a=h._data(b,d);var e=d.events;if(e)for(c in delete a.handle,a.events={},
e)for(d=0,n=e[c].length;d<n;d++)h.event.add(b,c,e[c][d]);a.data&&(a.data=h.extend({},a.data))}}function F(a,b,c,d){b=fd.apply([],b);var n,e=0,t=a.length,f=t-1,L=b[0],q=h.isFunction(L);if(q||1<t&&"string"===typeof L&&!H.checkClone&&gd.test(L))return a.each(function(n){var e=a.eq(n);q&&(b[0]=L.call(this,n,e.html()));F(e,b,c,d)});if(t){var g=M(b,a[0].ownerDocument,!1,a,d);var k=g.firstChild;1===g.childNodes.length&&(g=k);if(k||d){var m=h.map(D(g,"script"),X);for(n=m.length;e<t;e++)k=g,e!==f&&(k=h.clone(k,
!0,!0),n&&h.merge(m,D(k,"script"))),c.call(a[e],k,e);if(n)for(g=m[m.length-1].ownerDocument,h.map(m,T),e=0;e<n;e++)k=m[e],dd.test(k.type||"")&&!h._data(k,"globalEval")&&h.contains(g,k)&&(k.src?h._evalUrl&&h._evalUrl(k.src):h.globalEval((k.text||k.textContent||k.innerHTML||"").replace(hd,"")));g=k=null}}return a}function I(a,b,c){for(var n=b?h.filter(b,a):a,d=0;null!=(b=n[d]);d++)c||1!==b.nodeType||h.cleanData(D(b)),b.parentNode&&(c&&h.contains(b.ownerDocument,b)&&y(D(b,"script")),b.parentNode.removeChild(b));
return a}function R(a,b){a=h(b.createElement(a)).appendTo(b.body);b=h.css(a[0],"display");a.detach();return b}function W(a){var b=J,c=id[a];c||(c=R(a,b),"none"!==c&&c||(Yb=(Yb||h("\x3ciframe frameborder\x3d'0' width\x3d'0' height\x3d'0'/\x3e")).appendTo(b.documentElement),b=(Yb[0].contentWindow||Yb[0].contentDocument).document,b.write(),b.close(),c=R(a,b),Yb.detach()),id[a]=c);return c}function S(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function ia(a){if(a in
Ye)return a;for(var b=a.charAt(0).toUpperCase()+a.slice(1),c=Pa.length;c--;)if(a=Pa[c]+b,a in Ye)return a}function ka(a,b){for(var c,n,d,e=[],t=0,f=a.length;t<f;t++)n=a[t],n.style&&(e[t]=h._data(n,"olddisplay"),c=n.style.display,b?(e[t]||"none"!==c||(n.style.display=""),""===n.style.display&&Zb(n)&&(e[t]=h._data(n,"olddisplay",W(n.nodeName)))):(d=Zb(n),(c&&"none"!==c||!d)&&h._data(n,"olddisplay",d?c:h.css(n,"display"))));for(t=0;t<f;t++)n=a[t],!n.style||b&&"none"!==n.style.display&&""!==n.style.display||
(n.style.display=b?e[t]||"":"none");return a}function ca(a,b,c){return(a=zg.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function fa(a,b,c,d,e){b=c===(d?"border":"content")?4:"width"===b?1:0;for(var n=0;4>b;b+=2)"margin"===c&&(n+=h.css(a,c+wb[b],!0,e)),d?("content"===c&&(n-=h.css(a,"padding"+wb[b],!0,e)),"margin"!==c&&(n-=h.css(a,"border"+wb[b]+"Width",!0,e))):(n+=h.css(a,"padding"+wb[b],!0,e),"padding"!==c&&(n+=h.css(a,"border"+wb[b]+"Width",!0,e)));return n}function O(a,b,c){var n=!0,d="width"===
b?a.offsetWidth:a.offsetHeight,e=p(a),t=H.boxSizing&&"border-box"===h.css(a,"boxSizing",!1,e);if(0>=d||null==d){d=Ja(a,b,e);if(0>d||null==d)d=a.style[b];if(Ya.test(d))return d;n=t&&(H.boxSizingReliable()||d===a.style[b]);d=parseFloat(d)||0}return d+fa(a,b,c||(t?"border":"content"),n,e)+"px"}function da(a,b,c,d,e){return new da.prototype.init(a,b,c,d,e)}function q(){b.setTimeout(function(){xb=void 0});return xb=h.now()}function G(a,b){var c={height:a},n=0;for(b=b?1:0;4>n;n+=2-b){var d=wb[n];c["margin"+
d]=c["padding"+d]=a}b&&(c.opacity=c.width=a);return c}function r(a,b,c){for(var n,d=(na.tweeners[b]||[]).concat(na.tweeners["*"]),e=0,t=d.length;e<t;e++)if(n=d[e].call(c,b,a))return n}function ha(a,b){var c,n;for(c in a){var d=h.camelCase(c);var e=b[d];var t=a[c];h.isArray(t)&&(e=t[1],t=a[c]=t[0]);c!==d&&(a[d]=t,delete a[c]);if((n=h.cssHooks[d])&&"expand"in n)for(c in t=n.expand(t),delete a[d],t)c in a||(a[c]=t[c],b[c]=e);else b[d]=e}}function na(a,b,c){var n,d=0,e=na.prefilters.length,t=h.Deferred().always(function(){delete f.elem}),
f=function(){if(n)return!1;var b=xb||q();b=Math.max(0,g.startTime+g.duration-b);for(var c=1-(b/g.duration||0),d=0,e=g.tweens.length;d<e;d++)g.tweens[d].run(c);t.notifyWith(a,[g,c,b]);if(1>c&&e)return b;t.resolveWith(a,[g]);return!1},g=t.promise({elem:a,props:h.extend({},b),opts:h.extend(!0,{specialEasing:{},easing:h.easing._default},c),originalProperties:b,originalOptions:c,startTime:xb||q(),duration:c.duration,tweens:[],createTween:function(b,c){b=h.Tween(a,g.opts,b,c,g.opts.specialEasing[b]||g.opts.easing);
g.tweens.push(b);return b},stop:function(b){var c=0,d=b?g.tweens.length:0;if(n)return this;for(n=!0;c<d;c++)g.tweens[c].run(1);b?(t.notifyWith(a,[g,1,0]),t.resolveWith(a,[g,b])):t.rejectWith(a,[g,b]);return this}});c=g.props;for(ha(c,g.opts.specialEasing);d<e;d++)if(b=na.prefilters[d].call(g,a,c,g.opts))return h.isFunction(b.stop)&&(h._queueHooks(g.elem,g.opts.queue).stop=h.proxy(b.stop,b)),b;h.map(c,r,g);h.isFunction(g.opts.start)&&g.opts.start.call(a,g);h.fx.timer(h.extend(f,{elem:a,anim:g,queue:g.opts.queue}));
return g.progress(g.opts.progress).done(g.opts.done,g.opts.complete).fail(g.opts.fail).always(g.opts.always)}function cb(a){return h.attr(a,"class")||""}function $b(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var n=0,d=b.toLowerCase().match(Ca)||[];if(h.isFunction(c))for(;b=d[n++];)"+"===b.charAt(0)?(b=b.slice(1)||"*",(a[b]=a[b]||[]).unshift(c)):(a[b]=a[b]||[]).push(c)}}function ic(a,b,c,d){function n(g){var f;e[g]=!0;h.each(a[g]||[],function(a,h){a=h(b,c,d);if("string"===typeof a&&!t&&
!e[a])return b.dataTypes.unshift(a),n(a),!1;if(t)return!(f=a)});return f}var e={},t=a===Ea;return n(b.dataTypes[0])||!e["*"]&&n("*")}function yb(a,b){var c,n,d=h.ajaxSettings.flatOptions||{};for(n in b)void 0!==b[n]&&((d[n]?a:c||(c={}))[n]=b[n]);c&&h.extend(!0,a,c);return a}function jd(a){if(!h.contains(a.ownerDocument||J,a))return!0;for(;a&&1===a.nodeType;){if("none"===(a.style&&a.style.display||h.css(a,"display"))||"hidden"===a.type)return!0;a=a.parentNode}return!1}function Qa(a,b,c,d){var n;if(h.isArray(b))h.each(b,
function(b,n){c||Ag.test(a)?d(a,n):Qa(a+"["+("object"===typeof n&&null!=n?b:"")+"]",n,c,d)});else if(c||"object"!==h.type(b))d(a,b);else for(n in b)Qa(a+"["+n+"]",b[n],c,d)}function Kc(){try{return new b.XMLHttpRequest}catch(n){}}function kd(){try{return new b.ActiveXObject("Microsoft.XMLHTTP")}catch(n){}}function ld(a){return h.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var Na=[],J=b.document,pb=Na.slice,fd=Na.concat,Lc=Na.push,jc=Na.indexOf,kc={},oa=kc.toString,sa=kc.hasOwnProperty,
H={},h=function(a,b){return new h.fn.init(a,b)},db=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Fa=/^-ms-/,Kb=/-([\da-z])/gi,ac=function(a,b){return b.toUpperCase()};h.fn=h.prototype={jquery:"1.12.4-aem",constructor:h,selector:"",length:0,toArray:function(){return pb.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:pb.call(this)},pushStack:function(a){a=h.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a){return h.each(this,a)},map:function(a){return this.pushStack(h.map(this,
function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(pb.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Lc,sort:Na.sort,splice:Na.splice};h.extend=h.fn.extend=function(){var a,b,c,d=arguments[0]||{},e=1,g=arguments.length,f=!1;"boolean"===typeof d&&(f=d,d=arguments[e]||
{},e++);"object"===typeof d||h.isFunction(d)||(d={});e===g&&(d=this,e--);for(;e<g;e++)if(null!=(c=arguments[e]))for(b in c){var q=d[b];var k=c[b];"__proto__"!==b&&d!==k&&(f&&k&&(h.isPlainObject(k)||(a=h.isArray(k)))?(a?(a=!1,q=q&&h.isArray(q)?q:[]):q=q&&h.isPlainObject(q)?q:{},d[b]=h.extend(f,q,k)):void 0!==k&&(d[b]=k))}return d};h.extend({expando:"jQuery"+("1.12.4-aem"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===
h.type(a)},isArray:Array.isArray||function(a){return"array"===h.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var b=a&&a.toString();return!h.isArray(a)&&0<=b-parseFloat(b)+1},isEmptyObject:function(a){for(var b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==h.type(a)||a.nodeType||h.isWindow(a))return!1;try{if(a.constructor&&!sa.call(a,"constructor")&&!sa.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(L){return!1}if(!H.ownFirst)for(b in a)return sa.call(a,
b);for(b in a);return void 0===b||sa.call(a,b)},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?kc[oa.call(a)]||"object":typeof a},globalEval:function(a){a&&h.trim(a)&&(b.execScript||function(a){b.eval.call(b,a)})(a)},camelCase:function(a){return a.replace(Fa,"ms-").replace(Kb,ac)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var n,d=0;if(c(a))for(n=a.length;d<n&&!1!==b.call(a[d],d,a[d]);d++);else for(d in a)if(!1===
b.call(a[d],d,a[d]))break;return a},trim:function(a){return null==a?"":(a+"").replace(db,"")},makeArray:function(a,b){b=b||[];null!=a&&(c(Object(a))?h.merge(b,"string"===typeof a?[a]:a):Lc.call(b,a));return b},inArray:function(a,b,c){if(b){if(jc)return jc.call(b,a,c);var n=b.length;for(c=c?0>c?Math.max(0,n+c):c:0;c<n;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,n=0,d=a.length;n<c;)a[d++]=b[n++];if(c!==c)for(;void 0!==b[n];)a[d++]=b[n++];a.length=d;return a},grep:function(a,
b,c){for(var n=[],d=0,e=a.length,t=!c;d<e;d++)c=!b(a[d],d),c!==t&&n.push(a[d]);return n},map:function(a,b,d){var n,e=0,t=[];if(c(a))for(n=a.length;e<n;e++){var h=b(a[e],e,d);null!=h&&t.push(h)}else for(e in a)h=b(a[e],e,d),null!=h&&t.push(h);return fd.apply([],t)},guid:1,proxy:function(a,b){if("string"===typeof b){var c=a[b];b=a;a=c}if(h.isFunction(a)){var d=pb.call(arguments,2);c=function(){return a.apply(b||this,d.concat(pb.call(arguments)))};c.guid=a.guid=a.guid||h.guid++;return c}},now:function(){return+new Date},
support:H});$jscomp.initSymbol();"function"===typeof Symbol&&($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.initSymbol(),$jscomp.initSymbolIterator(),h.fn[Symbol.iterator]=Na[Symbol.iterator]);h.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){kc["[object "+b+"]"]=b.toLowerCase()});var sb=function(a){function b(a,b,c,d){var n,e,t,h,g=b&&b.ownerDocument,f=b?b.nodeType:9;c=c||[];if("string"!==typeof a||!a||1!==f&&9!==f&&11!==f)return c;
if(!d&&((b?b.ownerDocument||b:na)!==F&&Qa(b),b=b||F,M)){if(11!==f&&(h=X.exec(a)))if(n=h[1])if(9===f)if(e=b.getElementById(n)){if(e.id===n)return c.push(e),c}else return c;else{if(g&&(e=g.getElementById(n))&&D(b,e)&&e.id===n)return c.push(e),c}else{if(h[2])return eb.apply(c,b.getElementsByTagName(a)),c;if((n=h[3])&&N.getElementsByClassName&&b.getElementsByClassName)return eb.apply(c,b.getElementsByClassName(n)),c}if(!(!N.qsa||Qb[a+" "]||ha&&ha.test(a))){if(1!==f){g=b;var q=a}else if("object"!==b.nodeName.toLowerCase()){(t=
b.getAttribute("id"))?t=t.replace(yb,"\\$\x26"):b.setAttribute("id",t=Z);h=aa(a);n=h.length;for(e=$b.test(t)?"#"+t:"[id\x3d'"+t+"']";n--;)h[n]=e+" "+l(h[n]);q=h.join(",");g=va.test(a)&&k(b.parentNode)||b}if(q)try{return eb.apply(c,g.querySelectorAll(q)),c}catch(U){}finally{t===Z&&b.removeAttribute("id")}}}return Pc(a.replace(Cb,"$1"),b,c,d)}function c(){function a(c,d){b.push(c+" ")>la.cacheLength&&delete a[b.shift()];return a[c+" "]=d}var b=[];return a}function d(a){a[Z]=!0;return a}function n(a){var b=
F.createElement("div");try{return!!a(b)}catch(de){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function e(a,b){a=a.split("|");for(var c=a.length;c--;)la.attrHandle[a[c]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function g(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function f(a){return function(b){var c=
b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function q(a){return d(function(b){b=+b;return d(function(c,d){for(var n,e=a([],c.length,b),t=e.length;t--;)c[n=e[t]]&&(c[n]=!(d[n]=c[n]))})})}function k(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function m(){}function l(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function r(a,b,c){var d=b.dir,n=c&&"parentNode"===d,e=R++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||n)return a(b,
c,e)}:function(b,c,t){var h,g=[Q,e];if(t)for(;b=b[d];){if((1===b.nodeType||n)&&a(b,c,t))return!0}else for(;b=b[d];)if(1===b.nodeType||n){var f=b[Z]||(b[Z]={});f=f[b.uniqueID]||(f[b.uniqueID]={});if((h=f[d])&&h[0]===Q&&h[1]===e)return g[2]=h[2];f[d]=g;if(g[2]=a(b,c,t))return!0}}}function u(a){return 1<a.length?function(b,c,d){for(var n=a.length;n--;)if(!a[n](b,c,d))return!1;return!0}:a[0]}function w(a,b,c,d,n){for(var e,t=[],h=0,g=a.length,f=null!=b;h<g;h++)if(e=a[h])if(!c||c(e,d,n))t.push(e),f&&b.push(h);
return t}function y(a,c,n,e,t,h){e&&!e[Z]&&(e=y(e));t&&!t[Z]&&(t=y(t,h));return d(function(d,h,g,f){var q,k=[],m=[],L=h.length,l;if(!(l=d)){l=c||"*";for(var r=g.nodeType?[g]:g,u=[],y=0,G=r.length;y<G;y++)b(l,r[y],u);l=u}l=!a||!d&&c?l:w(l,k,a,g,f);r=n?t||(d?a:L||e)?[]:h:l;n&&n(l,r,g,f);if(e){var ta=w(r,m);e(ta,[],g,f);for(g=ta.length;g--;)if(q=ta[g])r[m[g]]=!(l[m[g]]=q)}if(d){if(t||a){if(t){ta=[];for(g=r.length;g--;)(q=r[g])&&ta.push(l[g]=q);t(null,r=[],ta,f)}for(g=r.length;g--;)(q=r[g])&&-1<(ta=t?
K(d,q):k[g])&&(d[ta]=!(h[ta]=q))}}else r=w(r===h?r.splice(L,r.length):r),t?t(null,h,r,f):eb.apply(h,r)})}function G(a){var b,c,d=a.length,n=la.relative[a[0].type];var e=n||la.relative[" "];for(var t=n?1:0,h=r(function(a){return a===b},e,!0),g=r(function(a){return-1<K(b,a)},e,!0),f=[function(a,c,d){a=!n&&(d||c!==B)||((b=c).nodeType?h(a,c,d):g(a,c,d));b=null;return a}];t<d;t++)if(e=la.relative[a[t].type])f=[r(u(f),e)];else{e=la.filter[a[t].type].apply(null,a[t].matches);if(e[Z]){for(c=++t;c<d&&!la.relative[a[c].type];c++);
return y(1<t&&u(f),1<t&&l(a.slice(0,t-1).concat({value:" "===a[t-2].type?"*":""})).replace(Cb,"$1"),e,t<c&&G(a.slice(t,c)),c<d&&G(a=a.slice(c)),c<d&&l(a))}f.push(e)}return u(f)}function O(a,c){var n=0<c.length,e=0<a.length,t=function(d,t,h,g,f){var q,k,m=0,l="0",L=d&&[],r=[],u=B,y=d||e&&la.find.TAG("*",f),ta=Q+=null==u?1:Math.random()||.1,G=y.length;for(f&&(B=t===F||t||f);l!==G&&null!=(q=y[l]);l++){if(e&&q){var O=0;t||q.ownerDocument===F||(Qa(q),h=!M);for(;k=a[O++];)if(k(q,t||F,h)){g.push(q);break}f&&
(Q=ta)}n&&((q=!k&&q)&&m--,d&&L.push(q))}m+=l;if(n&&l!==m){for(O=0;k=c[O++];)k(L,r,t,h);if(d){if(0<m)for(;l--;)L[l]||r[l]||(r[l]=Oc.call(g));r=w(r)}eb.apply(g,r);f&&!d&&0<r.length&&1<m+c.length&&b.uniqueSort(g)}f&&(Q=ta,B=u);return L};return n?d(t):t}var p,B,A,E,F,x,M,ha,da,I,D,Z="sizzle"+1*new Date,na=a.document,Q=0,R=0,C=c(),cb=c(),Qb=c(),W=function(a,b){a===b&&(E=!0);return 0},Ob={}.hasOwnProperty,lb=[],Oc=lb.pop,Fb=lb.push,eb=lb.push,S=lb.slice,K=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===
b)return c;return-1},ic=/[\x20\t\r\n\f]+/g,Cb=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ia=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,J=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,H=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,ma=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
$b=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ka={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Ca=/^(?:input|select|textarea|button)$/i,T=/^h\d$/i,ca=/^[^{]+\{\s*\[native \w/,
X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,va=/[+~]/,yb=/'|\\/g,V=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,Ja=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)},Y=function(){Qa()};try{eb.apply(lb=S.call(na.childNodes),na.childNodes),lb[na.childNodes.length].nodeType}catch(qb){eb={apply:lb.length?function(a,b){Fb.apply(a,S.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}var N=b.support=
{};var fa=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};var Qa=b.setDocument=function(a){var b;a=a?a.ownerDocument||a:na;if(a===F||9!==a.nodeType||!a.documentElement)return F;F=a;x=F.documentElement;M=!fa(F);(b=F.defaultView)&&b.top!==b&&(b.addEventListener?b.addEventListener("unload",Y,!1):b.attachEvent&&b.attachEvent("onunload",Y));N.attributes=n(function(a){a.className="i";return!a.getAttribute("className")});N.getElementsByTagName=n(function(a){a.appendChild(F.createComment(""));
return!a.getElementsByTagName("*").length});N.getElementsByClassName=ca.test(F.getElementsByClassName);N.getById=n(function(a){x.appendChild(a).id=Z;return!F.getElementsByName||!F.getElementsByName(Z).length});N.getById?(la.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&M)return(a=b.getElementById(a))?[a]:[]},la.filter.ID=function(a){var b=a.replace(V,Ja);return function(a){return a.getAttribute("id")===b}}):(delete la.find.ID,la.filter.ID=function(a){var b=a.replace(V,Ja);return function(a){return(a=
"undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});la.find.TAG=N.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a);if(N.qsa)return b.querySelectorAll(a)}:function(a,b){var c=[],d=0;b=b.getElementsByTagName(a);if("*"===a){for(;a=b[d++];)1===a.nodeType&&c.push(a);return c}return b};la.find.CLASS=N.getElementsByClassName&&function(a,b){if("undefined"!==typeof b.getElementsByClassName&&M)return b.getElementsByClassName(a)};
da=[];ha=[];if(N.qsa=ca.test(F.querySelectorAll))n(function(a){x.appendChild(a).innerHTML="\x3ca id\x3d'"+Z+"'\x3e\x3c/a\x3e\x3cselect id\x3d'"+Z+"-\r\\' msallowcapture\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";a.querySelectorAll("[msallowcapture^\x3d'']").length&&ha.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||ha.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~\x3d"+Z+"-]").length||ha.push("~\x3d");a.querySelectorAll(":checked").length||ha.push(":checked");a.querySelectorAll("a#"+Z+"+*").length||ha.push(".#.+[+~]")}),n(function(a){var b=F.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name\x3dd]").length&&ha.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");a.querySelectorAll(":enabled").length||ha.push(":enabled",":disabled");a.querySelectorAll("*,:x");ha.push(",.*:")});
(N.matchesSelector=ca.test(I=x.matches||x.webkitMatchesSelector||x.mozMatchesSelector||x.oMatchesSelector||x.msMatchesSelector))&&n(function(a){N.disconnectedMatch=I.call(a,"div");I.call(a,"[s!\x3d'']:x");da.push("!\x3d",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
ha=ha.length&&new RegExp(ha.join("|"));da=da.length&&new RegExp(da.join("|"));D=(b=ca.test(x.compareDocumentPosition))||ca.test(x.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a;b=b&&b.parentNode;return a===b||!!(b&&1===b.nodeType&&(c.contains?c.contains(b):a.compareDocumentPosition&&a.compareDocumentPosition(b)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};W=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;
if(c)return c;c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;return c&1||!N.sortDetached&&b.compareDocumentPosition(a)===c?a===F||a.ownerDocument===na&&D(na,a)?-1:b===F||b.ownerDocument===na&&D(na,b)?1:A?K(A,a)-K(A,b):0:c&4?-1:1}:function(a,b){if(a===b)return E=!0,0;var c=0,d=a.parentNode,n=b.parentNode,e=[a],t=[b];if(!d||!n)return a===F?-1:b===F?1:d?-1:n?1:A?K(A,a)-K(A,b):0;if(d===n)return h(a,b);for(;a=a.parentNode;)e.unshift(a);for(a=b;a=a.parentNode;)t.unshift(a);
for(;e[c]===t[c];)c++;return c?h(e[c],t[c]):e[c]===na?-1:t[c]===na?1:0};return F};b.matches=function(a,c){return b(a,null,null,c)};b.matchesSelector=function(a,c){(a.ownerDocument||a)!==F&&Qa(a);c=c.replace(H,"\x3d'$1']");if(!(!N.matchesSelector||!M||Qb[c+" "]||da&&da.test(c)||ha&&ha.test(c)))try{var d=I.call(a,c);if(d||N.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch($e){}return 0<b(c,F,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==F&&Qa(a);return D(a,
b)};b.attr=function(a,b){(a.ownerDocument||a)!==F&&Qa(a);var c=la.attrHandle[b.toLowerCase()];c=c&&Ob.call(la.attrHandle,b.toLowerCase())?c(a,b,!M):void 0;return void 0!==c?c:N.attributes||!M?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,c=[],d=0,n=0;E=!N.detectDuplicates;A=!N.sortStable&&a.slice(0);a.sort(W);if(E){for(;b=a[n++];)b===a[n]&&(d=c.push(n));for(;d--;)a.splice(c[d],
1)}A=null;return a};var Na=b.getText=function(a){var b="",c=0;var d=a.nodeType;if(!d)for(;d=a[c++];)b+=Na(d);else if(1===d||9===d||11===d){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=Na(a)}else if(3===d||4===d)return a.nodeValue;return b};var la=b.selectors={cacheLength:50,createPseudo:d,match:ka,attrHandle:{},find:{},relative:{"\x3e":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(a){a[1]=a[1].replace(V,Ja);a[3]=(a[3]||a[4]||a[5]||"").replace(V,Ja);"~\x3d"===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(ka.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":c&&ma.test(c)&&(b=aa(c,!0))&&(b=c.indexOf(")",
c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(V,Ja).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=C[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),C(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,
c,d){return function(n){n=b.attr(n,a);if(null==n)return"!\x3d"===c;if(!c)return!0;n+="";return"\x3d"===c?n===d:"!\x3d"===c?n!==d:"^\x3d"===c?d&&0===n.indexOf(d):"*\x3d"===c?d&&-1<n.indexOf(d):"$\x3d"===c?d&&n.slice(-d.length)===d:"~\x3d"===c?-1<(" "+n.replace(ic," ")+" ").indexOf(d):"|\x3d"===c?n===d||n.slice(0,d.length+1)===d+"-":!1}},CHILD:function(a,b,c,d,n){var e="nth"!==a.slice(0,3),t="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===n?function(a){return!!a.parentNode}:function(b,c,g){var f,
q;c=e!==t?"nextSibling":"previousSibling";var k=b.parentNode,m=h&&b.nodeName.toLowerCase();g=!g&&!h;var l=!1;if(k){if(e){for(;c;){for(f=b;f=f[c];)if(h?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;var L=c="only"===a&&!L&&"nextSibling"}return!0}L=[t?k.firstChild:k.lastChild];if(t&&g){f=k;var r=f[Z]||(f[Z]={});r=r[f.uniqueID]||(r[f.uniqueID]={});l=r[a]||[];l=(q=l[0]===Q&&l[1])&&l[2];for(f=q&&k.childNodes[q];f=++q&&f&&f[c]||(l=q=0)||L.pop();)if(1===f.nodeType&&++l&&f===b){r[a]=[Q,q,l];break}}else if(g&&
(f=b,r=f[Z]||(f[Z]={}),r=r[f.uniqueID]||(r[f.uniqueID]={}),l=r[a]||[],l=q=l[0]===Q&&l[1]),!1===l)for(;(f=++q&&f&&f[c]||(l=q=0)||L.pop())&&((h?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++l||(g&&(r=f[Z]||(f[Z]={}),r=r[f.uniqueID]||(r[f.uniqueID]={}),r[a]=[Q,l]),f!==b)););l-=n;return l===d||0===l%d&&0<=l/d}}},PSEUDO:function(a,c){var n=la.pseudos[a]||la.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);if(n[Z])return n(c);if(1<n.length){var e=[a,a,"",c];return la.setFilters.hasOwnProperty(a.toLowerCase())?
d(function(a,b){for(var d,e=n(a,c),t=e.length;t--;)d=K(a,e[t]),a[d]=!(b[d]=e[t])}):function(a){return n(a,0,e)}}return n}},pseudos:{not:d(function(a){var b=[],c=[],n=pc(a.replace(Cb,"$1"));return n[Z]?d(function(a,b,c,d){d=n(a,null,d,[]);for(var e=a.length;e--;)if(c=d[e])a[e]=!(b[e]=c)}):function(a,d,e){b[0]=a;n(b,null,e,c);b[0]=null;return!c.pop()}}),has:d(function(a){return function(c){return 0<b(a,c).length}}),contains:d(function(a){a=a.replace(V,Ja);return function(b){return-1<(b.textContent||
b.innerText||Na(b)).indexOf(a)}}),lang:d(function(a){$b.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(V,Ja).toLowerCase();return function(b){var c;do if(c=M?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===x},focus:function(a){return a===F.activeElement&&(!F.hasFocus||
F.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!la.pseudos.empty(a)},header:function(a){return T.test(a.nodeName)},
input:function(a){return Ca.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:q(function(){return[0]}),last:q(function(a,b){return[b-1]}),eq:q(function(a,b,c){return[0>c?c+b:c]}),even:q(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:q(function(a,b){for(var c=1;c<b;c+=
2)a.push(c);return a}),lt:q(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:q(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};la.pseudos.nth=la.pseudos.eq;for(p in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})la.pseudos[p]=g(p);for(p in{submit:!0,reset:!0})la.pseudos[p]=f(p);m.prototype=la.filters=la.pseudos;la.setFilters=new m;var aa=b.tokenize=function(a,c){var d,n,e,t,f;if(t=cb[a+" "])return c?0:t.slice(0);t=a;var h=[];for(f=la.preFilter;t;){if(!g||(d=ia.exec(t)))d&&
(t=t.slice(d[0].length)||t),h.push(n=[]);var g=!1;if(d=J.exec(t))g=d.shift(),n.push({value:g,type:d[0].replace(Cb," ")}),t=t.slice(g.length);for(e in la.filter)!(d=ka[e].exec(t))||f[e]&&!(d=f[e](d))||(g=d.shift(),n.push({value:g,type:e,matches:d}),t=t.slice(g.length));if(!g)break}return c?t.length:t?b.error(a):cb(a,h).slice(0)};var pc=b.compile=function(a,b){var c,d=[],n=[],e=Qb[a+" "];if(!e){b||(b=aa(a));for(c=b.length;c--;)e=G(b[c]),e[Z]?d.push(e):n.push(e);e=Qb(a,O(n,d));e.selector=a}return e};
var Pc=b.select=function(a,b,c,d){var n,e,t,f="function"===typeof a&&a,h=!d&&aa(a=f.selector||a);c=c||[];if(1===h.length){var g=h[0]=h[0].slice(0);if(2<g.length&&"ID"===(e=g[0]).type&&N.getById&&9===b.nodeType&&M&&la.relative[g[1].type]){b=(la.find.ID(e.matches[0].replace(V,Ja),b)||[])[0];if(!b)return c;f&&(b=b.parentNode);a=a.slice(g.shift().value.length)}for(n=ka.needsContext.test(a)?0:g.length;n--;){e=g[n];if(la.relative[t=e.type])break;if(t=la.find[t])if(d=t(e.matches[0].replace(V,Ja),va.test(g[0].type)&&
k(b.parentNode)||b)){g.splice(n,1);a=d.length&&l(g);if(!a)return eb.apply(c,d),c;break}}}(f||pc(a,h))(d,b,!M,c,!b||va.test(a)&&k(b.parentNode)||b);return c};N.sortStable=Z.split("").sort(W).join("")===Z;N.detectDuplicates=!!E;Qa();N.sortDetached=n(function(a){return a.compareDocumentPosition(F.createElement("div"))&1});n(function(a){a.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e";return"#"===a.firstChild.getAttribute("href")})||e("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,
"type"===b.toLowerCase()?1:2)});N.attributes&&n(function(a){a.innerHTML="\x3cinput/\x3e";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||e("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});n(function(a){return null==a.getAttribute("disabled")})||e("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():
(d=a.getAttributeNode(b))&&d.specified?d.value:null});return b}(b);h.find=sb;h.expr=sb.selectors;h.expr[":"]=h.expr.pseudos;h.uniqueSort=h.unique=sb.uniqueSort;h.text=sb.getText;h.isXMLDoc=sb.isXML;h.contains=sb.contains;var kb=function(a,b,c){for(var d=[],n=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(n&&h(a).is(c))break;d.push(a)}return d},Bb=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},cc=h.expr.match.needsContext,N=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,
Z=/^.[^:#\[\.,]*$/;h.filter=function(a,b,c){var d=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===d.nodeType?h.find.matchesSelector(d,a)?[d]:[]:h.find.matches(a,h.grep(b,function(a){return 1===a.nodeType}))};h.fn.extend({find:function(a){var b,c=[],d=this,n=d.length;if("string"!==typeof a)return this.pushStack(h(a).filter(function(){for(b=0;b<n;b++)if(h.contains(d[b],this))return!0}));for(b=0;b<n;b++)h.find(a,d[b],c);c=this.pushStack(1<n?h.unique(c):c);c.selector=this.selector?this.selector+" "+
a:a;return c},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"===typeof a&&cc.test(a)?h(a):a||[],!1).length}});var eb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(h.fn.init=function(a,b,c){if(!a)return this;c=c||Cb;if("string"===typeof a){var d="\x3c"===a.charAt(0)&&"\x3e"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:eb.exec(a);if(!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);
if(d[1]){if(b=b instanceof h?b[0]:b,h.merge(this,h.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:J,!0)),N.test(d[1])&&h.isPlainObject(b))for(d in b)if(h.isFunction(this[d]))this[d](b[d]);else this.attr(d,b[d])}else{if((b=J.getElementById(d[2]))&&b.parentNode){if(b.id!==d[2])return Cb.find(a);this.length=1;this[0]=b}this.context=J;this.selector=a}return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(h.isFunction(a))return"undefined"!==typeof c.ready?c.ready(a):a(h);void 0!==
a.selector&&(this.selector=a.selector,this.context=a.context);return h.makeArray(a,this)}).prototype=h.fn;var Cb=h(J);var Ob=/^(?:parents|prev(?:Until|All))/,Oc={children:!0,contents:!0,next:!0,prev:!0};h.fn.extend({has:function(a){var b,c=h(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(h.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,n=this.length,e=[],t=cc.test(a)||"string"!==typeof a?h(a,b||this.context):0;d<n;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(11>
c.nodeType&&(t?-1<t.index(c):1===c.nodeType&&h.find.matchesSelector(c,a))){e.push(c);break}return this.pushStack(1<e.length?h.uniqueSort(e):e)},index:function(a){return a?"string"===typeof a?h.inArray(this[0],h(a)):h.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(h.uniqueSort(h.merge(this.get(),h(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});h.each({parent:function(a){return(a=
a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return kb(a,"parentNode")},parentsUntil:function(a,b,c){return kb(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return kb(a,"nextSibling")},prevAll:function(a){return kb(a,"previousSibling")},nextUntil:function(a,b,c){return kb(a,"nextSibling",c)},prevUntil:function(a,b,c){return kb(a,"previousSibling",c)},siblings:function(a){return Bb((a.parentNode||{}).firstChild,
a)},children:function(a){return Bb(a.firstChild)},contents:function(a){return h.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:h.merge([],a.childNodes)}},function(a,b){h.fn[a]=function(c,d){var e=h.map(this,b,c);"Until"!==a.slice(-5)&&(d=c);d&&"string"===typeof d&&(e=h.filter(d,e));1<this.length&&(Oc[a]||(e=h.uniqueSort(e)),Ob.test(a)&&(e=e.reverse()));return this.pushStack(e)}});var Ca=/\S+/g;h.Callbacks=function(a){a="string"===typeof a?g(a):h.extend({},a);var b,c,d,e,n=[],f=[],
q=-1,k=function(){e=a.once;for(d=b=!0;f.length;q=-1)for(c=f.shift();++q<n.length;)!1===n[q].apply(c[0],c[1])&&a.stopOnFalse&&(q=n.length,c=!1);a.memory||(c=!1);b=!1;e&&(n=c?[]:"")},m={add:function(){n&&(c&&!b&&(q=n.length-1,f.push(c)),function Xb(b){h.each(b,function(b,c){h.isFunction(c)?a.unique&&m.has(c)||n.push(c):c&&c.length&&"string"!==h.type(c)&&Xb(c)})}(arguments),c&&!b&&k());return this},remove:function(){h.each(arguments,function(a,b){for(var c;-1<(c=h.inArray(b,n,c));)n.splice(c,1),c<=q&&
q--});return this},has:function(a){return a?-1<h.inArray(a,n):0<n.length},empty:function(){n&&(n=[]);return this},disable:function(){e=f=[];n=c="";return this},disabled:function(){return!n},lock:function(){e=!0;c||m.disable();return this},locked:function(){return!!e},fireWith:function(a,c){e||(c=c||[],c=[a,c.slice?c.slice():c],f.push(c),b||k());return this},fire:function(){m.fireWith(this,arguments);return this},fired:function(){return!!d}};return m};h.extend({Deferred:function(a){var b=[["resolve",
"done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return h.Deferred(function(c){h.each(b,function(b,n){var t=h.isFunction(a[b])&&a[b];e[n[1]](function(){var a=t&&t.apply(this,arguments);if(a&&h.isFunction(a.promise))a.promise().progress(c.notify).done(c.resolve).fail(c.reject);
else c[n[0]+"With"](this===d?c.promise():this,t?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?h.extend(a,d):d}},e={};d.pipe=d.then;h.each(b,function(a,n){var t=n[2],f=n[3];d[n[1]]=t.add;f&&t.add(function(){c=f},b[a^1][2].disable,b[2][2].lock);e[n[0]]=function(){e[n[0]+"With"](this===e?d:this,arguments);return this};e[n[0]+"With"]=t.fireWith});d.promise(e);a&&a.call(e,e);return e},when:function(a){var b=0,c=pb.call(arguments),d=c.length,e=1!==d||a&&h.isFunction(a.promise)?
d:0,n=1===e?a:h.Deferred(),f=function(a,b,c){return function(d){b[a]=this;c[a]=1<arguments.length?pb.call(arguments):d;c===q?n.notifyWith(b,c):--e||n.resolveWith(b,c)}},g;if(1<d){var q=Array(d);var k=Array(d);for(g=Array(d);b<d;b++)c[b]&&h.isFunction(c[b].promise)?c[b].promise().progress(f(b,k,q)).done(f(b,g,c)).fail(n.reject):--e}e||n.resolveWith(g,c);return n.promise()}});var va;h.fn.ready=function(a){h.ready.promise().done(a);return this};h.extend({isReady:!1,readyWait:1,holdReady:function(a){a?
h.readyWait++:h.ready(!0)},ready:function(a){(!0===a?--h.readyWait:h.isReady)||(h.isReady=!0,!0!==a&&0<--h.readyWait||(va.resolveWith(J,[h]),h.fn.triggerHandler&&(h(J).triggerHandler("ready"),h(J).off("ready"))))}});h.ready.promise=function(a){if(!va)if(va=h.Deferred(),"complete"===J.readyState||"loading"!==J.readyState&&!J.documentElement.doScroll)b.setTimeout(h.ready);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",f),b.addEventListener("load",f);else{J.attachEvent("onreadystatechange",
f);b.attachEvent("onload",f);var c=!1;try{c=null==b.frameElement&&J.documentElement}catch(L){}c&&c.doScroll&&function ta(){if(!h.isReady){try{c.doScroll("left")}catch($d){return b.setTimeout(ta,50)}k();h.ready()}}()}return va.promise(a)};h.ready.promise();for(var Pc in h(H))break;H.ownFirst="0"===Pc;H.inlineBlockNeedsLayout=!1;h(function(){var a;if((a=J.getElementsByTagName("body")[0])&&a.style){var b=J.createElement("div");var c=J.createElement("div");c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";
a.appendChild(c).appendChild(b);"undefined"!==typeof b.style.zoom&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",H.inlineBlockNeedsLayout=b=3===b.offsetWidth)&&(a.style.zoom=1);a.removeChild(c)}});(function(){var a=J.createElement("div");H.deleteExpando=!0;try{delete a.test}catch(t){H.deleteExpando=!1}})();var Wb=function(a){var b=h.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||!0!==b&&a.getAttribute("classid")===b},Xa=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
ae=/([A-Z])/g;h.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?h.cache[a[h.expando]]:a[h.expando];return!!a&&!w(a)},data:function(a,b,c){return m(a,b,c)},removeData:function(a,b){return u(a,b)},_data:function(a,b,c){return m(a,b,c,!0)},_removeData:function(a,b){return u(a,b,!0)}});h.fn.extend({data:function(a,b){var c,d=this[0],e=d&&d.attributes;if(void 0===a){if(this.length){var n=h.data(d);if(1===d.nodeType&&
!h._data(d,"parsedAttrs")){for(c=e.length;c--;)if(e[c]){var f=e[c].name;0===f.indexOf("data-")&&(f=h.camelCase(f.slice(5)),l(d,f,n[f]))}h._data(d,"parsedAttrs",!0)}}return n}return"object"===typeof a?this.each(function(){h.data(this,a)}):1<arguments.length?this.each(function(){h.data(this,a,b)}):d?l(d,a,h.data(d,a)):void 0},removeData:function(a){return this.each(function(){h.removeData(this,a)})}});h.extend({queue:function(a,b,c){if(a){b=(b||"fx")+"queue";var d=h._data(a,b);c&&(!d||h.isArray(c)?
d=h._data(a,b,h.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=h.queue(a,b),d=c.length,e=c.shift(),n=h._queueHooks(a,b),f=function(){h.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--);e&&("fx"===b&&c.unshift("inprogress"),delete n.stop,e.call(a,f,n));!d&&n&&n.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return h._data(a,c)||h._data(a,c,{empty:h.Callbacks("once memory").add(function(){h._removeData(a,b+"queue");h._removeData(a,c)})})}});h.fn.extend({queue:function(a,
b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?h.queue(this[0],a):void 0===b?this:this.each(function(){var c=h.queue(this,a,b);h._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&h.dequeue(this,a)})},dequeue:function(a){return this.each(function(){h.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=h.Deferred(),n=this,f=this.length,g=function(){--d||e.resolveWith(n,[n])};"string"!==typeof a&&(b=a,a=void 0);for(a=
a||"fx";f--;)(c=h._data(n[f],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(g));g();return e.promise(b)}});(function(){var a;H.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b;if((b=J.getElementsByTagName("body")[0])&&b.style){var c=J.createElement("div");var d=J.createElement("div");d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";b.appendChild(d).appendChild(c);"undefined"!==typeof c.style.zoom&&(c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
c.appendChild(J.createElement("div")).style.width="5px",a=3!==c.offsetWidth);b.removeChild(d);return a}}})();var tb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Hc=new RegExp("^(?:([+-])\x3d|)("+tb+")([a-z%]*)$","i"),wb=["Top","Right","Bottom","Left"],Zb=function(a,b){a=b||a;return"none"===h.css(a,"display")||!h.contains(a.ownerDocument,a)},aa=function(a,b,c,d,e,f,g){var n=0,q=a.length,t=null==c;if("object"===h.type(c))for(n in e=!0,c)aa(a,b,n,c[n],!0,f,g);else if(void 0!==d&&(e=!0,h.isFunction(d)||
(g=!0),t&&(g?(b.call(a,d),b=null):(t=b,b=function(a,b,c){return t.call(h(a),c)})),b))for(;n<q;n++)b(a[n],c,g?d:d.call(a[n],n,b(a[n],c)));return e?a:t?b.call(a):q?b(a[0],c):f},pa=/^(?:checkbox|radio)$/i,hc=/<([\w:-]+)/,dd=/^$|\/(?:java|ecma)script/i,Jc=/^\s+/;(function(){var a=J.createElement("div"),b=J.createDocumentFragment(),c=J.createElement("input");a.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";H.leadingWhitespace=3===
a.firstChild.nodeType;H.tbody=!a.getElementsByTagName("tbody").length;H.htmlSerialize=!!a.getElementsByTagName("link").length;H.html5Clone="\x3c:nav\x3e\x3c/:nav\x3e"!==J.createElement("nav").cloneNode(!0).outerHTML;c.type="checkbox";c.checked=!0;b.appendChild(c);H.appendChecked=c.checked;a.innerHTML="\x3ctextarea\x3ex\x3c/textarea\x3e";H.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue;a.innerHTML="\x3coption\x3e\x3c/option\x3e";H.option=!!a.lastChild;b.appendChild(a);c=J.createElement("input");
c.setAttribute("type","radio");c.setAttribute("checked","checked");c.setAttribute("name","t");a.appendChild(c);H.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;H.noCloneEvent=!!a.addEventListener;a[h.expando]=1;H.attributes=!a.getAttribute(h.expando)})();var ua={legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],area:[1,"\x3cmap\x3e","\x3c/map\x3e"],param:[1,"\x3cobject\x3e","\x3c/object\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],
col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],_default:H.htmlSerialize?[0,"",""]:[1,"X\x3cdiv\x3e","\x3c/div\x3e"]};ua.tbody=ua.tfoot=ua.colgroup=ua.caption=ua.thead;ua.th=ua.td;H.option||(ua.optgroup=ua.option=[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"]);var Ic=/<|&#?\w+;/,Aa=/<tbody/i;(function(){var a,c=J.createElement("div");for(a in{submit:!0,
change:!0,focusin:!0}){var d="on"+a;(H[a]=d in b)||(c.setAttribute(d,"t"),H[a]=!1===c.attributes[d].expando)}})();var Db=/^(?:input|select|textarea)$/i,fb=/^key/,ud=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Pb=/^(?:focusinfocus|focusoutblur)$/,wa=/^([^.]*)(?:\.(.+)|)/;h.event={global:{},add:function(a,b,c,d,e){var n,f,g,q,t;if(f=h._data(a)){if(c.handler){var k=c;c=k.handler;e=k.selector}c.guid||(c.guid=h.guid++);(n=f.events)||(n=f.events={});(g=f.handle)||(g=f.handle=function(a){return"undefined"===
typeof h||a&&h.event.triggered===a.type?void 0:h.event.dispatch.apply(g.elem,arguments)},g.elem=a);b=(b||"").match(Ca)||[""];for(f=b.length;f--;){var m=wa.exec(b[f])||[];var l=q=m[1];var r=(m[2]||"").split(".").sort();l&&(m=h.event.special[l]||{},l=(e?m.delegateType:m.bindType)||l,m=h.event.special[l]||{},q=h.extend({type:l,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&h.expr.match.needsContext.test(e),namespace:r.join(".")},k),(t=n[l])||(t=n[l]=[],t.delegateCount=0,m.setup&&
!1!==m.setup.call(a,d,r,g)||(a.addEventListener?a.addEventListener(l,g,!1):a.attachEvent&&a.attachEvent("on"+l,g))),m.add&&(m.add.call(a,q),q.handler.guid||(q.handler.guid=c.guid)),e?t.splice(t.delegateCount++,0,q):t.push(q),h.event.global[l]=!0)}a=null}},remove:function(a,b,c,d,e){var n,f,g,q,t,k=h.hasData(a)&&h._data(a);if(k&&(q=k.events)){b=(b||"").match(Ca)||[""];for(g=b.length;g--;){var m=wa.exec(b[g])||[];var l=t=m[1];var r=(m[2]||"").split(".").sort();if(l){var u=h.event.special[l]||{};l=(d?
u.delegateType:u.bindType)||l;var y=q[l]||[];m=m[2]&&new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)");for(f=n=y.length;n--;){var w=y[n];!e&&t!==w.origType||c&&c.guid!==w.guid||m&&!m.test(w.namespace)||d&&d!==w.selector&&("**"!==d||!w.selector)||(y.splice(n,1),w.selector&&y.delegateCount--,u.remove&&u.remove.call(a,w))}f&&!y.length&&(u.teardown&&!1!==u.teardown.call(a,r,k.handle)||h.removeEvent(a,l,k.handle),delete q[l])}else for(l in q)h.event.remove(a,l+b[g],c,d,!0)}h.isEmptyObject(q)&&(delete k.handle,
h._removeData(a,"events"))}},trigger:function(a,c,d,e){var n,f,g=[d||J],q=sa.call(a,"type")?a.type:a;var t=sa.call(a,"namespace")?a.namespace.split("."):[];var k=n=d=d||J;if(3!==d.nodeType&&8!==d.nodeType&&!Pb.test(q+h.event.triggered)){-1<q.indexOf(".")&&(t=q.split("."),q=t.shift(),t.sort());var m=0>q.indexOf(":")&&"on"+q;a=a[h.expando]?a:new h.Event(q,"object"===typeof a&&a);a.isTrigger=e?2:3;a.namespace=t.join(".");a.rnamespace=a.namespace?new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)"):
null;a.result=void 0;a.target||(a.target=d);c=null==c?[a]:h.makeArray(c,[a]);t=h.event.special[q]||{};if(e||!t.trigger||!1!==t.trigger.apply(d,c)){if(!e&&!t.noBubble&&!h.isWindow(d)){var l=t.delegateType||q;Pb.test(l+q)||(k=k.parentNode);for(;k;k=k.parentNode)g.push(k),n=k;n===(d.ownerDocument||J)&&g.push(n.defaultView||n.parentWindow||b)}for(f=0;(k=g[f++])&&!a.isPropagationStopped();)a.type=1<f?l:t.bindType||q,(n=(h._data(k,"events")||{})[a.type]&&h._data(k,"handle"))&&n.apply(k,c),(n=m&&k[m])&&
n.apply&&Wb(k)&&(a.result=n.apply(k,c),!1===a.result&&a.preventDefault());a.type=q;if(!(e||a.isDefaultPrevented()||t._default&&!1!==t._default.apply(g.pop(),c))&&Wb(d)&&m&&d[q]&&!h.isWindow(d)){(n=d[m])&&(d[m]=null);h.event.triggered=q;try{d[q]()}catch(Xb){}h.event.triggered=void 0;n&&(d[m]=n)}return a.result}}},dispatch:function(a){a=h.event.fix(a);var b,c,d,e=pb.call(arguments);var n=(h._data(this,"events")||{})[a.type]||[];var f=h.event.special[a.type]||{};e[0]=a;a.delegateTarget=this;if(!f.preDispatch||
!1!==f.preDispatch.call(this,a)){var g=h.event.handlers.call(this,a,n);for(n=0;(d=g[n++])&&!a.isPropagationStopped();)for(a.currentTarget=d.elem,b=0;(c=d.handlers[b++])&&!a.isImmediatePropagationStopped();)if(!a.rnamespace||a.rnamespace.test(c.namespace))a.handleObj=c,a.data=c.data,c=((h.event.special[c.origType]||{}).handle||c.handler).apply(d.elem,e),void 0!==c&&!1===(a.result=c)&&(a.preventDefault(),a.stopPropagation());f.postDispatch&&f.postDispatch.call(this,a);return a.result}},handlers:function(a,
b){var c,d=[],e=b.delegateCount,n=a.target;if(e&&n.nodeType&&("click"!==a.type||isNaN(a.button)||1>a.button))for(;n!=this;n=n.parentNode||this)if(1===n.nodeType&&(!0!==n.disabled||"click"!==a.type)){var f=[];for(c=0;c<e;c++){var g=b[c];var q=g.selector+" ";void 0===f[q]&&(f[q]=g.needsContext?-1<h(q,this).index(n):h.find(q,this,null,[n]).length);f[q]&&f.push(g)}f.length&&d.push({elem:n,handlers:f})}e<b.length&&d.push({elem:this,handlers:b.slice(e)});return d},fix:function(a){if(a[h.expando])return a;
var b=a.type;var c=a,d=this.fixHooks[b];d||(this.fixHooks[b]=d=ud.test(b)?this.mouseHooks:fb.test(b)?this.keyHooks:{});var e=d.props?this.props.concat(d.props):this.props;a=new h.Event(c);for(b=e.length;b--;){var n=e[b];a[n]=c[n]}a.target||(a.target=c.srcElement||J);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return d.filter?d.filter(a,c):a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c=b.button,d=b.fromElement;if(null==a.pageX&&null!=b.clientX){var e=a.target.ownerDocument||J;var n=e.documentElement;e=e.body;a.pageX=b.clientX+(n&&n.scrollLeft||e&&e.scrollLeft||0)-(n&&n.clientLeft||
e&&e.clientLeft||0);a.pageY=b.clientY+(n&&n.scrollTop||e&&e.scrollTop||0)-(n&&n.clientTop||e&&e.clientTop||0)}!a.relatedTarget&&d&&(a.relatedTarget=d===a.target?b.toElement:d);a.which||void 0===c||(a.which=c&1?1:c&2?3:c&4?2:0);return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)try{return this.focus(),!1}catch(n){}},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(h.nodeName(this,
"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return h.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c){a=h.extend(new h.Event,c,{type:a,isSimulated:!0});h.event.trigger(a,null,b);a.isDefaultPrevented()&&c.preventDefault()}};h.removeEvent=J.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)}:function(a,
b,c){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,c))};h.Event=function(a,b){if(!(this instanceof h.Event))return new h.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?Q:B):this.type=a;b&&h.extend(this,b);this.timeStamp=a&&a.timeStamp||h.now();this[h.expando]=!0};h.Event.prototype={constructor:h.Event,isDefaultPrevented:B,isPropagationStopped:B,isImmediatePropagationStopped:B,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Q;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Q;a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Q;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};h.each({mouseenter:"mouseover",
mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){h.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=a.relatedTarget,d=a.handleObj;if(!c||c!==this&&!h.contains(this,c)){a.type=d.origType;var e=d.handler.apply(this,arguments);a.type=b}return e}}});H.submit||(h.event.special.submit={setup:function(){if(h.nodeName(this,"form"))return!1;h.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=h.nodeName(a,"input")||h.nodeName(a,
"button")?h.prop(a,"form"):void 0)&&!h._data(a,"submit")&&(h.event.add(a,"submit._submit",function(a){a._submitBubble=!0}),h._data(a,"submit",!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&h.event.simulate("submit",this.parentNode,a))},teardown:function(){if(h.nodeName(this,"form"))return!1;h.event.remove(this,"._submit")}});H.change||(h.event.special.change={setup:function(){if(Db.test(this.nodeName)){if("checkbox"===this.type||"radio"===
this.type)h.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._justChanged=!0)}),h.event.add(this,"click._change",function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1);h.event.simulate("change",this,a)});return!1}h.event.add(this,"beforeactivate._change",function(a){a=a.target;Db.test(a.nodeName)&&!h._data(a,"change")&&(h.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||h.event.simulate("change",
this.parentNode,a)}),h._data(a,"change",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){h.event.remove(this,"._change");return!Db.test(this.nodeName)}});H.focusin||h.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){h.event.simulate(b,a.target,h.event.fix(a))};h.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=h._data(d,
b);e||d.addEventListener(a,c,!0);h._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=h._data(d,b)-1;e?h._data(d,b,e):(d.removeEventListener(a,c,!0),h._removeData(d,b))}}});h.fn.extend({on:function(a,b,c,d){return K(this,a,b,c,d)},one:function(a,b,c,d){return K(this,a,b,c,d,1)},off:function(a,b,c){if(a&&a.preventDefault&&a.handleObj){var d=a.handleObj;h(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler);return this}if("object"===typeof a){for(d in a)this.off(d,
b,a[d]);return this}if(!1===b||"function"===typeof b)c=b,b=void 0;!1===c&&(c=B);return this.each(function(){h.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){h.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return h.event.trigger(a,b,c,!0)}});var vd=/ jQuery\d+="(?:null|\d+)"/g,Qc=/<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video)[\s/>]/i,
wd=/<script|<style|<link/i,gd=/checked\s*(?:[^=]|=\s*.checked.)/i,ed=/^true\/(.*)/,hd=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Eb=A(J).appendChild(J.createElement("div"));h.extend({htmlPrefilter:function(a){return a},clone:function(a,b,c){var d,e,n=h.contains(a.ownerDocument,a);if(H.html5Clone||h.isXMLDoc(a)||!Qc.test("\x3c"+a.nodeName+"\x3e"))var f=a.cloneNode(!0);else Eb.innerHTML=a.outerHTML,Eb.removeChild(f=Eb.firstChild);if(!(H.noCloneEvent&&H.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||
h.isXMLDoc(a))){var g=D(f);var q=D(a);for(e=0;null!=(d=q[e]);++e)if(g[e]){var k=void 0,m=d,t=g[e];if(1===t.nodeType){var l=t.nodeName.toLowerCase();if(!H.noCloneEvent&&t[h.expando]){d=h._data(t);for(k in d.events)h.removeEvent(t,k,d.handle);t.removeAttribute(h.expando)}if("script"===l&&t.text!==m.text)X(t).text=m.text,T(t);else if("object"===l)t.parentNode&&(t.outerHTML=m.outerHTML),H.html5Clone&&m.innerHTML&&!h.trim(t.innerHTML)&&(t.innerHTML=m.innerHTML);else if("input"===l&&pa.test(m.type))t.defaultChecked=
t.checked=m.checked,t.value!==m.value&&(t.value=m.value);else if("option"===l)t.defaultSelected=t.selected=m.defaultSelected;else if("input"===l||"textarea"===l)t.defaultValue=m.defaultValue}}}if(b)if(c)for(q=q||D(a),g=g||D(f),e=0;null!=(d=q[e]);e++)Y(d,g[e]);else Y(a,f);g=D(f,"script");0<g.length&&y(g,!n&&D(a,"script"));return f},cleanData:function(a,b){for(var c,d,e,n,f=0,g=h.expando,q=h.cache,k=H.attributes,m=h.event.special;null!=(c=a[f]);f++)if(b||Wb(c))if(n=(e=c[g])&&q[e]){if(n.events)for(d in n.events)m[d]?
h.event.remove(c,d):h.removeEvent(c,d,n.handle);q[e]&&(delete q[e],k||"undefined"===typeof c.removeAttribute?c[g]=void 0:c.removeAttribute(g),Na.push(e))}}});h.fn.extend({domManip:F,detach:function(a){return I(this,a,!0)},remove:function(a){return I(this,a)},text:function(a){return aa(this,function(a){return void 0===a?h.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(a))},null,a,arguments.length)},append:function(){return F(this,arguments,function(a){1!==this.nodeType&&
11!==this.nodeType&&9!==this.nodeType||ma(this,a).appendChild(a)})},prepend:function(){return F(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ma(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return F(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return F(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=
(a=this[b]);b++){for(1===a.nodeType&&h.cleanData(D(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&h.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return h.clone(this,a,b)})},html:function(a){return aa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(vd,""):void 0;if(!("string"!==typeof a||wd.test(a)||!H.htmlSerialize&&Qc.test(a)||!H.leadingWhitespace&&
Jc.test(a)||ua[(hc.exec(a)||["",""])[1].toLowerCase()])){a=h.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(h.cleanData(D(b,!1)),b.innerHTML=a);b=0}catch(be){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return F(this,arguments,function(b){var c=this.parentNode;0>h.inArray(this,a)&&(h.cleanData(D(this)),c&&c.replaceChild(b,this))},a)}});h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(a,b){h.fn[a]=function(a){for(var c=0,d=[],e=h(a),n=e.length-1;c<=n;c++)a=c===n?this:this.clone(!0),h(e[c])[b](a),Lc.apply(d,a.get());return this.pushStack(d)}});var Yb,id={HTML:"block",BODY:"block"},xd=/^margin/,Ya=new RegExp("^("+tb+")(?!px)[a-z%]+$","i"),Qb=function(a,b,c,d){var e,n={};for(e in b)n[e]=a.style[e],a.style[e]=b[e];c=c.apply(a,d||[]);for(e in b)a.style[e]=n[e];return c},Fb=J.documentElement;(function(){function a(){var a=J.documentElement;a.appendChild(k);m.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";
c=e=q=!1;d=g=!0;if(b.getComputedStyle){var n=b.getComputedStyle(m);c="1%"!==(n||{}).top;q="2px"===(n||{}).marginLeft;e="4px"===(n||{width:"4px"}).width;m.style.marginRight="50%";d="4px"===(n||{marginRight:"4px"}).marginRight;n=m.appendChild(J.createElement("div"));n.style.cssText=m.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";n.style.marginRight=n.style.width="0";m.style.width="1px";g=!parseFloat((b.getComputedStyle(n)||
{}).marginRight);m.removeChild(n)}m.style.display="none";if(f=0===m.getClientRects().length)if(m.style.display="",m.innerHTML="\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",m.childNodes[0].style.borderCollapse="separate",n=m.getElementsByTagName("td"),n[0].style.cssText="margin:0;border:0;padding:0;display:none",f=0===n[0].offsetHeight)n[0].style.display="",n[1].style.display="none",f=0===n[0].offsetHeight;a.removeChild(k)}var c,d,e,f,g,q,k=J.createElement("div"),
m=J.createElement("div");m.style&&(m.style.cssText="float:left;opacity:.5",H.opacity="0.5"===m.style.opacity,H.cssFloat=!!m.style.cssFloat,m.style.backgroundClip="content-box",m.cloneNode(!0).style.backgroundClip="",H.clearCloneStyle="content-box"===m.style.backgroundClip,k=J.createElement("div"),k.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",m.innerHTML="",k.appendChild(m),H.boxSizing=""===m.style.boxSizing||""===m.style.MozBoxSizing||
""===m.style.WebkitBoxSizing,h.extend(H,{reliableHiddenOffsets:function(){null==c&&a();return f},boxSizingReliable:function(){null==c&&a();return e},pixelMarginRight:function(){null==c&&a();return d},pixelPosition:function(){null==c&&a();return c},reliableMarginRight:function(){null==c&&a();return g},reliableMarginLeft:function(){null==c&&a();return q}}))})();var lb=/^(top|right|bottom|left)$/;if(b.getComputedStyle){var p=function(a){var c=a.ownerDocument.defaultView;c&&c.opener||(c=b);return c.getComputedStyle(a)};
var Ja=function(a,b,c){var d=a.style;var e=(c=c||p(a))?c.getPropertyValue(b)||c[b]:void 0;""!==e&&void 0!==e||h.contains(a.ownerDocument,a)||(e=h.style(a,b));if(c&&!H.pixelMarginRight()&&Ya.test(e)&&xd.test(b)){a=d.width;b=d.minWidth;var n=d.maxWidth;d.minWidth=d.maxWidth=d.width=e;e=c.width;d.width=a;d.minWidth=b;d.maxWidth=n}return void 0===e?e:e+""}}else Fb.currentStyle&&(p=function(a){return a.currentStyle},Ja=function(a,b,c){var d,e,n=a.style;var f=(c=c||p(a))?c[b]:void 0;null==f&&n&&n[b]&&(f=
n[b]);if(Ya.test(f)&&!lb.test(b)){c=n.left;if(e=(d=a.runtimeStyle)&&d.left)d.left=a.currentStyle.left;n.left="fontSize"===b?"1em":f;f=n.pixelLeft+"px";n.left=c;e&&(d.left=e)}return void 0===f?f:f+""||"auto"});var pc=/alpha\([^)]*\)/i,V=/opacity\s*=\s*([^)]*)/i,Og=/^(none|table(?!-c[ea]).+)/,zg=new RegExp("^("+tb+")(.*)$","i"),Pg={position:"absolute",visibility:"hidden",display:"block"},ub={letterSpacing:"0",fontWeight:"400"},Pa=["Webkit","O","Moz","ms"],Ye=J.createElement("div").style;h.extend({cssHooks:{opacity:{get:function(a,
b){if(b)return a=Ja(a,"opacity"),""===a?"1":a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":H.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,n=h.camelCase(b),f=a.style;b=h.cssProps[n]||(h.cssProps[n]=ia(n)||n);var g=h.cssHooks[b]||h.cssHooks[n];if(void 0!==c){var q=typeof c;"string"===
q&&(e=Hc.exec(c))&&e[1]&&(c=x(a,b,e),q="number");if(null!=c&&c===c&&("number"===q&&(c+=e&&e[3]||(h.cssNumber[n]?"":"px")),H.clearCloneStyle||""!==c||0!==b.indexOf("background")||(f[b]="inherit"),!(g&&"set"in g)||void 0!==(c=g.set(a,c,d))))try{f[b]=c}catch(Ve){}}else return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:f[b]}},css:function(a,b,c,d){var e;var n=h.camelCase(b);b=h.cssProps[n]||(h.cssProps[n]=ia(n)||n);(n=h.cssHooks[b]||h.cssHooks[n])&&"get"in n&&(e=n.get(a,!0,c));void 0===e&&(e=Ja(a,b,d));
"normal"===e&&b in ub&&(e=ub[b]);return""===c||c?(a=parseFloat(e),!0===c||isFinite(a)?a||0:e):e}});h.each(["height","width"],function(a,b){h.cssHooks[b]={get:function(a,c,d){if(c)return Og.test(h.css(a,"display"))&&0===a.offsetWidth?Qb(a,Pg,function(){return O(a,b,d)}):O(a,b,d)},set:function(a,c,d){var e=d&&p(a);return ca(a,c,d?fa(a,b,d,H.boxSizing&&"border-box"===h.css(a,"boxSizing",!1,e),e):0)}}});H.opacity||(h.cssHooks.opacity={get:function(a,b){return V.test((b&&a.currentStyle?a.currentStyle.filter:
a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style;a=a.currentStyle;var d=h.isNumeric(b)?"alpha(opacity\x3d"+100*b+")":"",e=a&&a.filter||c.filter||"";c.zoom=1;if((1<=b||""===b)&&""===h.trim(e.replace(pc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||a&&!a.filter))return;c.filter=pc.test(e)?e.replace(pc,d):e+" "+d}});h.cssHooks.marginRight=S(H.reliableMarginRight,function(a,b){if(b)return Qb(a,{display:"inline-block"},Ja,[a,"marginRight"])});
h.cssHooks.marginLeft=S(H.reliableMarginLeft,function(a,b){if(b)return(parseFloat(Ja(a,"marginLeft"))||(h.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Qb(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+"px"});h.each({margin:"",padding:"",border:"Width"},function(a,b){h.cssHooks[a+b]={expand:function(c){var d=0,e={};for(c="string"===typeof c?c.split(" "):[c];4>d;d++)e[a+wb[d]+b]=c[d]||c[d-2]||c[0];return e}};xd.test(a)||(h.cssHooks[a+b].set=ca)});h.fn.extend({css:function(a,
b){return aa(this,function(a,b,c){var d,e={},n=0;if(h.isArray(b)){c=p(a);for(d=b.length;n<d;n++)e[b[n]]=h.css(a,b[n],!1,c);return e}return void 0!==c?h.style(a,b,c):h.css(a,b)},a,b,1<arguments.length)},show:function(){return ka(this,!0)},hide:function(){return ka(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){Zb(this)?h(this).show():h(this).hide()})}});h.Tween=da;da.prototype={constructor:da,init:function(a,b,c,d,e,f){this.elem=a;this.prop=c;this.easing=
e||h.easing._default;this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=f||(h.cssNumber[c]?"":"px")},cur:function(){var a=da.propHooks[this.prop];return a&&a.get?a.get(this):da.propHooks._default.get(this)},run:function(a){var b,c=da.propHooks[this.prop];this.pos=this.options.duration?b=h.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?
c.set(this):da.propHooks._default.set(this);return this}};da.prototype.init.prototype=da.prototype;da.propHooks={_default:{get:function(a){return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(a=h.css(a.elem,a.prop,""))&&"auto"!==a?a:0},set:function(a){if(h.fx.step[a.prop])h.fx.step[a.prop](a);else 1!==a.elem.nodeType||null==a.elem.style[h.cssProps[a.prop]]&&!h.cssHooks[a.prop]?a.elem[a.prop]=a.now:h.style(a.elem,a.prop,a.now+a.unit)}}};da.propHooks.scrollTop=
da.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};h.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};h.fx=da.prototype.init;h.fx.step={};var xb,yd,Qg=/^(?:toggle|show|hide)$/,Rg=/queueHooks$/;h.Animation=h.extend(na,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);x(c.elem,a,Hc.exec(b),c);return c}]},tweener:function(a,b){h.isFunction(a)?(b=a,a=["*"]):a=a.match(Ca);for(var c,d=0,e=
a.length;d<e;d++)c=a[d],na.tweeners[c]=na.tweeners[c]||[],na.tweeners[c].unshift(b)},prefilters:[function(a,b,c){var d,e=this,f={},g=a.style,n=a.nodeType&&Zb(a),q=h._data(a,"fxshow");if(!c.queue){var k=h._queueHooks(a,"fx");if(null==k.unqueued){k.unqueued=0;var m=k.empty.fire;k.empty.fire=function(){k.unqueued||m()}}k.unqueued++;e.always(function(){e.always(function(){k.unqueued--;h.queue(a,"fx").length||k.empty.fire()})})}if(1===a.nodeType&&("height"in b||"width"in b)){c.overflow=[g.overflow,g.overflowX,
g.overflowY];var l=h.css(a,"display");var t="none"===l?h._data(a,"olddisplay")||W(a.nodeName):l;"inline"===t&&"none"===h.css(a,"float")&&(H.inlineBlockNeedsLayout&&"inline"!==W(a.nodeName)?g.zoom=1:g.display="inline-block")}c.overflow&&(g.overflow="hidden",H.shrinkWrapBlocks()||e.always(function(){g.overflow=c.overflow[0];g.overflowX=c.overflow[1];g.overflowY=c.overflow[2]}));for(d in b)if(t=b[d],Qg.exec(t)){delete b[d];var u=u||"toggle"===t;if(t===(n?"hide":"show"))if("show"===t&&q&&void 0!==q[d])n=
!0;else continue;f[d]=q&&q[d]||h.style(a,d)}else l=void 0;if(h.isEmptyObject(f))"inline"===("none"===l?W(a.nodeName):l)&&(g.display=l);else for(d in q?"hidden"in q&&(n=q.hidden):q=h._data(a,"fxshow",{}),u&&(q.hidden=!n),n?h(a).show():e.done(function(){h(a).hide()}),e.done(function(){var b;h._removeData(a,"fxshow");for(b in f)h.style(a,b,f[b])}),f)b=r(n?q[d]:0,d,e),d in q||(q[d]=b.start,n&&(b.end=b.start,b.start="width"===d||"height"===d?1:0))}],prefilter:function(a,b){b?na.prefilters.unshift(a):na.prefilters.push(a)}});
h.speed=function(a,b,c){var d=a&&"object"===typeof a?h.extend({},a):{complete:c||!c&&b||h.isFunction(a)&&a,duration:a,easing:c&&b||b&&!h.isFunction(b)&&b};d.duration=h.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in h.fx.speeds?h.fx.speeds[d.duration]:h.fx.speeds._default;if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(){h.isFunction(d.old)&&d.old.call(this);d.queue&&h.dequeue(this,d.queue)};return d};h.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Zb).css("opacity",
0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=h.isEmptyObject(a),f=h.speed(b,c,d);b=function(){var b=na(this,h.extend({},a),f);(e||h._data(this,"finish"))&&b.stop(!0)};b.finish=b;return e||!1===f.queue?this.each(b):this.queue(f.queue,b)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=h.timers,g=h._data(this);
if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Rg.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||h.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b=h._data(this),c=b[a+"queue"];var d=b[a+"queueHooks"];var e=h.timers,f=c?c.length:0;b.finish=!0;h.queue(this,a,[]);d&&d.stop&&d.stop.call(this,!0);for(d=e.length;d--;)e[d].elem===this&&e[d].queue===a&&(e[d].anim.stop(!0),
e.splice(d,1));for(d=0;d<f;d++)c[d]&&c[d].finish&&c[d].finish.call(this);delete b.finish})}});h.each(["toggle","show","hide"],function(a,b){var c=h.fn[b];h.fn[b]=function(a,d,e){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(G(b,!0),a,d,e)}});h.each({slideDown:G("show"),slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){h.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});h.timers=[];
h.fx.tick=function(){var a=h.timers,b=0;for(xb=h.now();b<a.length;b++){var c=a[b];c()||a[b]!==c||a.splice(b--,1)}a.length||h.fx.stop();xb=void 0};h.fx.timer=function(a){h.timers.push(a);a()?h.fx.start():h.timers.pop()};h.fx.interval=13;h.fx.start=function(){yd||(yd=b.setInterval(h.fx.tick,h.fx.interval))};h.fx.stop=function(){b.clearInterval(yd);yd=null};h.fx.speeds={slow:600,fast:200,_default:400};h.fn.delay=function(a,c){a=h.fx?h.fx.speeds[a]||a:a;return this.queue(c||"fx",function(c,d){var e=b.setTimeout(c,
a);d.stop=function(){b.clearTimeout(e)}})};(function(){var a=J.createElement("input");J.createElement("div");var b=J.createElement("select"),c=b.appendChild(J.createElement("option"));var d=J.createElement("div");d.setAttribute("className","t");d.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";d.getElementsByTagName("a");a.setAttribute("type","checkbox");d.appendChild(a);var e=d.getElementsByTagName("a")[0];e.style.cssText="top:1px";
H.getSetAttribute="t"!==d.className;H.style=/top/.test(e.getAttribute("style"));H.hrefNormalized="/a"===e.getAttribute("href");H.checkOn=!!a.value;H.optSelected=c.selected;H.enctype=!!J.createElement("form").enctype;b.disabled=!0;H.optDisabled=!c.disabled;a=J.createElement("input");a.setAttribute("value","");H.input=""===a.getAttribute("value");a.value="t";a.setAttribute("type","radio");H.radioValue="t"===a.value})();var dc=/\r/g,qc=/[\x20\t\r\n\f]+/g;h.fn.extend({val:function(a){var b,c,d=this[0];
if(arguments.length){var e=h.isFunction(a);return this.each(function(c){1===this.nodeType&&(c=e?a.call(this,c,h(this).val()):a,null==c?c="":"number"===typeof c?c+="":h.isArray(c)&&(c=h.map(c,function(a){return null==a?"":a+""})),b=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,c,"value")||(this.value=c))})}if(d){if((b=h.valHooks[d.type]||h.valHooks[d.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(d,"value")))return c;c=d.value;return"string"===
typeof c?c.replace(dc,""):null==c?"":c}}});h.extend({valHooks:{option:{get:function(a){var b=h.find.attr(a,"value");return null!=b?b:h.trim(h.text(a)).replace(qc," ")}},select:{get:function(a){for(var b,c=a.options,d=a.selectedIndex,e=(a="select-one"===a.type||0>d)?null:[],f=a?d+1:c.length,g=0>d?f:a?d:0;g<f;g++)if(b=c[g],!(!b.selected&&g!==d||(H.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&h.nodeName(b.parentNode,"optgroup"))){b=h(b).val();if(a)return b;e.push(b)}return e},
set:function(a,b){for(var c,d=a.options,e=h.makeArray(b),f=d.length;f--;)if(b=d[f],-1<h.inArray(h.valHooks.option.get(b),e))try{b.selected=c=!0}catch(Gc){b.scrollHeight}else b.selected=!1;c||(a.selectedIndex=-1);return d}}}});h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(a,b){if(h.isArray(b))return a.checked=-1<h.inArray(h(a).val(),b)}};H.checkOn||(h.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mb=h.expr.attrHandle,rc=/^(?:checked|selected)$/i,
Gb=H.getSetAttribute,Sa=H.input;h.fn.extend({attr:function(a,b){return aa(this,h.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){h.removeAttr(this,a)})}});h.extend({attr:function(a,b,c){var d,e=a.nodeType;if(3!==e&&8!==e&&2!==e){if("undefined"===typeof a.getAttribute)return h.prop(a,b,c);if(1!==e||!h.isXMLDoc(a)){b=b.toLowerCase();var f=h.attrHooks[b]||(h.expr.match.bool.test(b)?Sg:$a)}if(void 0!==c){if(null===c){h.removeAttr(a,b);return}if(f&&"set"in f&&void 0!==
(d=f.set(a,c,b)))return d;a.setAttribute(b,c+"");return c}if(f&&"get"in f&&null!==(d=f.get(a,b)))return d;d=h.find.attr(a,b);return null==d?void 0:d}},attrHooks:{type:{set:function(a,b){if(!H.radioValue&&"radio"===b&&h.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}},removeAttr:function(a,b){var c=0,d=b&&b.match(Ca);if(d&&1===a.nodeType)for(;b=d[c++];){var e=h.propFix[b]||b;h.expr.match.bool.test(b)?Sa&&Gb||!rc.test(b)?a[e]=!1:a[h.camelCase("default-"+b)]=a[e]=
!1:h.attr(a,b,"");a.removeAttribute(Gb?b:e)}}});var Sg={set:function(a,b,c){!1===b?h.removeAttr(a,c):Sa&&Gb||!rc.test(c)?a.setAttribute(!Gb&&h.propFix[c]||c,c):a[h.camelCase("default-"+c)]=a[c]=!0;return c}};h.each(h.expr.match.bool.source.match(/\w+/g),function(a,b){var c=mb[b]||h.find.attr;Sa&&Gb||!rc.test(b)?mb[b]=function(a,b,d){if(!d){var e=mb[b];mb[b]=f;var f=null!=c(a,b,d)?b.toLowerCase():null;mb[b]=e}return f}:mb[b]=function(a,b,c){if(!c)return a[h.camelCase("default-"+b)]?b.toLowerCase():
null}});Sa&&Gb||(h.attrHooks.value={set:function(a,b,c){if(h.nodeName(a,"input"))a.defaultValue=b;else return $a&&$a.set(a,b,c)}});if(!Gb){var $a={set:function(a,b,c){var d=a.getAttributeNode(c);d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c));d.value=b+="";if("value"===c||b===a.getAttribute(c))return b}};mb.id=mb.name=mb.coords=function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&""!==d.value?d.value:null};h.valHooks.button={get:function(a,b){if((a=a.getAttributeNode(b))&&a.specified)return a.value},
set:$a.set};h.attrHooks.contenteditable={set:function(a,b,c){$a.set(a,""===b?!1:b,c)}};h.each(["width","height"],function(a,b){h.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}}})}H.style||(h.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Ta=/^(?:input|select|textarea|button|object)$/i,Tg=/^(?:a|area)$/i;h.fn.extend({prop:function(a,b){return aa(this,h.prop,a,b,1<arguments.length)},removeProp:function(a){a=
h.propFix[a]||a;return this.each(function(){try{this[a]=void 0,delete this[a]}catch(t){}})}});h.extend({prop:function(a,b,c){var d,e=a.nodeType;if(3!==e&&8!==e&&2!==e){if(1!==e||!h.isXMLDoc(a)){b=h.propFix[b]||b;var f=h.propHooks[b]}return void 0!==c?f&&"set"in f&&void 0!==(d=f.set(a,c,b))?d:a[b]=c:f&&"get"in f&&null!==(d=f.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=h.find.attr(a,"tabindex");return b?parseInt(b,10):Ta.test(a.nodeName)||Tg.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor",
"class":"className"}});H.hrefNormalized||h.each(["href","src"],function(a,b){h.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});H.optSelected||(h.propHooks.selected={get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null},set:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex}});h.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){h.propFix[this.toLowerCase()]=
this});H.enctype||(h.propFix.enctype="encoding");var sc=/[\t\r\n\f]/g;h.fn.extend({addClass:function(a){var b,c,d,e,f,g=0;if(h.isFunction(a))return this.each(function(b){h(this).addClass(a.call(this,b,cb(this)))});if("string"===typeof a&&a)for(b=a.match(Ca)||[];c=this[g++];){var q=cb(c);if(d=1===c.nodeType&&(" "+q+" ").replace(sc," ")){for(f=0;e=b[f++];)0>d.indexOf(" "+e+" ")&&(d+=e+" ");d=h.trim(d);q!==d&&h.attr(c,"class",d)}}return this},removeClass:function(a){var b,c,d,e,f,g=0;if(h.isFunction(a))return this.each(function(b){h(this).removeClass(a.call(this,
b,cb(this)))});if(!arguments.length)return this.attr("class","");if("string"===typeof a&&a)for(b=a.match(Ca)||[];c=this[g++];){var q=cb(c);if(d=1===c.nodeType&&(" "+q+" ").replace(sc," ")){for(f=0;e=b[f++];)for(;-1<d.indexOf(" "+e+" ");)d=d.replace(" "+e+" "," ");d=h.trim(d);q!==d&&h.attr(c,"class",d)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"===typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):h.isFunction(a)?this.each(function(c){h(this).toggleClass(a.call(this,
c,cb(this),b),b)}):this.each(function(){var b,d;if("string"===c){var e=0;var f=h(this);for(d=a.match(Ca)||[];b=d[e++];)f.hasClass(b)?f.removeClass(b):f.addClass(b)}else if(void 0===a||"boolean"===c)(b=cb(this))&&h._data(this,"__className__",b),h.attr(this,"class",b||!1===a?"":h._data(this,"__className__")||"")})},hasClass:function(a){var b,c=0;for(a=" "+a+" ";b=this[c++];)if(1===b.nodeType&&-1<(" "+cb(b)+" ").replace(sc," ").indexOf(a))return!0;return!1}});h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){h.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});h.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var zd=b.location,Hb=h.now(),Rc=/\?/,tc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;h.parseJSON=function(a){if(b.JSON&&b.JSON.parse)return b.JSON.parse(a+"");var c,d=null,e=h.trim(a+"");return e&&!h.trim(e.replace(tc,function(a,b,e,f){c&&
b&&(d=0);if(0===d)return a;c=e||b;d+=!f-!e;return""}))?Function("return "+e)():h.error("Invalid JSON: "+a)};h.parseXML=function(a){if(!a||"string"!==typeof a)return null;try{if(b.DOMParser){var c=new b.DOMParser;var d=c.parseFromString(a,"text/xml")}else d=new b.ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a)}catch(ta){d=void 0}d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+a);return d};var Ad=/#.*$/,Da=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
Sc=/^(?:GET|HEAD)$/,uc=/^\/\//,nb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Tc={},Ea={},vc="*/".concat("*"),Uc=zd.href,Rb=nb.exec(Uc.toLowerCase())||[];h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Uc,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Rb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",accepts:{"*":vc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",
json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,h.ajaxSettings),b):yb(h.ajaxSettings,a)},ajaxPrefilter:$b(Tc),ajaxTransport:$b(Ea),ajax:function(a,c){function d(a,c,d,e){var m=c;if(2!==p){p=2;g&&b.clearTimeout(g);
k=void 0;f=e||"";t.readyState=0<a?4:0;e=200<=a&&300>a||304===a;if(d){var G=l;for(var O=t,B,F,E,x,M=G.contents,ha=G.dataTypes;"*"===ha[0];)ha.shift(),void 0===F&&(F=G.mimeType||O.getResponseHeader("Content-Type"));if(F)for(x in M)if(M[x]&&M[x].test(F)){ha.unshift(x);break}if(ha[0]in d)E=ha[0];else{for(x in d){if(!ha[0]||G.converters[x+" "+ha[0]]){E=x;break}B||(B=x)}E=E||B}E?(E!==ha[0]&&ha.unshift(E),G=d[E]):G=void 0}a:{d=l;B=G;F=t;E=e;var da;O={};M=d.dataTypes.slice();if(M[1])for(Z in d.converters)O[Z.toLowerCase()]=
d.converters[Z];for(x=M.shift();x;){d.responseFields[x]&&(F[d.responseFields[x]]=B);!I&&E&&d.dataFilter&&(B=d.dataFilter(B,d.dataType));var I=x;if(x=M.shift())if("*"===x)x=I;else if("*"!==I&&I!==x){var Z=O[I+" "+x]||O["* "+x];if(!Z)for(da in O)if(G=da.split(" "),G[1]===x&&(Z=O[I+" "+G[0]]||O["* "+G[0]])){!0===Z?Z=O[da]:!0!==O[da]&&(x=G[0],M.unshift(G[1]));break}if(!0!==Z)if(Z&&d["throws"])B=Z(B);else try{B=Z(B)}catch(Mc){G={state:"parsererror",error:Z?Mc:"No conversion from "+I+" to "+x};break a}}}G=
{state:"success",data:B}}if(e)if(l.ifModified&&((m=t.getResponseHeader("Last-Modified"))&&(h.lastModified[A]=m),(m=t.getResponseHeader("etag"))&&(h.etag[A]=m)),204===a||"HEAD"===l.type)m="nocontent";else if(304===a)m="notmodified";else{m=G.state;var D=G.data;var na=G.error;e=!na}else if(na=m,a||!m)m="error",0>a&&(a=0);t.status=a;t.statusText=(c||m)+"";e?u.resolveWith(n,[D,m,t]):u.rejectWith(n,[t,m,na]);t.statusCode(w);w=void 0;q&&r.trigger(e?"ajaxSuccess":"ajaxError",[t,l,e?D:na]);y.fireWith(n,[t,
m]);q&&(r.trigger("ajaxComplete",[t,l]),--h.active||h.event.trigger("ajaxStop"))}}"object"===typeof a&&(c=a,a=void 0);c=c||{};var e,f,g,q,k,m,l=h.ajaxSetup({},c),n=l.context||l,r=l.context&&(n.nodeType||n.jquery)?h(n):h.event,u=h.Deferred(),y=h.Callbacks("once memory"),w=l.statusCode||{},G={},O={},p=0,B="canceled",t={readyState:0,getResponseHeader:function(a){var b;if(2===p){if(!m)for(m={};b=gb.exec(f);)m[b[1].toLowerCase()]=b[2];b=m[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===
p?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();p||(a=O[c]=O[c]||a,G[a]=b);return this},overrideMimeType:function(a){p||(l.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>p)for(b in a)w[b]=[w[b],a[b]];else t.always(a[t.status]);return this},abort:function(a){a=a||B;k&&k.abort(a);d(0,a);return this}};u.promise(t).complete=y.add;t.success=t.done;t.error=t.fail;l.url=((a||l.url||Uc)+"").replace(Ad,"").replace(uc,Rb[1]+"//");l.type=c.method||c.type||l.method||l.type;l.dataTypes=
h.trim(l.dataType||"*").toLowerCase().match(Ca)||[""];null==l.crossDomain&&(a=nb.exec(l.url.toLowerCase()),l.crossDomain=!(!a||a[1]===Rb[1]&&a[2]===Rb[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(Rb[3]||("http:"===Rb[1]?"80":"443"))));l.data&&l.processData&&"string"!==typeof l.data&&(l.data=h.param(l.data,l.traditional));ic(Tc,l,c,t);if(2===p)return t;(q=h.event&&l.global)&&0===h.active++&&h.event.trigger("ajaxStart");l.type=l.type.toUpperCase();l.hasContent=!Sc.test(l.type);var A=l.url;l.hasContent||
(l.data&&(A=l.url+=(Rc.test(A)?"\x26":"?")+l.data,delete l.data),!1===l.cache&&(l.url=Da.test(A)?A.replace(Da,"$1_\x3d"+Hb++):A+(Rc.test(A)?"\x26":"?")+"_\x3d"+Hb++));l.ifModified&&(h.lastModified[A]&&t.setRequestHeader("If-Modified-Since",h.lastModified[A]),h.etag[A]&&t.setRequestHeader("If-None-Match",h.etag[A]));(l.data&&l.hasContent&&!1!==l.contentType||c.contentType)&&t.setRequestHeader("Content-Type",l.contentType);t.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+
("*"!==l.dataTypes[0]?", "+vc+"; q\x3d0.01":""):l.accepts["*"]);for(e in l.headers)t.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(!1===l.beforeSend.call(n,t,l)||2===p))return t.abort();B="abort";for(e in{success:1,error:1,complete:1})t[e](l[e]);if(k=ic(Ea,l,c,t)){t.readyState=1;q&&r.trigger("ajaxSend",[t,l]);if(2===p)return t;l.async&&0<l.timeout&&(g=b.setTimeout(function(){t.abort("timeout")},l.timeout));try{p=1,k.send(G,d)}catch(Ka){if(2>p)d(-1,Ka);else throw Ka;}}else d(-1,"No Transport");
return t},getJSON:function(a,b,c){return h.get(a,b,c,"json")},getScript:function(a,b){return h.get(a,void 0,b,"script")}});h.each(["get","post"],function(a,b){h[b]=function(a,c,d,e){h.isFunction(c)&&(e=e||d,d=c,c=void 0);return h.ajax(h.extend({url:a,type:b,dataType:e,data:c,success:d},h.isPlainObject(a)&&a))}});h._evalUrl=function(a){return h.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};h.fn.extend({wrapAll:function(a){if(h.isFunction(a))return this.each(function(b){h(this).wrapAll(a.call(this,
b))});if(this[0]){var b=h(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return h.isFunction(a)?this.each(function(b){h(this).wrapInner(a.call(this,b))}):this.each(function(){var b=h(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=h.isFunction(a);return this.each(function(c){h(this).wrapAll(b?
a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()}});h.expr.filters.hidden=function(a){return H.reliableHiddenOffsets()?0>=a.offsetWidth&&0>=a.offsetHeight&&!a.getClientRects().length:jd(a)};h.expr.filters.visible=function(a){return!h.expr.filters.hidden(a)};var Vc=/%20/g,Ag=/\[\]$/,Sb=/\r?\n/g,Bd=/^(?:submit|button|image|reset|file)$/i,pe=/^(?:input|select|textarea|keygen)/i;h.param=function(a,b){var c,
d=[],e=function(a,b){b=h.isFunction(b)?b():null==b?"":b;d[d.length]=encodeURIComponent(a)+"\x3d"+encodeURIComponent(b)};void 0===b&&(b=h.ajaxSettings&&h.ajaxSettings.traditional);if(h.isArray(a)||a.jquery&&!h.isPlainObject(a))h.each(a,function(){e(this.name,this.value)});else for(c in a)Qa(c,a[c],b,e);return d.join("\x26").replace(Vc,"+")};h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=h.prop(this,"elements");return a?
h.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!h(this).is(":disabled")&&pe.test(this.nodeName)&&!Bd.test(a)&&(this.checked||!pa.test(a))}).map(function(a,b){a=h(this).val();return null==a?null:h.isArray(a)?h.map(a,function(a){return{name:b.name,value:a.replace(Sb,"\r\n")}}):{name:b.name,value:a.replace(Sb,"\r\n")}}).get()}});h.ajaxSettings.xhr=void 0!==b.ActiveXObject?function(){return this.isLocal?kd():8<J.documentMode?Kc():/^(get|post|head|put|delete|options)$/i.test(this.type)&&
Kc()||kd()}:Kc;var qe=0,ab={},wc=h.ajaxSettings.xhr();b.attachEvent&&b.attachEvent("onunload",function(){for(var a in ab)ab[a](void 0,!0)});H.cors=!!wc&&"withCredentials"in wc;(wc=H.ajax=!!wc)&&h.ajaxTransport(function(a){if(!a.crossDomain||H.cors){var c;return{send:function(d,e){var f,g=a.xhr(),q=++qe;g.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(f in a.xhrFields)g[f]=a.xhrFields[f];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType);a.crossDomain||d["X-Requested-With"]||
(d["X-Requested-With"]="XMLHttpRequest");for(f in d)void 0!==d[f]&&g.setRequestHeader(f,d[f]+"");g.send(a.hasContent&&a.data||null);c=function(b,d){if(c&&(d||4===g.readyState))if(delete ab[q],c=void 0,g.onreadystatechange=h.noop,d)4!==g.readyState&&g.abort();else{var f={};var m=g.status;"string"===typeof g.responseText&&(f.text=g.responseText);try{var l=g.statusText}catch(Xb){l=""}m||!a.isLocal||a.crossDomain?1223===m&&(m=204):m=f.text?200:404}f&&e(m,l,f,g.getAllResponseHeaders())};a.async?4===g.readyState?
b.setTimeout(c):g.onreadystatechange=ab[q]=c:c()},abort:function(){c&&c(void 0,!0)}}}});h.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){h.globalEval(a);return a}}});h.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});
h.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=J.head||h("head")[0]||J.documentElement;return{send:function(d,e){b=J.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,c){if(c||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success")};c.insertBefore(b,c.firstChild)},abort:function(){if(b)b.onload(void 0,
!0)}}}});var xc=[],yc=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=xc.pop()||h.expando+"_"+Hb++;this[a]=!0;return a}});h.ajaxPrefilter("json jsonp",function(a,c,d){var e,f=!1!==a.jsonp&&(yc.test(a.url)?"url":"string"===typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&yc.test(a.data)&&"data");if(f||"jsonp"===a.dataTypes[0]){var g=a.jsonpCallback=h.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback;f?a[f]=a[f].replace(yc,
"$1"+g):!1!==a.jsonp&&(a.url+=(Rc.test(a.url)?"\x26":"?")+a.jsonp+"\x3d"+g);a.converters["script json"]=function(){e||h.error(g+" was not called");return e[0]};a.dataTypes[0]="json";var q=b[g];b[g]=function(){e=arguments};d.always(function(){void 0===q?h(b).removeProp(g):b[g]=q;a[g]&&(a.jsonpCallback=c.jsonpCallback,xc.push(g));e&&h.isFunction(q)&&q(e[0]);e=q=void 0});return"script"}});h.parseHTML=function(a,b,c){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=!1);b=b||J;var d=
N.exec(a);c=!c&&[];if(d)return[b.createElement(d[1])];d=M([a],b,c);c&&c.length&&h(c).remove();return h.merge([],d.childNodes)};var Cd=h.fn.load;h.fn.load=function(a,b,c){if("string"!==typeof a&&Cd)return Cd.apply(this,arguments);var d,e,f=this,g=a.indexOf(" ");if(-1<g){var q=h.trim(a.slice(g,a.length));a=a.slice(0,g)}h.isFunction(b)?(c=b,b=void 0):b&&"object"===typeof b&&(d="POST");0<f.length&&h.ajax({url:a,type:d||"GET",dataType:"html",data:b}).done(function(a){e=arguments;f.html(q?h("\x3cdiv\x3e").append(h.parseHTML(a)).find(q):
a)}).always(c&&function(a,b){f.each(function(){c.apply(this,e||[a.responseText,b,a])})});return this};h.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){h.fn[b]=function(a){return this.on(b,a)}});h.expr.filters.animated=function(a){return h.grep(h.timers,function(b){return a===b.elem}).length};h.offset={setOffset:function(a,b,c){var d=h.css(a,"position"),e=h(a),f={};"static"===d&&(a.style.position="relative");var g=e.offset();var q=h.css(a,"top");var m=
h.css(a,"left");("absolute"===d||"fixed"===d)&&-1<h.inArray("auto",[q,m])?(m=e.position(),q=m.top,m=m.left):(q=parseFloat(q)||0,m=parseFloat(m)||0);h.isFunction(b)&&(b=b.call(a,c,h.extend({},g)));null!=b.top&&(f.top=b.top-g.top+q);null!=b.left&&(f.left=b.left-g.left+m);"using"in b?b.using.call(a,f):e.css(f)}};h.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){h.offset.setOffset(this,a,b)});var b,c={top:0,left:0},d=(b=this[0])&&b.ownerDocument;if(d){var e=
d.documentElement;if(!h.contains(e,b))return c;"undefined"!==typeof b.getBoundingClientRect&&(c=b.getBoundingClientRect());b=ld(d);return{top:c.top+(b.pageYOffset||e.scrollTop)-(e.clientTop||0),left:c.left+(b.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}}},position:function(){if(this[0]){var a={top:0,left:0},b=this[0];if("fixed"===h.css(b,"position"))var c=b.getBoundingClientRect();else{var d=this.offsetParent();c=this.offset();h.nodeName(d[0],"html")||(a=d.offset());a.top+=h.css(d[0],"borderTopWidth",
!0);a.left+=h.css(d[0],"borderLeftWidth",!0)}return{top:c.top-a.top-h.css(b,"marginTop",!0),left:c.left-a.left-h.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&!h.nodeName(a,"html")&&"static"===h.css(a,"position");)a=a.offsetParent;return a||Fb})}});h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);h.fn[a]=function(d){return aa(this,function(a,d,e){var f=ld(a);if(void 0===e)return f?b in f?f[b]:f.document.documentElement[d]:
a[d];f?f.scrollTo(c?h(f).scrollLeft():e,c?e:h(f).scrollTop()):a[d]=e},a,d,arguments.length,null)}});h.each(["top","left"],function(a,b){h.cssHooks[b]=S(H.pixelPosition,function(a,c){if(c)return c=Ja(a,b),Ya.test(c)?h(a).position()[b]+"px":c})});h.each({Height:"height",Width:"width"},function(a,b){h.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){h.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!==typeof d),g=c||(!0===d||!0===e?"margin":"border");return aa(this,function(b,c,
d){return h.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):void 0===d?h.css(b,c,g):h.style(b,c,d,g)},b,f?d:void 0,f,null)}})});h.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,
a||"**",c)}});h.fn.size=function(){return this.length};h.fn.andSelf=h.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return h});var re=b.jQuery,se=b.$;h.noConflict=function(a){b.$===h&&(b.$=se);a&&b.jQuery===h&&(b.jQuery=re);return h};a||(b.jQuery=b.$=h);return h});
jQuery.uaMatch=function(b){b=b.toLowerCase();b=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||0>b.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return{browser:b[1]||"",version:b[2]||"0"}};
jQuery.browser||(matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),jQuery.browser=browser);
!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b(jQuery)}(function(b){function a(){c&&(window.requestAnimationFrame(a),b.fx.tick())}if(3<=Number(b.fn.jquery.split(".")[0]))return void(window.console&&window.console.warn&&window.console.warn("The jquery.requestanimationframe plugin is not needed in jQuery 3.0 or newer as they handle it natively."));var c;window.requestAnimationFrame&&(b.fx.timer=function(d){d()&&b.timers.push(d)&&!c&&(c=!0,a())},b.fx.stop=function(){c=!1})});
(function(b){function a(a){var b=window.document.implementation.createHTMLDocument("");b.body.innerHTML=a;return b.body&&b.body.innerHTML}function c(b){var c=b.replace(d,"\x3c$1\x3e\x3c/$2\x3e");c!==b&&a(b)!==a(c)&&console.warn("HTML tags must be properly nested and closed: "+b)}var d=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,e=b.htmlPrefilter;b.UNSAFE_restoreLegacyHtmlPrefilter=function(){b.htmlPrefilter=function(a){c(a);return a.replace(d,"\x3c$1\x3e\x3c/$2\x3e")}};
b.htmlPrefilter=function(a){c(a);return e(a)}})(window.jQuery);
(function(b){"object"===typeof module&&module.exports?module.exports=b():(window.Granite=window.Granite||{}).Sling=b()})(function(){return{SELECTOR_INFINITY:".infinity",CHARSET:"_charset_",STATUS:":status",STATUS_BROWSER:"browser",OPERATION:":operation",OPERATION_DELETE:"delete",OPERATION_MOVE:"move",DELETE_SUFFIX:"@Delete",TYPEHINT_SUFFIX:"@TypeHint",COPY_SUFFIX:"@CopyFrom",MOVE_SUFFIX:"@MoveFrom",ORDER:":order",REPLACE:":replace",DESTINATION:":dest",SAVE_PARAM_PREFIX:":saveParamPrefix",IGNORE_PARAM:":ignore",
REQUEST_LOGIN_PARAM:"sling:authRequestLogin",LOGIN_URL:"/system/sling/login.html",LOGOUT_URL:"/system/sling/logout.html"}});
(function(b){"object"===typeof module&&module.exports?module.exports=b():(window.Granite=window.Granite||{}).Util=b()})(function(){return{patchText:function(b,a){if(a)if("[object Array]"!==Object.prototype.toString.call(a))b=b.replace("{0}",a);else for(var c=0;c<a.length;c++)b=b.replace("{"+c+"}",a[c]);return b},getTopWindow:function(){var b=window;if(this.iFrameTopWindow)return this.iFrameTopWindow;try{for(;b.parent&&b!==b.parent&&b.parent.location.href;)b=b.parent}catch(a){}return b},setIFrameMode:function(b){this.iFrameTopWindow=
b||window},applyDefaults:function(){for(var b,a=arguments[0]||{},c=1;c<arguments.length;c++){b=arguments[c];for(var d in b){var e=b[d];b.hasOwnProperty(d)&&void 0!==e&&(a[d]=null===e||"object"!==typeof e||e instanceof Array?e instanceof Array?e.slice(0):e:this.applyDefaults(a[d],e))}}return a},getKeyCode:function(b){return b.keyCode?b.keyCode:b.which}}});
(function(b){"object"===typeof module&&module.exports?module.exports=b(require("@granite/util"),require("jquery")):window.Granite.HTTP=b(Granite.Util,jQuery)})(function(b,a){return function(){var c=null,d=/^(?:http|https):\/\/[^/]+(\/.*)\/(?:etc\.clientlibs|etc(\/.*)*\/clientlibs|libs(\/.*)*\/clientlibs|apps(\/.*)*\/clientlibs|etc\/designs).*\.js(\?.*)?$/,e=/[^\w-.~%:/?[\]@!$&'()*+,;=]/,g=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,k=!1,f={getSchemeAndAuthority:function(a){if(!a)return"";
a=g.exec(a);return null===a?"":[a[1],a[3]].join("")},getContextPath:function(){null===c&&(c=f.detectContextPath());return c},detectContextPath:function(){try{if(window.CQURLInfo)c=CQURLInfo.contextPath||"";else{for(var a=document.getElementsByTagName("script"),b=0;b<a.length;b++){var e=d.exec(a[b].src);if(e)return c=e[1]}c=""}}catch(u){}return c},externalize:function(a){try{0===a.indexOf("/")&&f.getContextPath()&&0!==a.indexOf(f.getContextPath()+"/")&&(a=f.getContextPath()+a)}catch(w){}return a},
internalize:function(a,b){if("/"===a.charAt(0))return c===a?"":c&&0===a.indexOf(c+"/")?a.substring(c.length):a;b||(b=document);b=f.getSchemeAndAuthority(b.location.href);var d=f.getSchemeAndAuthority(a);return b===d?a.substring(d.length+(c?c.length:0)):a},getPath:function(a){if(a)a=f.removeParameters(a),a=f.removeAnchor(a);else{if(window.CQURLInfo&&CQURLInfo.requestPath)return CQURLInfo.requestPath;a=window.location.pathname}a=f.internalize(a);var b=a.indexOf(".",a.lastIndexOf("/"));-1!==b&&(a=a.substring(0,
b));return a},removeAnchor:function(a){var b=a.indexOf("#");return 0<=b?a.substring(0,b):a},removeParameters:function(a){var b=a.indexOf("?");return 0<=b?a.substring(0,b):a},encodePathOfURI:function(a){for(var b=["?","#"],c=[a],d,g=0,k=b.length;g<k;g++)if(d=b[g],0<=a.indexOf(d)){c=a.split(d);break}e.test(c[0])&&(c[0]=f.encodePath(c[0]));return c.join(d)},encodePath:function(a){a=encodeURI(a);a=a.replace(/%5B/g,"[").replace(/%5D/g,"]");a=a.replace(/\?/g,"%3F");return a=a.replace(/#/g,"%23")},handleLoginRedirect:function(){if(!k){k=
!0;alert(Granite.I18n.get("Your request could not be completed because you have been signed out."));var a=b.getTopWindow().document.location;a.href=f.externalize("/")+"?resource\x3d"+encodeURIComponent(a.pathname+a.search+a.hash)}},getXhrHook:function(a,b,c){return window.G_XHR_HOOK&&"function"===typeof G_XHR_HOOK?(a={url:a,method:b||"GET"},c&&(a.params=c),G_XHR_HOOK(a)):null},eval:function(b){"object"!==typeof b&&(b=a.ajax({url:b,type:"get",async:!1}));try{return JSON.parse(b.body?b.body:b.responseText)}catch(w){}return null}};
return f}()});
(function(b){"object"===typeof module&&module.exports?module.exports=b(require("@granite/http")):window.Granite.I18n=b(window.Granite.HTTP)})(function(b){return function(){var a={},c="/libs/cq/i18n/dict.",d=".json",e=void 0,g=!1,k=null,f={},l=!1,w=function(a){if(l)return c+a+d;var b,e=document.querySelector("html");e&&(b=e.getAttribute("data-i18n-dictionary-src"));return b?b.replace("{locale}",encodeURIComponent(a)).replace("{+locale}",a):c+a+d};f.LOCALE_DEFAULT="en";f.PSEUDO_LANGUAGE="zz";f.PSEUDO_PATTERN_KEY=
"_pseudoPattern_";f.init=function(a){a=a||{};this.setLocale(a.locale);this.setUrlPrefix(a.urlPrefix);this.setUrlSuffix(a.urlSuffix)};f.setLocale=function(a){a&&(e=a)};f.getLocale=function(){"function"===typeof e&&(e=e());return e||document.documentElement.lang||f.LOCALE_DEFAULT};f.setUrlPrefix=function(a){a&&(c=a,l=!0)};f.setUrlSuffix=function(a){a&&(d=a,l=!0)};f.getDictionary=function(c){c=c||f.getLocale();if(!a[c]){g=0===c.indexOf(f.PSEUDO_LANGUAGE);try{var d=new XMLHttpRequest;d.open("GET",b.externalize(w(c)),
!1);d.send();a[c]=JSON.parse(d.responseText)}catch(x){}a[c]||(a[c]={})}return a[c]};f.get=function(a,b,c){var d;var e=f.getDictionary();var k=g?f.PSEUDO_PATTERN_KEY:c?a+" (("+c+"))":a;e&&(d=e[k]);d||(d=a);g&&(d=d.replace("{string}",a).replace("{comment}",c?c:""));a=d;if(b)if(Array.isArray(b))for(c=0;c<b.length;c++)a=a.replace("{"+c+"}",b[c]);else a=a.replace("{0}",b);return a};f.getVar=function(a,b){return a?f.get(a,null,b):null};f.getLanguages=function(){if(!k)try{var a=b.externalize("/libs/wcm/core/resources/languages.overlay.infinity.json"),
c=new XMLHttpRequest;c.open("GET",a,!1);c.send();var d=JSON.parse(c.responseText);Object.keys(d).forEach(function(a){a=d[a];a.language&&(a.title=f.getVar(a.language));a.title&&a.country&&"*"!==a.country&&(a.title+=" ("+f.getVar(a.country)+")")});k=d}catch(A){k={}}return k};f.parseLocale=function(a){if(!a)return null;var b=a.indexOf("_");0>b&&(b=a.indexOf("-"));if(0>b){var c=a;b=null}else c=a.substring(0,b),b=a.substring(b+1);return{code:a,language:c,country:b}};return f}()});
(function(b){"object"===typeof module&&module.exports?module.exports=b():(window.Granite=window.Granite||{}).TouchIndicator=b()})(function(){var b={},a=[];return{debugWithMouse:!1,init:function(){var a=this,b=function(b){a.update(b.touches);return!0};document.addEventListener("touchstart",b);document.addEventListener("touchmove",b);document.addEventListener("touchend",b);this.debugWithMouse&&document.addEventListener("mousemove",function(b){b.identifer="fake";a.update([b]);return!0})},update:function(c){for(var d=
{},e=0;e<c.length;e++){var g=c[e],k=g.identifier,f=b[k];f||(f=a.pop(),f||(f=document.createElement("div"),f.style.visibility="hidden",f.style.position="absolute",f.style.width="30px",f.style.height="30px",f.style.borderRadius="20px",f.style.border="5px solid orange",f.style.userSelect="none",f.style.opacity="0.5",f.style.zIndex="2000",f.style.pointerEvents="none",document.body.appendChild(f)));d[k]=f;f.style.left=g.pageX-20+"px";f.style.top=g.pageY-20+"px";f.style.visibility="visible"}for(k in b)b.hasOwnProperty(k)&&
!d[k]&&(f=b[k],f.style.visibility="hidden",a.push(f));b=d}}});
(function(b){"object"===typeof module&&module.exports?module.exports=b():(window.Granite=window.Granite||{}).OptOutUtil=b()})(function(b){return function(){var a={},b=[],d=[];a.init=function(a){a?(b=a.cookieNames||[],d=a.whitelistCookieNames||[]):(b=[],d=[])};a.getCookieNames=function(){return b};a.getWhitelistCookieNames=function(){return d};a.isOptedOut=function(){for(var b=document.cookie.split(";"),c=0;c<b.length;c++){var d=b[c].split("\x3d")[0];d=String.prototype.trim?d.trim():d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
"");if(0<=a.getCookieNames().indexOf(d))return!0}return!1};a.maySetCookie=function(b){return!(a.isOptedOut()&&-1===a.getWhitelistCookieNames().indexOf(b))};return a}()});(function(b){"object"===typeof module&&module.exports?module.exports=b():(window.Granite=window.Granite||{}).Toggles=b()})(function(){var b=null;return{RT_NOVEMBER:"ft-cq-4309511",RT_DECEMBER:"ft-cq-4310036",RT_JANUARY:"ft-cq-4296639",isEnabled:function(a){b=b||window.Granite.HTTP.eval("/etc.clientlibs/toggles.json");return(b||{enabled:[]}).enabled.includes(a)}}});
Granite.OptOutUtil.init(window.GraniteOptOutConfig);Granite.HTTP.detectContextPath();
(function(b,a){a.Granite=a.Granite||{};a.Granite.$=a.Granite.$||b;a._g=a._g||{};a._g.$=a._g.$||b;var c=Granite.HTTP;b.ajaxSetup({externalize:!0,encodePath:!0,hook:!0,beforeSend:function(a,e){"undefined"!==typeof G_IS_HOOKED&&G_IS_HOOKED(e.url)||(e.externalize&&(e.url=c.externalize(e.url)),e.encodePath&&(e.url=c.encodePathOfURI(e.url)));e.hook&&(a=c.getXhrHook(e.url,e.type,e.data))&&(e.url=a.url,a.params&&("GET"===e.type.toUpperCase()?e.url+="?"+b.param(a.params):e.data=b.param(a.params)))},statusCode:{403:function(a){"Authentication Failed"===
a.getResponseHeader("X-Reason")&&c.handleLoginRedirect()}}});b.ajaxSettings.traditional=!0})(jQuery,this);
(function(b){window.Granite.csrf||(window.Granite.csrf=b(window.Granite.HTTP))})(function(b){function a(){this._handler=[]}function c(a){var b="//"+document.location.host,c=document.location.protocol+b;return a===c||a.slice(0,c.length+1)===c+"/"||a===b||a.slice(0,b.length+1)===b+"/"||!/^(\/\/|http:|https:).*/.test(a)}function d(a){window.console&&console.warn("CSRF data not available;The data may be unavailable by design, such as during non-authenticated requests: "+a)}function e(){var b=new a;w=
b;var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState)try{m=JSON.parse(c.responseText).token,b.resolve(m)}catch(M){d(M),b.reject(c.responseText)}};c.open("GET",l,!0);c.send();return b}function g(){var a=new XMLHttpRequest;a.open("GET",l,!1);a.send();try{return m=JSON.parse(a.responseText).token}catch(E){d(E)}}function k(a){var b=a.getAttribute("action");"GET"===a.method.toUpperCase()||b&&!c(b)||(m||g(),m&&(b=a.querySelector('input[name\x3d":cq_csrf_token"]'),b||(b=document.createElement("input"),
b.setAttribute("type","hidden"),b.setAttribute("name",":cq_csrf_token"),a.appendChild(b)),b.setAttribute("value",m)))}function f(a){var b=function(a){a=a.target;"FORM"===a.nodeName&&k(a)};a.addEventListener?a.addEventListener("submit",b,!0):a.attachEvent&&a.attachEvent("submit",b)}a.prototype={then:function(a,b){this._handler.push({resolve:a,reject:b})},resolve:function(){this._execute("resolve",arguments)},reject:function(){this._execute("reject",arguments)},_execute:function(a,b){if(null===this._handler)throw Error("Promise already completed.");
for(var c=0,d=this._handler.length;c<d;c++)this._handler[c][a].apply(window,b);this.then=function(c,d){("resolve"===a?c:d).apply(window,b)};this._handler=null}};var l=b.externalize("/libs/granite/csrf/token.json"),w,m;f(document);var u=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(a,b,d){"get"!==a.toLowerCase()&&c(b)&&(this._csrf=!0,this._async=d);return u.apply(this,arguments)};var x=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){if(this._csrf)if(m)this.setRequestHeader("CSRF-Token",
m),x.apply(this,arguments);else if(!1===this._async)g(),m&&this.setRequestHeader("CSRF-Token",m),x.apply(this,arguments);else{var a=this,b=Array.prototype.slice.call(arguments);w.then(function(c){a.setRequestHeader("CSRF-Token",c);x.apply(a,b)},function(){x.apply(a,b)})}else x.apply(this,arguments)};var A=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){k(this);return A.apply(this,arguments)};if(window.Node){var D=Node.prototype.appendChild;Node.prototype.appendChild=function(){var a=
D.apply(this,arguments);if("IFRAME"===a.nodeName)try{a.contentWindow&&!a._csrf&&(a._csrf=!0,f(a.contentWindow.document))}catch(E){a.src&&a.src.length&&c(a.src)&&window.console&&console.error("Unable to attach CSRF token to an iframe element on the same origin")}return a}}e();setInterval(function(){e()},3E5);return{initialised:!1,refreshToken:e,_clearToken:function(){m=void 0;e()}}});
(function(){function b(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function a(a,b,c,d){for(var e=-1,f=null==a?0:a.length;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}function c(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&!1!==b(a[c],c,a););return a}function d(a,b){for(var c=null==a?0:a.length;c--&&!1!==b(a[c],c,a););return a}function e(a,b){for(var c=-1,d=null==a?0:a.length;++c<
d;)if(!b(a[c],c,a))return!1;return!0}function g(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function k(a,b){return!(null==a||!a.length)&&-1<y(a,b,0)}function f(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,a[d]))return!0;return!1}function l(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function w(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function m(a,b,c,d){var e=-1,f=null==
a?0:a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function u(a,b,c,d){var e=null==a?0:a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function x(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function A(a,b,c){var d;c(a,function(a,c,e){if(b(a,c,e))return d=c,!1});return d}function D(a,b,c,d){var e=a.length;for(c+=d?1:-1;d?c--:++c<e;)if(b(a[c],c,a))return c;return-1}function y(a,b,c){if(b===b)a:{--c;for(var d=a.length;++c<d;)if(a[c]===b){a=
c;break a}a=-1}else a=D(a,M,c);return a}function E(a,b,c,d){--c;for(var e=a.length;++c<e;)if(d(a[c],b))return c;return-1}function M(a){return a!==a}function Q(a,b){var c=null==a?0:a.length;return c?X(a,b)/c:na}function B(a){return function(b){return null==b?r:b[a]}}function C(a){return function(b){return null==a?r:a[b]}}function K(a,b,c,d,e){e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)});return c}function ma(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function X(a,b){for(var c,
d=-1,e=a.length;++d<e;){var f=b(a[d]);f!==r&&(c=c===r?f:c+f)}return c}function T(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function Y(a,b){return l(b,function(b){return[b,a[b]]})}function F(a){return function(b){return a(b)}}function I(a,b){return l(b,function(b){return a[b]})}function R(a,b){return a.has(b)}function W(a,b){for(var c=-1,d=a.length;++c<d&&-1<y(b,a[c],0););return c}function S(a,b){for(var c=a.length;c--&&-1<y(b,a[c],0););return c}function ia(a){return"\\"+hc[a]}function ka(a){var b=
-1,c=Array(a.size);a.forEach(function(a,d){c[++b]=[d,a]});return c}function ca(a,b){return function(c){return a(b(c))}}function fa(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c];if(g===b||"__lodash_placeholder__"===g)a[c]="__lodash_placeholder__",f[e++]=c}return f}function O(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=a});return c}function da(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=[a,a]});return c}function q(a){if(tb.test(a)){for(var b=Xa.lastIndex=0;Xa.test(a);)++b;
a=b}else a=Eb(a);return a}function G(a){return tb.test(a)?a.match(Xa)||[]:a.split("")}var r,ha=1/0,na=0/0,cb=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],$b=/\b__p \+= '';/g,ic=/\b(__p \+=) '' \+/g,yb=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jd=/&(?:amp|lt|gt|quot|#39);/g,Qa=/[&<>"']/g,Kc=RegExp(jd.source),kd=RegExp(Qa.source),ld=/<%-([\s\S]+?)%>/g,Na=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,pb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
fd=/^\w*$/,Lc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jc=/[\\^$.*+?()[\]{}|]/g,kc=RegExp(jc.source),oa=/^\s+|\s+$/g,sa=/^\s+/,H=/\s+$/,h=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,db=/\{\n\/\* \[wrapped with (.+)\] \*/,Fa=/,? & /,Kb=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ac=/\\(\\)?/g,sb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,kb=/\w*$/,Bb=/^[-+]0x[0-9a-f]+$/i,cc=/^0b[01]+$/i,N=/^\[object .+?Constructor\]$/,Z=/^0o[0-7]+$/i,eb=/^(?:0|[1-9]\d*)$/,
Cb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ob=/($^)/,Oc=/['\n\r\u2028\u2029\\]/g,Ca="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*",va="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+Ca,Pc=/['\u2019]/g,Wb=/[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]/g,
Xa=RegExp("\\ud83c[\\udffb-\\udfff](?\x3d\\ud83c[\\udffb-\\udfff])|(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]?|[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])"+Ca,"g"),ae=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?\x3d[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?\x3d[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?\x3d\\b|[a-z_])|\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?\x3d\\b|[A-Z_])|\\d+",
va].join("|"),"g"),tb=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,Hc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wb="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),Zb=-1,aa={};aa["[object Float32Array]"]=aa["[object Float64Array]"]=
aa["[object Int8Array]"]=aa["[object Int16Array]"]=aa["[object Int32Array]"]=aa["[object Uint8Array]"]=aa["[object Uint8ClampedArray]"]=aa["[object Uint16Array]"]=aa["[object Uint32Array]"]=!0;aa["[object Arguments]"]=aa["[object Array]"]=aa["[object ArrayBuffer]"]=aa["[object Boolean]"]=aa["[object DataView]"]=aa["[object Date]"]=aa["[object Error]"]=aa["[object Function]"]=aa["[object Map]"]=aa["[object Number]"]=aa["[object Object]"]=aa["[object RegExp]"]=aa["[object Set]"]=aa["[object String]"]=
aa["[object WeakMap]"]=!1;var pa={};pa["[object Arguments]"]=pa["[object Array]"]=pa["[object ArrayBuffer]"]=pa["[object DataView]"]=pa["[object Boolean]"]=pa["[object Date]"]=pa["[object Float32Array]"]=pa["[object Float64Array]"]=pa["[object Int8Array]"]=pa["[object Int16Array]"]=pa["[object Int32Array]"]=pa["[object Map]"]=pa["[object Number]"]=pa["[object Object]"]=pa["[object RegExp]"]=pa["[object Set]"]=pa["[object String]"]=pa["[object Symbol]"]=pa["[object Uint8Array]"]=pa["[object Uint8ClampedArray]"]=
pa["[object Uint16Array]"]=pa["[object Uint32Array]"]=!0;pa["[object Error]"]=pa["[object Function]"]=pa["[object WeakMap]"]=!1;var hc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dd=parseFloat,Jc=parseInt,ua="object"==typeof global&&global&&global.Object===Object&&global,Ic="object"==typeof self&&self&&self.Object===Object&&self,Aa=ua||Ic||Function("return this")(),Db="object"==typeof exports&&exports&&!exports.nodeType&&exports,fb=Db&&"object"==typeof module&&module&&
!module.nodeType&&module,ud=fb&&fb.exports===Db,Pb=ud&&ua.process,wa=function(){try{var a=fb&&fb.require&&fb.require("util").types;return a?a:Pb&&Pb.binding&&Pb.binding("util")}catch(Fb){}}(),vd=wa&&wa.isArrayBuffer,Qc=wa&&wa.isDate,wd=wa&&wa.isMap,gd=wa&&wa.isRegExp,ed=wa&&wa.isSet,hd=wa&&wa.isTypedArray,Eb=B("length"),Yb=C({"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c",
"\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u",
"\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G",
"\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N",
"\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u",
"\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),id=C({"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"}),xd=C({"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"',"\x26#39;":"'"}),Ya=function lb(C){function p(a){if(za(a)&&!ba(a)&&!(a instanceof
V)){if(a instanceof va)return a;if(ra.call(a,"__wrapped__"))return wf(a)}return new va(a)}function Ca(){}function va(a,b){this.__wrapped__=a;this.__actions__=[];this.__chain__=!!b;this.__index__=0;this.__values__=r}function V(a){this.__wrapped__=a;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=4294967295;this.__views__=[]}function Xa(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var v=a[b];this.set(v[0],v[1])}}function ua(a){var b=-1,c=
null==a?0:a.length;for(this.clear();++b<c;){var v=a[b];this.set(v[0],v[1])}}function wa(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var v=a[b];this.set(v[0],v[1])}}function ub(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new wa;++b<c;)this.add(a[b])}function Pa(a){this.size=(this.__data__=new ua(a)).size}function fb(a,b){var c=ba(a),v=!c&&ec(a),d=!c&&!v&&Tb(a),e=!c&&!v&&!d&&zc(a);v=(c=c||v||d||e)?T(a.length,Ug):[];var z=v.length,f;for(f in a)!b&&!ra.call(a,f)||c&&("length"==f||
d&&("offset"==f||"parent"==f)||e&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Ab(f,z))||v.push(f);return v}function xb(a){var b=a.length;return b?a[ce(0,b-1)]:r}function Db(a,b){return Dd(Ra(a),$a(b,0,a.length))}function Pb(a){return Dd(Ra(a))}function Eb(a,b,c){(c===r||ob(a[b],c))&&(c!==r||b in a)||Sa(a,b,c)}function dc(a,b,c){var v=a[b];ra.call(a,b)&&ob(v,c)&&(c!==r||b in a)||Sa(a,b,c)}function qc(a,b){for(var c=a.length;c--;)if(ob(a[c][0],b))return c;return-1}function mb(a,b,c,d){Ub(a,function(a,
v,e){b(d,a,c(a),e)});return d}function rc(a,b){return a&&rb(b,Ia(b),a)}function Gb(a,b){return a&&rb(b,Ua(b),a)}function Sa(a,b,c){"__proto__"==b&&Ed?Ed(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}function Fb(a,b){for(var c=-1,v=b.length,d=Ga(v),e=null==a;++c<v;)d[c]=e?r:te(a,b[c]);return d}function $a(a,b,c){a===a&&(c!==r&&(a=a<=c?a:c),b!==r&&(a=a>=b?a:b));return a}function Ta(a,b,d,e,f,g){var v,z=b&1,P=b&2,q=b&4;d&&(v=f?d(a,e,f,g):d(a));if(v!==r)return v;if(!ya(a))return a;if(e=
ba(a)){if(v=Fg(a),!z)return Ra(a,v)}else{var h=La(a),k="[object Function]"==h||"[object GeneratorFunction]"==h;if(Tb(a))return pf(a,z);if("[object Object]"==h||"[object Arguments]"==h||k&&!f){if(v=P||k?{}:nf(a),!z)return P?Mg(a,Gb(v,a)):Eg(a,rc(v,a))}else{if(!pa[h])return f?a:{};v=Gg(a,h,z)}}g||(g=new Pa);if(f=g.get(a))return f;g.set(a,v);xf(a)?a.forEach(function(c){v.add(Ta(c,b,d,c,a,g))}):yf(a)&&a.forEach(function(c,e){v.set(e,Ta(c,b,d,e,a,g))});P=q?P?fe:ee:P?Ua:Ia;var m=e?r:P(a);c(m||a,function(c,
e){m&&(e=c,c=a[e]);dc(v,e,Ta(c,b,d,e,a,g))});return v}function hc(a){var b=Ia(a);return function(c){return sc(c,a,b)}}function sc(a,b,c){var d=c.length;if(null==a)return!d;for(a=xa(a);d--;){var v=c[d],e=b[v],z=a[v];if(z===r&&!(v in a)||!e(z))return!1}return!0}function zd(a,b,c){if("function"!=typeof a)throw new hb("Expected a function");return Wc(function(){a.apply(r,c)},b)}function Hb(a,b,c,d){var v=-1,e=k,z=!0,g=a.length,P=[],q=b.length;if(!g)return P;c&&(b=l(b,F(c)));d?(e=f,z=!1):200<=b.length&&
(e=R,z=!1,b=new ub(b));a:for(;++v<g;){var h=a[v],m=null==c?h:c(h);h=d||0!==h?h:0;if(z&&m===m){for(var r=q;r--;)if(b[r]===m)continue a;P.push(h)}else e(b,m,d)||P.push(h)}return P}function Rc(a,b){var c=!0;Ub(a,function(a,d,v){return c=!!b(a,d,v)});return c}function tc(a,b,c){for(var d=-1,v=a.length;++d<v;){var e=a[d],z=b(e);if(null!=z&&(f===r?z===z&&!bb(z):c(z,f)))var f=z,g=e}return g}function Ad(a,b){var c=[];Ub(a,function(a,d,v){b(a,d,v)&&c.push(a)});return c}function Da(a,b,c,d,e){var v=-1,z=a.length;
c||(c=Hg);for(e||(e=[]);++v<z;){var f=a[v];0<b&&c(f)?1<b?Da(f,b-1,c,d,e):w(e,f):d||(e[e.length]=f)}return e}function gb(a,b){return a&&ue(a,b,Ia)}function Sc(a,b){return a&&zf(a,b,Ia)}function uc(a,b){return g(b,function(b){return Ib(a[b])})}function nb(a,b){b=Lb(b,a);for(var c=0,d=b.length;null!=a&&c<d;)a=a[vb(b[c++])];return c&&c==d?a:r}function Tc(a,b,c){b=b(a);return ba(a)?b:w(b,c(a))}function Ea(a){if(null==a)return a===r?"[object Undefined]":"[object Null]";if(fc&&fc in xa(a)){var b=ra.call(a,
fc),c=a[fc];try{a[fc]=r;var d=!0}catch(Ji){}var v=Fd.call(a);d&&(b?a[fc]=c:delete a[fc]);a=v}else a=Fd.call(a);return a}function vc(a,b){return a>b}function Uc(a,b){return null!=a&&ra.call(a,b)}function Rb(a,b){return null!=a&&b in xa(a)}function Vc(a,b,c){for(var d=c?f:k,v=a[0].length,e=a.length,z=e,g=Ga(e),q=Infinity,P=[];z--;){var h=a[z];z&&b&&(h=l(h,F(b)));q=Ma(h.length,q);g[z]=!c&&(b||120<=v&&120<=h.length)?new ub(z&&h):r}h=a[0];var m=-1,u=g[0];a:for(;++m<v&&P.length<q;){var G=h[m],w=b?b(G):
G;G=c||0!==G?G:0;if(u?!u.has(w):!d(P,w,c)){for(z=e;--z;){var y=g[z];if(y?!y.has(w):!d(a[z],w,c))continue a}u&&u.push(w);P.push(G)}}return P}function Ic(a,b,c,d){gb(a,function(a,v,e){b(d,c(a),v,e)});return d}function Sb(a,c,d){c=Lb(c,a);a=2>c.length?a:nb(a,Ka(c,0,-1));c=null==a?a:a[vb(ib(c))];return null==c?r:b(c,a,d)}function Bd(a){return za(a)&&"[object Arguments]"==Ea(a)}function pe(a){return za(a)&&"[object ArrayBuffer]"==Ea(a)}function qe(a){return za(a)&&"[object Date]"==Ea(a)}function ab(a,
b,c,d,e){if(a===b)return!0;if(null==a||null==b||!za(a)&&!za(b))return a!==a&&b!==b;a:{var v=ba(a),z=ba(b),f=v?"[object Array]":La(a),g=z?"[object Array]":La(b);f="[object Arguments]"==f?"[object Object]":f;g="[object Arguments]"==g?"[object Object]":g;var q="[object Object]"==f;z="[object Object]"==g;if((g=f==g)&&Tb(a)){if(!Tb(b)){b=!1;break a}v=!0;q=!1}if(g&&!q)e||(e=new Pa),b=v||zc(a)?af(a,b,c,d,ab,e):Bg(a,b,f,c,d,ab,e);else{if(!(c&1)&&(v=q&&ra.call(a,"__wrapped__"),f=z&&ra.call(b,"__wrapped__"),
v||f)){a=v?a.value():a;b=f?b.value():b;e||(e=new Pa);b=ab(a,b,c,d,e);break a}if(g)b:if(e||(e=new Pa),v=c&1,f=ee(a),z=f.length,g=ee(b).length,z==g||v){for(q=z;q--;){var P=f[q];if(!(v?P in b:ra.call(b,P))){b=!1;break b}}if((g=e.get(a))&&e.get(b))b=g==b;else{g=!0;e.set(a,b);e.set(b,a);for(var h=v;++q<z;){P=f[q];var k=a[P],m=b[P];if(d)var l=v?d(m,k,P,b,a,e):d(k,m,P,a,b,e);if(l===r?k!==m&&!ab(k,m,c,d,e):!l){g=!1;break}h||(h="constructor"==P)}g&&!h&&(c=a.constructor,d=b.constructor,c!=d&&"constructor"in
a&&"constructor"in b&&!("function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)&&(g=!1));e["delete"](a);e["delete"](b);b=g}}else b=!1;else b=!1}}return b}function wc(a){return za(a)&&"[object Map]"==La(a)}function xc(a,b,c,d){var v=c.length,e=v,z=!d;if(null==a)return!e;for(a=xa(a);v--;){var f=c[v];if(z&&f[2]?f[1]!==a[f[0]]:!(f[0]in a))return!1}for(;++v<e;){f=c[v];var g=f[0],q=a[g],P=f[1];if(z&&f[2]){if(q===r&&!(g in a))return!1}else{f=new Pa;if(d)var h=d(q,P,g,a,b,f);if(h===r?
!ab(P,q,3,d,f):!h)return!1}}return!0}function yc(a){return!ya(a)||Af&&Af in a?!1:(Ib(a)?Vg:N).test(gc(a))}function Cd(a){return za(a)&&"[object RegExp]"==Ea(a)}function re(a){return za(a)&&"[object Set]"==La(a)}function se(a){return za(a)&&Gd(a.length)&&!!aa[Ea(a)]}function n(a){return"function"==typeof a?a:null==a?Va:"object"==typeof a?ba(a)?be(a[0],a[1]):$d(a):Bf(a)}function t(a){if(!Xc(a))return Wg(a);var b=[],c;for(c in xa(a))ra.call(a,c)&&"constructor"!=c&&b.push(c);return b}function L(a,b){return a<
b}function ta(a,b){var c=-1,d=Wa(a)?Ga(a.length):[];Ub(a,function(a,v,e){d[++c]=b(a,v,e)});return d}function $d(a){var b=ke(a);return 1==b.length&&b[0][2]?Cf(b[0][0],b[0][1]):function(c){return c===a||xc(c,a,b)}}function be(a,b){return ve(a)&&b===b&&!ya(b)?Cf(vb(a),b):function(c){var d=te(c,a);return d===r&&d===b?we(c,a):ab(b,d,3)}}function Gc(a,b,c,d,e){a!==b&&ue(b,function(v,z){e||(e=new Pa);if(ya(v)){v=e;var f=xe(a,z),g=xe(b,z),q=v.get(g);if(q)Eb(a,z,q);else{q=d?d(f,g,z+"",a,b,v):r;var P=q===r;
if(P){var h=ba(g),k=!h&&Tb(g),m=!h&&!k&&zc(g);q=g;if(h||k||m)ba(f)?q=f:Ba(f)?q=Ra(f):k?(P=!1,q=pf(g,!0)):m?(P=!1,q=of(g,!0)):q=[];else if(Yc(g)||ec(g))if(q=f,ec(f))q=Df(f);else{if(!ya(f)||Ib(f))q=nf(g)}else P=!1}P&&(v.set(g,q),Gc(q,g,c,d,v),v["delete"](g));Eb(a,z,q)}}else f=d?d(xe(a,z),v,z+"",a,b,e):r,f===r&&(f=v),Eb(a,z,f)},Ua)}function Te(a,b){var c=a.length;if(c)return b+=0>b?c:0,Ab(b,c)?a[b]:r}function Ue(a,b,c){var d=-1;b=l(b.length?b:[Va],F(U()));a=ta(a,function(a,c,v){return{criteria:l(b,function(b){return b(a)}),
index:++d,value:a}});return ma(a,function(a,b){a:{for(var d=-1,v=a.criteria,e=b.criteria,z=v.length,f=c.length;++d<z;){var g=qf(v[d],e[d]);if(g){if(d>=f){a=g;break a}a=g*("desc"==c[d]?-1:1);break a}}a=a.index-b.index}return a})}function Ve(a,b){return We(a,b,function(b,c){return we(a,c)})}function We(a,b,c){for(var d=-1,v=b.length,e={};++d<v;){var z=b[d],f=nb(a,z);c(f,z)&&mc(e,Lb(z,a),f)}return e}function yg(a){return function(b){return nb(b,a)}}function Xb(a,b,c,d){var v=d?E:y,e=-1,z=b.length,f=
a;a===b&&(b=Ra(b));for(c&&(f=l(a,F(c)));++e<z;){var g=0,q=b[e];for(q=c?c(q):q;-1<(g=v(f,q,g,d));)f!==a&&Hd.call(f,g,1),Hd.call(a,g,1)}return a}function Xe(a,b){for(var c=a?b.length:0,d=c-1;c--;){var v=b[c];if(c==d||v!==e){var e=v;Ab(v)?Hd.call(a,v,1):ge(a,v)}}return a}function ce(a,b){return a+Id(Ef()*(b-a+1))}function je(a,b){var c="";if(!a||1>b||9007199254740991<b)return c;do b%2&&(c+=a),(b=Id(b/2))&&(a+=a);while(b);return c}function ja(a,b){return ye(Ff(a,b,Va),a+"")}function Ig(a){return xb(Ac(a))}
function Kg(a,b){a=Ac(a);return Dd(a,$a(b,0,a.length))}function mc(a,b,c,d){if(!ya(a))return a;b=Lb(b,a);for(var v=-1,e=b.length,z=e-1,f=a;null!=f&&++v<e;){var g=vb(b[v]),q=c;if(v!=z){var h=f[g];q=d?d(h,g,f):r;q===r&&(q=ya(h)?h:Ab(b[v+1])?[]:{})}dc(f,g,q);f=f[g]}return a}function Jg(a){return Dd(Ac(a))}function Ka(a,b,c){var d=-1,v=a.length;0>b&&(b=-b>v?0:v+b);c=c>v?v:c;0>c&&(c+=v);v=b>c?0:c-b>>>0;b>>>=0;for(c=Ga(v);++d<v;)c[d]=a[d+b];return c}function Lg(a,b){var c;Ub(a,function(a,d,v){c=b(a,d,v);
return!c});return!!c}function nd(a,b,c){var d=0,v=null==a?d:a.length;if("number"==typeof b&&b===b&&2147483647>=v){for(;d<v;){var e=d+v>>>1,z=a[e];null!==z&&!bb(z)&&(c?z<=b:z<b)?d=e+1:v=e}return v}return le(a,b,Va,c)}function le(a,b,c,d){b=c(b);for(var v=0,e=null==a?0:a.length,z=b!==b,f=null===b,g=bb(b),q=b===r;v<e;){var h=Id((v+e)/2),P=c(a[h]),k=P!==r,m=null===P,l=P===P,u=bb(P);(z?d||l:q?l&&(d||k):f?l&&k&&(d||!m):g?l&&k&&!m&&(d||!u):m||u?0:d?P<=b:P<b)?v=h+1:e=h}return Ma(e,4294967294)}function cf(a,
b){for(var c=-1,d=a.length,v=0,e=[];++c<d;){var z=a[c],f=b?b(z):z;if(!c||!ob(f,g)){var g=f;e[v++]=0===z?0:z}}return e}function ef(a){return"number"==typeof a?a:bb(a)?na:+a}function Za(a){if("string"==typeof a)return a;if(ba(a))return l(a,Za)+"";if(bb(a))return Gf?Gf.call(a):"";var b=a+"";return"0"==b&&1/a==-ha?"-0":b}function Mb(a,b,c){var d=-1,v=k,e=a.length,z=!0,g=[],q=g;if(c)z=!1,v=f;else if(200<=e){if(v=b?null:Xg(a))return O(v);z=!1;v=R;q=new ub}else q=b?[]:g;a:for(;++d<e;){var h=a[d],P=b?b(h):
h;h=c||0!==h?h:0;if(z&&P===P){for(var m=q.length;m--;)if(q[m]===P)continue a;b&&q.push(P);g.push(h)}else v(q,P,c)||(q!==g&&q.push(P),g.push(h))}return g}function ge(a,b){b=Lb(b,a);a=2>b.length?a:nb(a,Ka(b,0,-1));return null==a||delete a[vb(ib(b))]}function od(a,b,c,d){for(var v=a.length,e=d?v:-1;(d?e--:++e<v)&&b(a[e],e,a););return c?Ka(a,d?0:e,d?e+1:v):Ka(a,d?e+1:0,d?v:e)}function bf(a,b){a instanceof V&&(a=a.value());return m(b,function(a,b){return b.func.apply(b.thisArg,w([a],b.args))},a)}function ie(a,
b,c){var d=a.length;if(2>d)return d?Mb(a[0]):[];for(var v=-1,e=Ga(d);++v<d;)for(var z=a[v],f=-1;++f<d;)f!=v&&(e[v]=Hb(e[v]||z,a[f],b,c));return Mb(Da(e,1),b,c)}function lf(a,b,c){for(var d=-1,v=a.length,e=b.length,z={};++d<v;)c(z,a[d],d<e?b[d]:r);return z}function me(a){return Ba(a)?a:[]}function ne(a){return"function"==typeof a?a:Va}function Lb(a,b){return ba(a)?a:ve(a,b)?[a]:Hf(qa(a))}function Nb(a,b,c){var d=a.length;c=c===r?d:c;return!b&&c>=d?a:Ka(a,b,c)}function pf(a,b){if(b)return a.slice();
b=a.length;b=If?If(b):new a.constructor(b);a.copy(b);return b}function Mc(a){var b=new a.constructor(a.byteLength);(new Jd(b)).set(new Jd(a));return b}function of(a,b){b=b?Mc(a.buffer):a.buffer;return new a.constructor(b,a.byteOffset,a.length)}function qf(a,b){if(a!==b){var c=a!==r,d=null===a,v=a===a,e=bb(a),z=b!==r,f=null===b,g=b===b,q=bb(b);if(!f&&!q&&!e&&a>b||e&&z&&g&&!f&&!q||d&&z&&g||!c&&g||!v)return 1;if(!d&&!e&&!q&&a<b||q&&c&&v&&!d&&!e||f&&c&&v||!z&&v||!g)return-1}return 0}function df(a,b,c,
d){var v=-1,e=a.length,z=c.length,f=-1,g=b.length,q=Ha(e-z,0),h=Ga(g+q);for(d=!d;++f<g;)h[f]=b[f];for(;++v<z;)if(d||v<e)h[c[v]]=a[v];for(;q--;)h[f++]=a[v++];return h}function rf(a,b,c,d){var v=-1,e=a.length,z=-1,f=c.length,g=-1,q=b.length,h=Ha(e-f,0),P=Ga(h+q);for(d=!d;++v<h;)P[v]=a[v];for(h=v;++g<q;)P[h+g]=b[g];for(;++z<f;)if(d||v<e)P[h+c[z]]=a[v++];return P}function Ra(a,b){var c=-1,d=a.length;for(b||(b=Ga(d));++c<d;)b[c]=a[c];return b}function rb(a,b,c,d){var v=!c;c||(c={});for(var e=-1,z=b.length;++e<
z;){var f=b[e],g=d?d(c[f],a[f],f,c,a):r;g===r&&(g=a[f]);v?Sa(c,f,g):dc(c,f,g)}return c}function Eg(a,b){return rb(a,ze(a),b)}function Mg(a,b){return rb(a,Jf(a),b)}function qd(b,c){return function(d,v){var e=ba(d)?a:mb,z=c?c():{};return e(d,b,U(v,2),z)}}function nc(a){return ja(function(b,c){var d=-1,e=c.length,v=1<e?c[e-1]:r,z=2<e?c[2]:r;v=3<a.length&&"function"==typeof v?(e--,v):r;z&&Oa(c[0],c[1],z)&&(v=3>e?r:v,e=1);for(b=xa(b);++d<e;)(z=c[d])&&a(b,z,d,v);return b})}function sf(a,b){return function(c,
d){if(null==c)return c;if(!Wa(c))return a(c,d);for(var e=c.length,v=b?e:-1,z=xa(c);(b?v--:++v<e)&&!1!==d(z[v],v,z););return c}}function hf(a){return function(b,c,d){var e=-1,v=xa(b);d=d(b);for(var z=d.length;z--;){var f=d[a?z:++e];if(!1===c(v[f],f,v))break}return b}}function Ng(a,b,c){function d(){return(this&&this!==Aa&&this instanceof d?v:a).apply(e?c:this,arguments)}var e=b&1,v=Nc(a);return d}function tf(a){return function(b){b=qa(b);var c=tb.test(b)?G(b):r,d=c?c[0]:b.charAt(0);b=c?Nb(c,1).join(""):
b.slice(1);return d[a]()+b}}function oc(a){return function(b){return m(Kf(Lf(b).replace(Pc,"")),a,"")}}function Nc(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Bc(a.prototype);b=a.apply(c,
b);return ya(b)?b:c}}function Dg(a,c,d){function e(){for(var z=arguments.length,f=Ga(z),g=z,q=lc(e);g--;)f[g]=arguments[g];g=3>z&&f[0]!==q&&f[z-1]!==q?[]:fa(f,q);z-=g.length;return z<d?gf(a,c,rd,e.placeholder,r,f,g,r,r,d-z):b(this&&this!==Aa&&this instanceof e?v:a,this,f)}var v=Nc(a);return e}function jf(a){return function(b,c,d){var e=xa(b);if(!Wa(b)){var v=U(c,3);b=Ia(b);c=function(a){return v(e[a],a,e)}}c=a(b,c,d);return-1<c?e[v?b[c]:c]:r}}function ff(a){return zb(function(b){var c=b.length,d=
c,e=va.prototype.thru;for(a&&b.reverse();d--;){var v=b[d];if("function"!=typeof v)throw new hb("Expected a function");if(e&&!z&&"wrapper"==md(v))var z=new va([],!0)}for(d=z?d:c;++d<c;){v=b[d];e=md(v);var f="wrapper"==e?Ae(v):r;z=f&&Be(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?z[md(f[0])].apply(z,f[3]):1==v.length&&Be(v)?z[e]():z.thru(v)}return function(){var a=arguments,d=a[0];if(z&&1==a.length&&ba(d))return z.plant(d).value();var e=0;for(a=c?b[e].apply(this,a):d;++e<c;)a=b[e].call(this,a);return a}})}
function rd(a,b,c,d,e,f,g,q,h,k){function v(){for(var w=arguments.length,y=Ga(w),n=w;n--;)y[n]=arguments[n];if(l){var O=lc(v),B;n=y.length;for(B=0;n--;)y[n]===O&&++B}d&&(y=df(y,d,e,l));f&&(y=rf(y,f,g,l));w-=B;if(l&&w<k)return O=fa(y,O),gf(a,b,rd,v.placeholder,c,y,O,q,h,k-w);O=P?c:this;n=m?O[a]:a;w=y.length;if(q){B=y.length;for(var F=Ma(q.length,B),A=Ra(y);F--;){var p=q[F];y[F]=Ab(p,B)?A[p]:r}}else u&&1<w&&y.reverse();z&&h<w&&(y.length=h);this&&this!==Aa&&this instanceof v&&(n=G||Nc(n));return n.apply(O,
y)}var z=b&128,P=b&1,m=b&2,l=b&24,u=b&512,G=m?r:Nc(a);return v}function uf(a,b){return function(c,d){return Ic(c,a,b(d),{})}}function sd(a,b){return function(c,d){var e;if(c===r&&d===r)return b;c!==r&&(e=c);if(d!==r){if(e===r)return d;"string"==typeof c||"string"==typeof d?(c=Za(c),d=Za(d)):(c=ef(c),d=ef(d));e=a(c,d)}return e}}function he(a){return zb(function(c){c=l(c,F(U()));return ja(function(d){var e=this;return a(c,function(a){return b(a,e,d)})})})}function td(a,b){b=b===r?" ":Za(b);var c=b.length;
if(2>c)return c?je(b,a):b;c=je(b,Kd(a/q(b)));return tb.test(b)?Nb(G(c),0,a).join(""):c.slice(0,a)}function Cg(a,c,d,e){function v(){for(var c=-1,g=arguments.length,q=-1,h=e.length,k=Ga(h+g),m=this&&this!==Aa&&this instanceof v?f:a;++q<h;)k[q]=e[q];for(;g--;)k[q++]=arguments[++c];return b(m,z?d:this,k)}var z=c&1,f=Nc(a);return v}function vf(a){return function(b,c,d){d&&"number"!=typeof d&&Oa(b,c,d)&&(c=d=r);b=Jb(b);c===r?(c=b,b=0):c=Jb(c);d=d===r?b<c?1:-1:Jb(d);var e=-1;c=Ha(Kd((c-b)/(d||1)),0);for(var v=
Ga(c);c--;)v[a?c:++e]=b,b+=d;return v}}function la(a){return function(b,c){if("string"!=typeof b||"string"!=typeof c)b=jb(b),c=jb(c);return a(b,c)}}function gf(a,b,c,d,e,f,g,q,h,k){var v=b&8,z=v?g:r;g=v?r:g;var m=v?f:r;f=v?r:f;b=(b|(v?32:64))&~(v?64:32);b&4||(b&=-4);e=[a,b,e,m,z,f,g,q,h,k];c=c.apply(r,e);Be(a)&&Mf(c,e);c.placeholder=d;return Nf(c,a,b)}function oe(a){var b=Cc[a];return function(a,c){a=jb(a);return(c=null==c?0:Ma(ea(c),292))&&Of(a)?(a=(qa(a)+"e").split("e"),a=b(a[0]+"e"+(+a[1]+c)),
a=(qa(a)+"e").split("e"),+(a[0]+"e"+(+a[1]-c))):b(a)}}function kf(a){return function(b){var c=La(b);return"[object Map]"==c?ka(b):"[object Set]"==c?da(b):Y(b,a(b))}}function qb(a,b,c,d,e,f,g,q){var v=b&2;if(!v&&"function"!=typeof a)throw new hb("Expected a function");var z=d?d.length:0;z||(b&=-97,d=e=r);g=g===r?g:Ha(ea(g),0);q=q===r?q:ea(q);z-=e?e.length:0;if(b&64){var h=d,k=e;d=e=r}var m=v?r:Ae(a);f=[a,b,c,d,e,h,k,f,g,q];if(m&&(c=f[1],a=m[1],b=c|a,d=128==a&&8==c||128==a&&256==c&&f[7].length<=m[8]||
384==a&&m[7].length<=m[8]&&8==c,131>b||d)){a&1&&(f[2]=m[2],b|=c&1?0:4);if(c=m[3])d=f[3],f[3]=d?df(d,c,m[4]):c,f[4]=d?fa(f[3],"__lodash_placeholder__"):m[4];if(c=m[5])d=f[5],f[5]=d?rf(d,c,m[6]):c,f[6]=d?fa(f[5],"__lodash_placeholder__"):m[6];(c=m[7])&&(f[7]=c);a&128&&(f[8]=null==f[8]?m[8]:Ma(f[8],m[8]));null==f[9]&&(f[9]=m[9]);f[0]=m[0];f[1]=b}a=f[0];b=f[1];c=f[2];d=f[3];e=f[4];q=f[9]=f[9]===r?v?0:a.length:Ha(f[9]-z,0);!q&&b&24&&(b&=-25);v=b&&1!=b?8==b||16==b?Dg(a,b,q):32!=b&&33!=b||e.length?rd.apply(r,
f):Cg(a,b,c,d):Ng(a,b,c);return Nf((m?Pf:Mf)(v,f),a,b)}function Ze(a,b,c,d){return a===r||ob(a,Dc[c])&&!ra.call(d,c)?b:a}function de(a,b,c,d,e,f){ya(a)&&ya(b)&&(f.set(b,a),Gc(a,b,r,de,f),f["delete"](b));return a}function $e(a){return Yc(a)?r:a}function af(a,b,c,d,e,f){var v=c&1,z=a.length,g=b.length;if(z!=g&&!(v&&g>z))return!1;if((g=f.get(a))&&f.get(b))return g==b;g=-1;var q=!0,h=c&2?new ub:r;f.set(a,b);for(f.set(b,a);++g<z;){var k=a[g],m=b[g];if(d)var l=v?d(m,k,g,b,a,f):d(k,m,g,a,b,f);if(l!==r){if(l)continue;
q=!1;break}if(h){if(!x(b,function(a,b){if(!h.has(b)&&(k===a||e(k,a,c,d,f)))return h.push(b)})){q=!1;break}}else if(k!==m&&!e(k,m,c,d,f)){q=!1;break}}f["delete"](a);f["delete"](b);return q}function Bg(a,b,c,d,e,f,g){switch(c){case "[object DataView]":if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)break;a=a.buffer;b=b.buffer;case "[object ArrayBuffer]":if(a.byteLength!=b.byteLength||!f(new Jd(a),new Jd(b)))break;return!0;case "[object Boolean]":case "[object Date]":case "[object Number]":return ob(+a,
+b);case "[object Error]":return a.name==b.name&&a.message==b.message;case "[object RegExp]":case "[object String]":return a==b+"";case "[object Map]":var v=ka;case "[object Set]":v||(v=O);if(a.size!=b.size&&!(d&1))break;if(c=g.get(a))return c==b;d|=2;g.set(a,b);b=af(v(a),v(b),d,e,f,g);g["delete"](a);return b;case "[object Symbol]":if(Zc)return Zc.call(a)==Zc.call(b)}return!1}function zb(a){return ye(Ff(a,r,Qf),a+"")}function ee(a){return Tc(a,Ia,ze)}function fe(a){return Tc(a,Ua,Jf)}function md(a){for(var b=
a.name+"",c=Ec[b],d=ra.call(Ec,b)?c.length:0;d--;){var e=c[d],v=e.func;if(null==v||v==a)return e.name}return b}function lc(a){return(ra.call(p,"placeholder")?p:a).placeholder}function U(){var a=p.iteratee||Ce;a=a===Ce?n:a;return arguments.length?a(arguments[0],arguments[1]):a}function pd(a,b){a=a.__data__;var c=typeof b;return("string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==b:null===b)?a["string"==typeof b?"string":"hash"]:a.map}function ke(a){for(var b=Ia(a),c=b.length;c--;){var d=
b[c],e=a[d];b[c]=[d,e,e===e&&!ya(e)]}return b}function bc(a,b){a=null==a?r:a[b];return yc(a)?a:r}function mf(a,b,c){b=Lb(b,a);for(var d=-1,e=b.length,v=!1;++d<e;){var f=vb(b[d]);if(!(v=null!=a&&c(a,f)))break;a=a[f]}if(v||++d!=e)return v;e=null==a?0:a.length;return!!e&&Gd(e)&&Ab(f,e)&&(ba(a)||ec(a))}function Fg(a){var b=a.length,c=new a.constructor(b);b&&"string"==typeof a[0]&&ra.call(a,"index")&&(c.index=a.index,c.input=a.input);return c}function nf(a){return"function"!=typeof a.constructor||Xc(a)?
{}:Bc(Ld(a))}function Gg(a,b,c){var d=a.constructor;switch(b){case "[object ArrayBuffer]":return Mc(a);case "[object Boolean]":case "[object Date]":return new d(+a);case "[object DataView]":return b=c?Mc(a.buffer):a.buffer,new a.constructor(b,a.byteOffset,a.byteLength);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return of(a,
c);case "[object Map]":return new d;case "[object Number]":case "[object String]":return new d(a);case "[object RegExp]":return b=new a.constructor(a.source,kb.exec(a)),b.lastIndex=a.lastIndex,b;case "[object Set]":return new d;case "[object Symbol]":return Zc?xa(Zc.call(a)):{}}}function Hg(a){return ba(a)||ec(a)||!!(Rf&&a&&a[Rf])}function Ab(a,b){var c=typeof a;b=null==b?9007199254740991:b;return!!b&&("number"==c||"symbol"!=c&&eb.test(a))&&-1<a&&0==a%1&&a<b}function Oa(a,b,c){if(!ya(c))return!1;
var d=typeof b;return("number"==d?Wa(c)&&Ab(b,c.length):"string"==d&&b in c)?ob(c[b],a):!1}function ve(a,b){if(ba(a))return!1;var c=typeof a;return"number"==c||"symbol"==c||"boolean"==c||null==a||bb(a)?!0:fd.test(a)||!pb.test(a)||null!=b&&a in xa(b)}function Be(a){var b=md(a),c=p[b];if("function"!=typeof c||!(b in V.prototype))return!1;if(a===c)return!0;b=Ae(c);return!!b&&a===b[0]}function Xc(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||Dc)}function Cf(a,b){return function(c){return null==
c?!1:c[a]===b&&(b!==r||a in xa(c))}}function Ff(a,c,d){c=Ha(c===r?a.length-1:c,0);return function(){for(var e=arguments,v=-1,f=Ha(e.length-c,0),g=Ga(f);++v<f;)g[v]=e[c+v];v=-1;for(f=Ga(c+1);++v<c;)f[v]=e[v];f[c]=d(g);return b(a,this,f)}}function xe(a,b){if(("constructor"!==b||"function"!==typeof a[b])&&"__proto__"!=b)return a[b]}function Nf(a,b,c){var d=b+"";b=ye;var e=Yg;var v=(v=d.match(db))?v[1].split(Fa):[];c=e(v,c);if(e=c.length)v=e-1,c[v]=(1<e?"\x26 ":"")+c[v],c=c.join(2<e?", ":" "),d=d.replace(h,
"{\n/* [wrapped with "+c+"] */\n");return b(a,d)}function Sf(a){var b=0,c=0;return function(){var d=Zg(),e=16-(d-c);c=d;if(0<e){if(800<=++b)return arguments[0]}else b=0;return a.apply(r,arguments)}}function Dd(a,b){var c=-1,d=a.length,e=d-1;for(b=b===r?d:b;++c<b;){d=ce(c,e);var v=a[d];a[d]=a[c];a[c]=v}a.length=b;return a}function vb(a){if("string"==typeof a||bb(a))return a;var b=a+"";return"0"==b&&1/a==-ha?"-0":b}function gc(a){if(null!=a){try{return Md.call(a)}catch(z){}return a+""}return""}function Yg(a,
b){c(cb,function(c){var d="_."+c[0];b&c[1]&&!k(a,d)&&a.push(d)});return a.sort()}function wf(a){if(a instanceof V)return a.clone();var b=new va(a.__wrapped__,a.__chain__);b.__actions__=Ra(a.__actions__);b.__index__=a.__index__;b.__values__=a.__values__;return b}function Tf(a,b,c){var d=null==a?0:a.length;if(!d)return-1;c=null==c?0:ea(c);0>c&&(c=Ha(d+c,0));return D(a,U(b,3),c)}function Uf(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=d-1;c!==r&&(e=ea(c),e=0>c?Ha(d+e,0):Ma(e,d-1));return D(a,
U(b,3),e,!0)}function Qf(a){return(null==a?0:a.length)?Da(a,1):[]}function Vf(a){return a&&a.length?a[0]:r}function ib(a){var b=null==a?0:a.length;return b?a[b-1]:r}function Wf(a,b){return a&&a.length&&b&&b.length?Xb(a,b):a}function De(a){return null==a?a:$g.call(a)}function Ee(a){if(!a||!a.length)return[];var b=0;a=g(a,function(a){if(Ba(a))return b=Ha(a.length,b),!0});return T(b,function(b){return l(a,B(b))})}function Xf(a,c){if(!a||!a.length)return[];a=Ee(a);return null==c?a:l(a,function(a){return b(c,
r,a)})}function Yf(a){a=p(a);a.__chain__=!0;return a}function Nd(a,b){return b(a)}function ah(){return this}function Zf(a,b){return(ba(a)?c:Ub)(a,U(b,3))}function $f(a,b){return(ba(a)?d:ag)(a,U(b,3))}function Od(a,b){return(ba(a)?l:ta)(a,U(b,3))}function bg(a,b,c){b=c?r:b;b=a&&null==b?a.length:b;return qb(a,128,r,r,r,r,b)}function cg(a,b){var c;if("function"!=typeof b)throw new hb("Expected a function");a=ea(a);return function(){0<--a&&(c=b.apply(this,arguments));1>=a&&(b=r);return c}}function dg(a,
b,c){b=c?r:b;a=qb(a,8,r,r,r,r,r,b);a.placeholder=dg.placeholder;return a}function eg(a,b,c){b=c?r:b;a=qb(a,16,r,r,r,r,r,b);a.placeholder=eg.placeholder;return a}function fg(a,b,c){function d(b){var c=q,d=z;q=z=r;l=b;return h=a.apply(d,c)}function e(a){var c=a-m;a-=l;return m===r||c>=b||0>c||u&&a>=w}function v(){var a=Pd();if(e(a))return f(a);var c=Wc;var d=a-l;a=b-(a-m);d=u?Ma(a,w-d):a;k=c(v,d)}function f(a){k=r;if(G&&q)return d(a);q=z=r;return h}function g(){var a=Pd(),c=e(a);q=arguments;z=this;
m=a;if(c){if(k===r)return l=a=m,k=Wc(v,b),P?d(a):h;if(u)return gg(k),k=Wc(v,b),d(m)}k===r&&(k=Wc(v,b));return h}var q,z,h,k,m,l=0,P=!1,u=!1,G=!0;if("function"!=typeof a)throw new hb("Expected a function");b=jb(b)||0;if(ya(c)){P=!!c.leading;var w=(u="maxWait"in c)?Ha(jb(c.maxWait)||0,b):w;G="trailing"in c?!!c.trailing:G}g.cancel=function(){k!==r&&gg(k);l=0;q=m=z=k=r};g.flush=function(){return k===r?h:f(Pd())};return g}function Qd(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new hb("Expected a function");
var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],v=c.cache;if(v.has(e))return v.get(e);d=a.apply(this,d);c.cache=v.set(e,d)||v;return d};c.cache=new (Qd.Cache||wa);return c}function Rd(a){if("function"!=typeof a)throw new hb("Expected a function");return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}function ob(a,b){return a===b||
a!==a&&b!==b}function Wa(a){return null!=a&&Gd(a.length)&&!Ib(a)}function Ba(a){return za(a)&&Wa(a)}function Fe(a){if(!za(a))return!1;var b=Ea(a);return"[object Error]"==b||"[object DOMException]"==b||"string"==typeof a.message&&"string"==typeof a.name&&!Yc(a)}function Ib(a){if(!ya(a))return!1;a=Ea(a);return"[object Function]"==a||"[object GeneratorFunction]"==a||"[object AsyncFunction]"==a||"[object Proxy]"==a}function hg(a){return"number"==typeof a&&a==ea(a)}function Gd(a){return"number"==typeof a&&
-1<a&&0==a%1&&9007199254740991>=a}function ya(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function za(a){return null!=a&&"object"==typeof a}function ig(a){return"number"==typeof a||za(a)&&"[object Number]"==Ea(a)}function Yc(a){if(!za(a)||"[object Object]"!=Ea(a))return!1;a=Ld(a);if(null===a)return!0;a=ra.call(a,"constructor")&&a.constructor;return"function"==typeof a&&a instanceof a&&Md.call(a)==bh}function Sd(a){return"string"==typeof a||!ba(a)&&za(a)&&"[object String]"==Ea(a)}
function bb(a){return"symbol"==typeof a||za(a)&&"[object Symbol]"==Ea(a)}function jg(a){if(!a)return[];if(Wa(a))return Sd(a)?G(a):Ra(a);if($c&&a[$c]){a=a[$c]();for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}b=La(a);return("[object Map]"==b?ka:"[object Set]"==b?O:Ac)(a)}function Jb(a){if(!a)return 0===a?a:0;a=jb(a);return a===ha||a===-ha?1.7976931348623157E308*(0>a?-1:1):a===a?a:0}function ea(a){a=Jb(a);var b=a%1;return a===a?b?a-b:a:0}function kg(a){return a?$a(ea(a),0,4294967295):0}
function jb(a){if("number"==typeof a)return a;if(bb(a))return na;ya(a)&&(a="function"==typeof a.valueOf?a.valueOf():a,a=ya(a)?a+"":a);if("string"!=typeof a)return 0===a?a:+a;a=a.replace(oa,"");var b=cc.test(a);return b||Z.test(a)?Jc(a.slice(2),b?2:8):Bb.test(a)?na:+a}function Df(a){return rb(a,Ua(a))}function qa(a){return null==a?"":Za(a)}function te(a,b,c){a=null==a?r:nb(a,b);return a===r?c:a}function we(a,b){return null!=a&&mf(a,b,Rb)}function Ia(a){return Wa(a)?fb(a):t(a)}function Ua(a){if(Wa(a))a=
fb(a,!0);else if(ya(a)){var b=Xc(a),c=[];for(d in a)("constructor"!=d||!b&&ra.call(a,d))&&c.push(d);a=c}else{var d=[];if(null!=a)for(b in xa(a))d.push(b);a=d}return a}function lg(a,b){if(null==a)return{};var c=l(fe(a),function(a){return[a]});b=U(b);return We(a,c,function(a,c){return b(a,c[0])})}function Ac(a){return null==a?[]:I(a,Ia(a))}function mg(a){return Ge(qa(a).toLowerCase())}function Lf(a){return(a=qa(a))&&a.replace(Cb,Yb).replace(Wb,"")}function Kf(a,b,c){a=qa(a);b=c?r:b;return b===r?Hc.test(a)?
a.match(ae)||[]:a.match(Kb)||[]:a.match(b)||[]}function He(a){return function(){return a}}function Va(a){return a}function Ce(a){return n("function"==typeof a?a:Ta(a,1))}function Ie(a,b,d){var e=Ia(b),v=uc(b,e);null!=d||ya(b)&&(v.length||!e.length)||(d=b,b=a,a=this,v=uc(b,Ia(b)));var f=!(ya(d)&&"chain"in d)||!!d.chain,g=Ib(a);c(v,function(c){var d=b[c];a[c]=d;g&&(a.prototype[c]=function(){var b=this.__chain__;if(f||b){var c=a(this.__wrapped__);(c.__actions__=Ra(this.__actions__)).push({func:d,args:arguments,
thisArg:a});c.__chain__=b;return c}return d.apply(a,w([this.value()],arguments))})});return a}function Je(){}function Bf(a){return ve(a)?B(vb(a)):yg(a)}function Ke(){return[]}function Le(){return!1}C=null==C?Aa:Ya.defaults(Aa.Object(),C,Ya.pick(Aa,wb));var Ga=C.Array,Td=C.Date,ng=C.Error,og=C.Function,Cc=C.Math,xa=C.Object,Me=C.RegExp,Ug=C.String,hb=C.TypeError,Ud=Ga.prototype,Dc=xa.prototype,Vd=C["__core-js_shared__"],Md=og.prototype.toString,ra=Dc.hasOwnProperty,ch=0,Af=function(){var a=/[^.]+$/.exec(Vd&&
Vd.keys&&Vd.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Fd=Dc.toString,bh=Md.call(xa),dh=Aa._,Vg=Me("^"+Md.call(ra).replace(jc,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wd=ud?C.Buffer:r,Vb=C.Symbol,Jd=C.Uint8Array,If=Wd?Wd.allocUnsafe:r,Ld=ca(xa.getPrototypeOf,xa),pg=xa.create,qg=Dc.propertyIsEnumerable,Hd=Ud.splice,Rf=Vb?Vb.isConcatSpreadable:r,$c=Vb?Vb.iterator:r,fc=Vb?Vb.toStringTag:r,Ed=function(){try{var a=bc(xa,"defineProperty");a({},
"",{});return a}catch(z){}}(),eh=C.clearTimeout!==Aa.clearTimeout&&C.clearTimeout,fh=Td&&Td.now!==Aa.Date.now&&Td.now,gh=C.setTimeout!==Aa.setTimeout&&C.setTimeout,Kd=Cc.ceil,Id=Cc.floor,Ne=xa.getOwnPropertySymbols,hh=Wd?Wd.isBuffer:r,Of=C.isFinite,ih=Ud.join,Wg=ca(xa.keys,xa),Ha=Cc.max,Ma=Cc.min,Zg=Td.now,jh=C.parseInt,Ef=Cc.random,$g=Ud.reverse,Oe=bc(C,"DataView"),ad=bc(C,"Map"),Pe=bc(C,"Promise"),Fc=bc(C,"Set"),bd=bc(C,"WeakMap"),cd=bc(xa,"create"),Xd=bd&&new bd,Ec={},kh=gc(Oe),lh=gc(ad),mh=gc(Pe),
nh=gc(Fc),oh=gc(bd),Yd=Vb?Vb.prototype:r,Zc=Yd?Yd.valueOf:r,Gf=Yd?Yd.toString:r,Bc=function(){function a(){}return function(b){if(!ya(b))return{};if(pg)return pg(b);a.prototype=b;b=new a;a.prototype=r;return b}}();p.templateSettings={escape:ld,evaluate:Na,interpolate:J,variable:"",imports:{_:p}};p.prototype=Ca.prototype;p.prototype.constructor=p;va.prototype=Bc(Ca.prototype);va.prototype.constructor=va;V.prototype=Bc(Ca.prototype);V.prototype.constructor=V;Xa.prototype.clear=function(){this.__data__=
cd?cd(null):{};this.size=0};Xa.prototype["delete"]=function(a){a=this.has(a)&&delete this.__data__[a];this.size-=a?1:0;return a};Xa.prototype.get=function(a){var b=this.__data__;return cd?(a=b[a],"__lodash_hash_undefined__"===a?r:a):ra.call(b,a)?b[a]:r};Xa.prototype.has=function(a){var b=this.__data__;return cd?b[a]!==r:ra.call(b,a)};Xa.prototype.set=function(a,b){var c=this.__data__;this.size+=this.has(a)?0:1;c[a]=cd&&b===r?"__lodash_hash_undefined__":b;return this};ua.prototype.clear=function(){this.__data__=
[];this.size=0};ua.prototype["delete"]=function(a){var b=this.__data__;a=qc(b,a);if(0>a)return!1;a==b.length-1?b.pop():Hd.call(b,a,1);--this.size;return!0};ua.prototype.get=function(a){var b=this.__data__;a=qc(b,a);return 0>a?r:b[a][1]};ua.prototype.has=function(a){return-1<qc(this.__data__,a)};ua.prototype.set=function(a,b){var c=this.__data__,d=qc(c,a);0>d?(++this.size,c.push([a,b])):c[d][1]=b;return this};wa.prototype.clear=function(){this.size=0;this.__data__={hash:new Xa,map:new (ad||ua),string:new Xa}};
wa.prototype["delete"]=function(a){a=pd(this,a)["delete"](a);this.size-=a?1:0;return a};wa.prototype.get=function(a){return pd(this,a).get(a)};wa.prototype.has=function(a){return pd(this,a).has(a)};wa.prototype.set=function(a,b){var c=pd(this,a),d=c.size;c.set(a,b);this.size+=c.size==d?0:1;return this};ub.prototype.add=ub.prototype.push=function(a){this.__data__.set(a,"__lodash_hash_undefined__");return this};ub.prototype.has=function(a){return this.__data__.has(a)};Pa.prototype.clear=function(){this.__data__=
new ua;this.size=0};Pa.prototype["delete"]=function(a){var b=this.__data__;a=b["delete"](a);this.size=b.size;return a};Pa.prototype.get=function(a){return this.__data__.get(a)};Pa.prototype.has=function(a){return this.__data__.has(a)};Pa.prototype.set=function(a,b){var c=this.__data__;if(c instanceof ua){var d=c.__data__;if(!ad||199>d.length)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new wa(d)}c.set(a,b);this.size=c.size;return this};var Ub=sf(gb),ag=sf(Sc,!0),ue=hf(),zf=hf(!0),
Pf=Xd?function(a,b){Xd.set(a,b);return a}:Va,ph=Ed?function(a,b){return Ed(a,"toString",{configurable:!0,enumerable:!1,value:He(b),writable:!0})}:Va,gg=eh||function(a){return Aa.clearTimeout(a)},Xg=Fc&&1/O(new Fc([,-0]))[1]==ha?function(a){return new Fc(a)}:Je,Ae=Xd?function(a){return Xd.get(a)}:Je,ze=Ne?function(a){if(null==a)return[];a=xa(a);return g(Ne(a),function(b){return qg.call(a,b)})}:Ke,Jf=Ne?function(a){for(var b=[];a;)w(b,ze(a)),a=Ld(a);return b}:Ke,La=Ea;if(Oe&&"[object DataView]"!=La(new Oe(new ArrayBuffer(1)))||
ad&&"[object Map]"!=La(new ad)||Pe&&"[object Promise]"!=La(Pe.resolve())||Fc&&"[object Set]"!=La(new Fc)||bd&&"[object WeakMap]"!=La(new bd))La=function(a){var b=Ea(a);if(a=(a="[object Object]"==b?a.constructor:r)?gc(a):"")switch(a){case kh:return"[object DataView]";case lh:return"[object Map]";case mh:return"[object Promise]";case nh:return"[object Set]";case oh:return"[object WeakMap]"}return b};var qh=Vd?Ib:Le,Mf=Sf(Pf),Wc=gh||function(a,b){return Aa.setTimeout(a,b)},ye=Sf(ph),Hf=function(a){a=
Qd(a,function(a){500===b.size&&b.clear();return a});var b=a.cache;return a}(function(a){var b=[];46===a.charCodeAt(0)&&b.push("");a.replace(Lc,function(a,c,d,e){b.push(d?e.replace(ac,"$1"):c||a)});return b}),rh=ja(function(a,b){return Ba(a)?Hb(a,Da(b,1,Ba,!0)):[]}),sh=ja(function(a,b){var c=ib(b);Ba(c)&&(c=r);return Ba(a)?Hb(a,Da(b,1,Ba,!0),U(c,2)):[]}),th=ja(function(a,b){var c=ib(b);Ba(c)&&(c=r);return Ba(a)?Hb(a,Da(b,1,Ba,!0),r,c):[]}),uh=ja(function(a){var b=l(a,me);return b.length&&b[0]===a[0]?
Vc(b):[]}),vh=ja(function(a){var b=ib(a),c=l(a,me);b===ib(c)?b=r:c.pop();return c.length&&c[0]===a[0]?Vc(c,U(b,2)):[]}),wh=ja(function(a){var b=ib(a),c=l(a,me);(b="function"==typeof b?b:r)&&c.pop();return c.length&&c[0]===a[0]?Vc(c,r,b):[]}),xh=ja(Wf),yh=zb(function(a,b){var c=null==a?0:a.length,d=Fb(a,b);Xe(a,l(b,function(a){return Ab(a,c)?+a:a}).sort(qf));return d}),zh=ja(function(a){return Mb(Da(a,1,Ba,!0))}),Ah=ja(function(a){var b=ib(a);Ba(b)&&(b=r);return Mb(Da(a,1,Ba,!0),U(b,2))}),Bh=ja(function(a){var b=
ib(a);b="function"==typeof b?b:r;return Mb(Da(a,1,Ba,!0),r,b)}),Ch=ja(function(a,b){return Ba(a)?Hb(a,b):[]}),Dh=ja(function(a){return ie(g(a,Ba))}),Eh=ja(function(a){var b=ib(a);Ba(b)&&(b=r);return ie(g(a,Ba),U(b,2))}),Fh=ja(function(a){var b=ib(a);b="function"==typeof b?b:r;return ie(g(a,Ba),r,b)}),Gh=ja(Ee),Hh=ja(function(a){var b=a.length;b=1<b?a[b-1]:r;b="function"==typeof b?(a.pop(),b):r;return Xf(a,b)}),Ih=zb(function(a){var b=a.length,c=b?a[0]:0,d=this.__wrapped__,e=function(b){return Fb(b,
a)};if(1<b||this.__actions__.length||!(d instanceof V)||!Ab(c))return this.thru(e);d=d.slice(c,+c+(b?1:0));d.__actions__.push({func:Nd,args:[e],thisArg:r});return(new va(d,this.__chain__)).thru(function(a){b&&!a.length&&a.push(r);return a})}),Jh=qd(function(a,b,c){ra.call(a,c)?++a[c]:Sa(a,c,1)}),Kh=jf(Tf),Lh=jf(Uf),Mh=qd(function(a,b,c){ra.call(a,c)?a[c].push(b):Sa(a,c,[b])}),Nh=ja(function(a,c,d){var e=-1,f="function"==typeof c,g=Wa(a)?Ga(a.length):[];Ub(a,function(a){g[++e]=f?b(c,a,d):Sb(a,c,d)});
return g}),Oh=qd(function(a,b,c){Sa(a,c,b)}),Ph=qd(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),Qh=ja(function(a,b){if(null==a)return[];var c=b.length;1<c&&Oa(a,b[0],b[1])?b=[]:2<c&&Oa(b[0],b[1],b[2])&&(b=[b[0]]);return Ue(a,Da(b,1),[])}),Pd=fh||function(){return Aa.Date.now()},Qe=ja(function(a,b,c){var d=1;if(c.length){var e=fa(c,lc(Qe));d|=32}return qb(a,d,b,c,e)}),rg=ja(function(a,b,c){var d=3;if(c.length){var e=fa(c,lc(rg));d|=32}return qb(b,d,a,c,e)}),Rh=ja(function(a,b){return zd(a,
1,b)}),Sh=ja(function(a,b,c){return zd(a,jb(b)||0,c)});Qd.Cache=wa;var Th=ja(function(a,c){c=1==c.length&&ba(c[0])?l(c[0],F(U())):l(Da(c,1),F(U()));var d=c.length;return ja(function(e){for(var f=-1,g=Ma(e.length,d);++f<g;)e[f]=c[f].call(this,e[f]);return b(a,this,e)})}),Re=ja(function(a,b){var c=fa(b,lc(Re));return qb(a,32,r,b,c)}),sg=ja(function(a,b){var c=fa(b,lc(sg));return qb(a,64,r,b,c)}),Uh=zb(function(a,b){return qb(a,256,r,r,r,b)}),Vh=la(vc),Wh=la(function(a,b){return a>=b}),ec=Bd(function(){return arguments}())?
Bd:function(a){return za(a)&&ra.call(a,"callee")&&!qg.call(a,"callee")},ba=Ga.isArray,Xh=vd?F(vd):pe,Tb=hh||Le,Yh=Qc?F(Qc):qe,yf=wd?F(wd):wc,Se=gd?F(gd):Cd,xf=ed?F(ed):re,zc=hd?F(hd):se,Zh=la(L),$h=la(function(a,b){return a<=b}),ai=nc(function(a,b){if(Xc(b)||Wa(b))rb(b,Ia(b),a);else for(var c in b)ra.call(b,c)&&dc(a,c,b[c])}),tg=nc(function(a,b){rb(b,Ua(b),a)}),Zd=nc(function(a,b,c,d){rb(b,Ua(b),a,d)}),bi=nc(function(a,b,c,d){rb(b,Ia(b),a,d)}),ci=zb(Fb),di=ja(function(a,b){a=xa(a);var c=-1,d=b.length,
e=2<d?b[2]:r;for(e&&Oa(b[0],b[1],e)&&(d=1);++c<d;){e=b[c];for(var f=Ua(e),g=-1,v=f.length;++g<v;){var q=f[g],h=a[q];if(h===r||ob(h,Dc[q])&&!ra.call(a,q))a[q]=e[q]}}return a}),ei=ja(function(a){a.push(r,de);return b(ug,r,a)}),fi=uf(function(a,b,c){null!=b&&"function"!=typeof b.toString&&(b=Fd.call(b));a[b]=c},He(Va)),gi=uf(function(a,b,c){null!=b&&"function"!=typeof b.toString&&(b=Fd.call(b));ra.call(a,b)?a[b].push(c):a[b]=[c]},U),hi=ja(Sb),ii=nc(function(a,b,c){Gc(a,b,c)}),ug=nc(function(a,b,c,d){Gc(a,
b,c,d)}),ji=zb(function(a,b){var c={};if(null==a)return c;var d=!1;b=l(b,function(b){b=Lb(b,a);d||(d=1<b.length);return b});rb(a,fe(a),c);d&&(c=Ta(c,7,$e));for(var e=b.length;e--;)ge(c,b[e]);return c}),ki=zb(function(a,b){return null==a?{}:Ve(a,b)}),vg=kf(Ia),wg=kf(Ua),li=oc(function(a,b,c){b=b.toLowerCase();return a+(c?mg(b):b)}),mi=oc(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),ni=oc(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),oi=tf("toLowerCase"),pi=oc(function(a,b,c){return a+
(c?"_":"")+b.toLowerCase()}),qi=oc(function(a,b,c){return a+(c?" ":"")+Ge(b)}),ri=oc(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),Ge=tf("toUpperCase"),xg=ja(function(a,c){try{return b(a,r,c)}catch(P){return Fe(P)?P:new ng(P)}}),si=zb(function(a,b){c(b,function(b){b=vb(b);Sa(a,b,Qe(a[b],a))});return a}),ti=ff(),ui=ff(!0),vi=ja(function(a,b){return function(c){return Sb(c,a,b)}}),wi=ja(function(a,b){return function(c){return Sb(a,c,b)}}),xi=he(l),yi=he(e),zi=he(x),Ai=vf(),Bi=vf(!0),Ci=sd(function(a,
b){return a+b},0),Di=oe("ceil"),Ei=sd(function(a,b){return a/b},1),Fi=oe("floor"),Gi=sd(function(a,b){return a*b},1),Hi=oe("round"),Ii=sd(function(a,b){return a-b},0);p.after=function(a,b){if("function"!=typeof b)throw new hb("Expected a function");a=ea(a);return function(){if(1>--a)return b.apply(this,arguments)}};p.ary=bg;p.assign=ai;p.assignIn=tg;p.assignInWith=Zd;p.assignWith=bi;p.at=ci;p.before=cg;p.bind=Qe;p.bindAll=si;p.bindKey=rg;p.castArray=function(){if(!arguments.length)return[];var a=
arguments[0];return ba(a)?a:[a]};p.chain=Yf;p.chunk=function(a,b,c){b=(c?Oa(a,b,c):b===r)?1:Ha(ea(b),0);c=null==a?0:a.length;if(!c||1>b)return[];for(var d=0,e=0,f=Ga(Kd(c/b));d<c;)f[e++]=Ka(a,d,d+=b);return f};p.compact=function(a){for(var b=-1,c=null==a?0:a.length,d=0,e=[];++b<c;){var f=a[b];f&&(e[d++]=f)}return e};p.concat=function(){var a=arguments.length;if(!a)return[];for(var b=Ga(a-1),c=arguments[0];a--;)b[a-1]=arguments[a];return w(ba(c)?Ra(c):[c],Da(b,1))};p.cond=function(a){var c=null==a?
0:a.length,d=U();a=c?l(a,function(a){if("function"!=typeof a[1])throw new hb("Expected a function");return[d(a[0]),a[1]]}):[];return ja(function(d){for(var e=-1;++e<c;){var f=a[e];if(b(f[0],this,d))return b(f[1],this,d)}})};p.conforms=function(a){return hc(Ta(a,1))};p.constant=He;p.countBy=Jh;p.create=function(a,b){a=Bc(a);return null==b?a:rc(a,b)};p.curry=dg;p.curryRight=eg;p.debounce=fg;p.defaults=di;p.defaultsDeep=ei;p.defer=Rh;p.delay=Sh;p.difference=rh;p.differenceBy=sh;p.differenceWith=th;p.drop=
function(a,b,c){var d=null==a?0:a.length;if(!d)return[];b=c||b===r?1:ea(b);return Ka(a,0>b?0:b,d)};p.dropRight=function(a,b,c){var d=null==a?0:a.length;if(!d)return[];b=c||b===r?1:ea(b);b=d-b;return Ka(a,0,0>b?0:b)};p.dropRightWhile=function(a,b){return a&&a.length?od(a,U(b,3),!0,!0):[]};p.dropWhile=function(a,b){return a&&a.length?od(a,U(b,3),!0):[]};p.fill=function(a,b,c,d){var e=null==a?0:a.length;if(!e)return[];c&&"number"!=typeof c&&Oa(a,b,c)&&(c=0,d=e);e=a.length;c=ea(c);0>c&&(c=-c>e?0:e+c);
d=d===r||d>e?e:ea(d);0>d&&(d+=e);for(d=c>d?0:kg(d);c<d;)a[c++]=b;return a};p.filter=function(a,b){return(ba(a)?g:Ad)(a,U(b,3))};p.flatMap=function(a,b){return Da(Od(a,b),1)};p.flatMapDeep=function(a,b){return Da(Od(a,b),ha)};p.flatMapDepth=function(a,b,c){c=c===r?1:ea(c);return Da(Od(a,b),c)};p.flatten=Qf;p.flattenDeep=function(a){return(null==a?0:a.length)?Da(a,ha):[]};p.flattenDepth=function(a,b){if(null==a||!a.length)return[];b=b===r?1:ea(b);return Da(a,b)};p.flip=function(a){return qb(a,512)};
p.flow=ti;p.flowRight=ui;p.fromPairs=function(a){for(var b=-1,c=null==a?0:a.length,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d};p.functions=function(a){return null==a?[]:uc(a,Ia(a))};p.functionsIn=function(a){return null==a?[]:uc(a,Ua(a))};p.groupBy=Mh;p.initial=function(a){return(null==a?0:a.length)?Ka(a,0,-1):[]};p.intersection=uh;p.intersectionBy=vh;p.intersectionWith=wh;p.invert=fi;p.invertBy=gi;p.invokeMap=Nh;p.iteratee=Ce;p.keyBy=Oh;p.keys=Ia;p.keysIn=Ua;p.map=Od;p.mapKeys=function(a,b){var c=
{};b=U(b,3);gb(a,function(a,d,e){Sa(c,b(a,d,e),a)});return c};p.mapValues=function(a,b){var c={};b=U(b,3);gb(a,function(a,d,e){Sa(c,d,b(a,d,e))});return c};p.matches=function(a){return $d(Ta(a,1))};p.matchesProperty=function(a,b){return be(a,Ta(b,1))};p.memoize=Qd;p.merge=ii;p.mergeWith=ug;p.method=vi;p.methodOf=wi;p.mixin=Ie;p.negate=Rd;p.nthArg=function(a){a=ea(a);return ja(function(b){return Te(b,a)})};p.omit=ji;p.omitBy=function(a,b){return lg(a,Rd(U(b)))};p.once=function(a){return cg(2,a)};p.orderBy=
function(a,b,c,d){if(null==a)return[];ba(b)||(b=null==b?[]:[b]);c=d?r:c;ba(c)||(c=null==c?[]:[c]);return Ue(a,b,c)};p.over=xi;p.overArgs=Th;p.overEvery=yi;p.overSome=zi;p.partial=Re;p.partialRight=sg;p.partition=Ph;p.pick=ki;p.pickBy=lg;p.property=Bf;p.propertyOf=function(a){return function(b){return null==a?r:nb(a,b)}};p.pull=xh;p.pullAll=Wf;p.pullAllBy=function(a,b,c){return a&&a.length&&b&&b.length?Xb(a,b,U(c,2)):a};p.pullAllWith=function(a,b,c){return a&&a.length&&b&&b.length?Xb(a,b,r,c):a};p.pullAt=
yh;p.range=Ai;p.rangeRight=Bi;p.rearg=Uh;p.reject=function(a,b){return(ba(a)?g:Ad)(a,Rd(U(b,3)))};p.remove=function(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=U(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}Xe(a,e);return c};p.rest=function(a,b){if("function"!=typeof a)throw new hb("Expected a function");b=b===r?b:ea(b);return ja(a,b)};p.reverse=De;p.sampleSize=function(a,b,c){b=(c?Oa(a,b,c):b===r)?1:ea(b);return(ba(a)?Db:Kg)(a,b)};p.set=function(a,b,c){return null==
a?a:mc(a,b,c)};p.setWith=function(a,b,c,d){d="function"==typeof d?d:r;return null==a?a:mc(a,b,c,d)};p.shuffle=function(a){return(ba(a)?Pb:Jg)(a)};p.slice=function(a,b,c){var d=null==a?0:a.length;if(!d)return[];c&&"number"!=typeof c&&Oa(a,b,c)?(b=0,c=d):(b=null==b?0:ea(b),c=c===r?d:ea(c));return Ka(a,b,c)};p.sortBy=Qh;p.sortedUniq=function(a){return a&&a.length?cf(a):[]};p.sortedUniqBy=function(a,b){return a&&a.length?cf(a,U(b,2)):[]};p.split=function(a,b,c){c&&"number"!=typeof c&&Oa(a,b,c)&&(b=c=
r);c=c===r?4294967295:c>>>0;return c?(a=qa(a))&&("string"==typeof b||null!=b&&!Se(b))&&(b=Za(b),!b&&tb.test(a))?Nb(G(a),0,c):a.split(b,c):[]};p.spread=function(a,c){if("function"!=typeof a)throw new hb("Expected a function");c=null==c?0:Ha(ea(c),0);return ja(function(d){var e=d[c];d=Nb(d,0,c);e&&w(d,e);return b(a,this,d)})};p.tail=function(a){var b=null==a?0:a.length;return b?Ka(a,1,b):[]};p.take=function(a,b,c){if(!a||!a.length)return[];b=c||b===r?1:ea(b);return Ka(a,0,0>b?0:b)};p.takeRight=function(a,
b,c){var d=null==a?0:a.length;if(!d)return[];b=c||b===r?1:ea(b);b=d-b;return Ka(a,0>b?0:b,d)};p.takeRightWhile=function(a,b){return a&&a.length?od(a,U(b,3),!1,!0):[]};p.takeWhile=function(a,b){return a&&a.length?od(a,U(b,3)):[]};p.tap=function(a,b){b(a);return a};p.throttle=function(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new hb("Expected a function");ya(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e);return fg(a,b,{leading:d,maxWait:b,trailing:e})};p.thru=Nd;p.toArray=
jg;p.toPairs=vg;p.toPairsIn=wg;p.toPath=function(a){return ba(a)?l(a,vb):bb(a)?[a]:Ra(Hf(qa(a)))};p.toPlainObject=Df;p.transform=function(a,b,d){var e=ba(a),f=e||Tb(a)||zc(a);b=U(b,4);if(null==d){var g=a&&a.constructor;d=f?e?new g:[]:ya(a)?Ib(g)?Bc(Ld(a)):{}:{}}(f?c:gb)(a,function(a,c,e){return b(d,a,c,e)});return d};p.unary=function(a){return bg(a,1)};p.union=zh;p.unionBy=Ah;p.unionWith=Bh;p.uniq=function(a){return a&&a.length?Mb(a):[]};p.uniqBy=function(a,b){return a&&a.length?Mb(a,U(b,2)):[]};
p.uniqWith=function(a,b){b="function"==typeof b?b:r;return a&&a.length?Mb(a,r,b):[]};p.unset=function(a,b){return null==a?!0:ge(a,b)};p.unzip=Ee;p.unzipWith=Xf;p.update=function(a,b,c){null!=a&&(c=ne(c),a=mc(a,b,c(nb(a,b)),void 0));return a};p.updateWith=function(a,b,c,d){d="function"==typeof d?d:r;null!=a&&(c=ne(c),a=mc(a,b,c(nb(a,b)),d));return a};p.values=Ac;p.valuesIn=function(a){return null==a?[]:I(a,Ua(a))};p.without=Ch;p.words=Kf;p.wrap=function(a,b){return Re(ne(b),a)};p.xor=Dh;p.xorBy=Eh;
p.xorWith=Fh;p.zip=Gh;p.zipObject=function(a,b){return lf(a||[],b||[],dc)};p.zipObjectDeep=function(a,b){return lf(a||[],b||[],mc)};p.zipWith=Hh;p.entries=vg;p.entriesIn=wg;p.extend=tg;p.extendWith=Zd;Ie(p,p);p.add=Ci;p.attempt=xg;p.camelCase=li;p.capitalize=mg;p.ceil=Di;p.clamp=function(a,b,c){c===r&&(c=b,b=r);c!==r&&(c=jb(c),c=c===c?c:0);b!==r&&(b=jb(b),b=b===b?b:0);return $a(jb(a),b,c)};p.clone=function(a){return Ta(a,4)};p.cloneDeep=function(a){return Ta(a,5)};p.cloneDeepWith=function(a,b){b=
"function"==typeof b?b:r;return Ta(a,5,b)};p.cloneWith=function(a,b){b="function"==typeof b?b:r;return Ta(a,4,b)};p.conformsTo=function(a,b){return null==b||sc(a,b,Ia(b))};p.deburr=Lf;p.defaultTo=function(a,b){return null==a||a!==a?b:a};p.divide=Ei;p.endsWith=function(a,b,c){a=qa(a);b=Za(b);var d=a.length;d=c=c===r?d:$a(ea(c),0,d);c-=b.length;return 0<=c&&a.slice(c,d)==b};p.eq=ob;p.escape=function(a){return(a=qa(a))&&kd.test(a)?a.replace(Qa,id):a};p.escapeRegExp=function(a){return(a=qa(a))&&kc.test(a)?
a.replace(jc,"\\$\x26"):a};p.every=function(a,b,c){var d=ba(a)?e:Rc;c&&Oa(a,b,c)&&(b=r);return d(a,U(b,3))};p.find=Kh;p.findIndex=Tf;p.findKey=function(a,b){return A(a,U(b,3),gb)};p.findLast=Lh;p.findLastIndex=Uf;p.findLastKey=function(a,b){return A(a,U(b,3),Sc)};p.floor=Fi;p.forEach=Zf;p.forEachRight=$f;p.forIn=function(a,b){return null==a?a:ue(a,U(b,3),Ua)};p.forInRight=function(a,b){return null==a?a:zf(a,U(b,3),Ua)};p.forOwn=function(a,b){return a&&gb(a,U(b,3))};p.forOwnRight=function(a,b){return a&&
Sc(a,U(b,3))};p.get=te;p.gt=Vh;p.gte=Wh;p.has=function(a,b){return null!=a&&mf(a,b,Uc)};p.hasIn=we;p.head=Vf;p.identity=Va;p.includes=function(a,b,c,d){a=Wa(a)?a:Ac(a);c=c&&!d?ea(c):0;d=a.length;0>c&&(c=Ha(d+c,0));return Sd(a)?c<=d&&-1<a.indexOf(b,c):!!d&&-1<y(a,b,c)};p.indexOf=function(a,b,c){var d=null==a?0:a.length;if(!d)return-1;c=null==c?0:ea(c);0>c&&(c=Ha(d+c,0));return y(a,b,c)};p.inRange=function(a,b,c){b=Jb(b);c===r?(c=b,b=0):c=Jb(c);a=jb(a);return a>=Ma(b,c)&&a<Ha(b,c)};p.invoke=hi;p.isArguments=
ec;p.isArray=ba;p.isArrayBuffer=Xh;p.isArrayLike=Wa;p.isArrayLikeObject=Ba;p.isBoolean=function(a){return!0===a||!1===a||za(a)&&"[object Boolean]"==Ea(a)};p.isBuffer=Tb;p.isDate=Yh;p.isElement=function(a){return za(a)&&1===a.nodeType&&!Yc(a)};p.isEmpty=function(a){if(null==a)return!0;if(Wa(a)&&(ba(a)||"string"==typeof a||"function"==typeof a.splice||Tb(a)||zc(a)||ec(a)))return!a.length;var b=La(a);if("[object Map]"==b||"[object Set]"==b)return!a.size;if(Xc(a))return!t(a).length;for(var c in a)if(ra.call(a,
c))return!1;return!0};p.isEqual=function(a,b){return ab(a,b)};p.isEqualWith=function(a,b,c){var d=(c="function"==typeof c?c:r)?c(a,b):r;return d===r?ab(a,b,r,c):!!d};p.isError=Fe;p.isFinite=function(a){return"number"==typeof a&&Of(a)};p.isFunction=Ib;p.isInteger=hg;p.isLength=Gd;p.isMap=yf;p.isMatch=function(a,b){return a===b||xc(a,b,ke(b))};p.isMatchWith=function(a,b,c){c="function"==typeof c?c:r;return xc(a,b,ke(b),c)};p.isNaN=function(a){return ig(a)&&a!=+a};p.isNative=function(a){if(qh(a))throw new ng("Unsupported core-js use. Try https://npms.io/search?q\x3dponyfill.");
return yc(a)};p.isNil=function(a){return null==a};p.isNull=function(a){return null===a};p.isNumber=ig;p.isObject=ya;p.isObjectLike=za;p.isPlainObject=Yc;p.isRegExp=Se;p.isSafeInteger=function(a){return hg(a)&&-9007199254740991<=a&&9007199254740991>=a};p.isSet=xf;p.isString=Sd;p.isSymbol=bb;p.isTypedArray=zc;p.isUndefined=function(a){return a===r};p.isWeakMap=function(a){return za(a)&&"[object WeakMap]"==La(a)};p.isWeakSet=function(a){return za(a)&&"[object WeakSet]"==Ea(a)};p.join=function(a,b){return null==
a?"":ih.call(a,b)};p.kebabCase=mi;p.last=ib;p.lastIndexOf=function(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=d;c!==r&&(e=ea(c),e=0>e?Ha(d+e,0):Ma(e,d-1));if(b===b)a:{for(c=e+1;c--;)if(a[c]===b){a=c;break a}a=c}else a=D(a,M,e,!0);return a};p.lowerCase=ni;p.lowerFirst=oi;p.lt=Zh;p.lte=$h;p.max=function(a){return a&&a.length?tc(a,Va,vc):r};p.maxBy=function(a,b){return a&&a.length?tc(a,U(b,2),vc):r};p.mean=function(a){return Q(a,Va)};p.meanBy=function(a,b){return Q(a,U(b,2))};p.min=function(a){return a&&
a.length?tc(a,Va,L):r};p.minBy=function(a,b){return a&&a.length?tc(a,U(b,2),L):r};p.stubArray=Ke;p.stubFalse=Le;p.stubObject=function(){return{}};p.stubString=function(){return""};p.stubTrue=function(){return!0};p.multiply=Gi;p.nth=function(a,b){return a&&a.length?Te(a,ea(b)):r};p.noConflict=function(){Aa._===this&&(Aa._=dh);return this};p.noop=Je;p.now=Pd;p.pad=function(a,b,c){a=qa(a);var d=(b=ea(b))?q(a):0;if(!b||d>=b)return a;b=(b-d)/2;return td(Id(b),c)+a+td(Kd(b),c)};p.padEnd=function(a,b,c){a=
qa(a);var d=(b=ea(b))?q(a):0;return b&&d<b?a+td(b-d,c):a};p.padStart=function(a,b,c){a=qa(a);var d=(b=ea(b))?q(a):0;return b&&d<b?td(b-d,c)+a:a};p.parseInt=function(a,b,c){c||null==b?b=0:b&&(b=+b);return jh(qa(a).replace(sa,""),b||0)};p.random=function(a,b,c){c&&"boolean"!=typeof c&&Oa(a,b,c)&&(b=c=r);c===r&&("boolean"==typeof b?(c=b,b=r):"boolean"==typeof a&&(c=a,a=r));a===r&&b===r?(a=0,b=1):(a=Jb(a),b===r?(b=a,a=0):b=Jb(b));if(a>b){var d=a;a=b;b=d}return c||a%1||b%1?(c=Ef(),Ma(a+c*(b-a+dd("1e-"+
((c+"").length-1))),b)):ce(a,b)};p.reduce=function(a,b,c){var d=ba(a)?m:K,e=3>arguments.length;return d(a,U(b,4),c,e,Ub)};p.reduceRight=function(a,b,c){var d=ba(a)?u:K,e=3>arguments.length;return d(a,U(b,4),c,e,ag)};p.repeat=function(a,b,c){b=(c?Oa(a,b,c):b===r)?1:ea(b);return je(qa(a),b)};p.replace=function(){var a=arguments,b=qa(a[0]);return 3>a.length?b:b.replace(a[1],a[2])};p.result=function(a,b,c){b=Lb(b,a);var d=-1,e=b.length;e||(e=1,a=r);for(;++d<e;){var f=null==a?r:a[vb(b[d])];f===r&&(d=e,
f=c);a=Ib(f)?f.call(a):f}return a};p.round=Hi;p.runInContext=lb;p.sample=function(a){return(ba(a)?xb:Ig)(a)};p.size=function(a){if(null==a)return 0;if(Wa(a))return Sd(a)?q(a):a.length;var b=La(a);return"[object Map]"==b||"[object Set]"==b?a.size:t(a).length};p.snakeCase=pi;p.some=function(a,b,c){var d=ba(a)?x:Lg;c&&Oa(a,b,c)&&(b=r);return d(a,U(b,3))};p.sortedIndex=function(a,b){return nd(a,b)};p.sortedIndexBy=function(a,b,c){return le(a,b,U(c,2))};p.sortedIndexOf=function(a,b){var c=null==a?0:a.length;
if(c){var d=nd(a,b);if(d<c&&ob(a[d],b))return d}return-1};p.sortedLastIndex=function(a,b){return nd(a,b,!0)};p.sortedLastIndexBy=function(a,b,c){return le(a,b,U(c,2),!0)};p.sortedLastIndexOf=function(a,b){if(null==a?0:a.length){var c=nd(a,b,!0)-1;if(ob(a[c],b))return c}return-1};p.startCase=qi;p.startsWith=function(a,b,c){a=qa(a);c=null==c?0:$a(ea(c),0,a.length);b=Za(b);return a.slice(c,c+b.length)==b};p.subtract=Ii;p.sum=function(a){return a&&a.length?X(a,Va):0};p.sumBy=function(a,b){return a&&a.length?
X(a,U(b,2)):0};p.template=function(a,b,c){var d=p.templateSettings;c&&Oa(a,b,c)&&(b=r);a=qa(a);b=Zd({},b,d,Ze);c=Zd({},b.imports,d.imports,Ze);var e=Ia(c),f=I(c,e),g,q,h=0;c=b.interpolate||Ob;var k="__p +\x3d '";c=Me((b.escape||Ob).source+"|"+c.source+"|"+(c===J?sb:Ob).source+"|"+(b.evaluate||Ob).source+"|$","g");var m="//# sourceURL\x3d"+(ra.call(b,"sourceURL")?(b.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Zb+"]")+"\n";a.replace(c,function(b,c,d,e,f,m){d||(d=e);k+=a.slice(h,
m).replace(Oc,ia);c&&(g=!0,k+="' +\n__e("+c+") +\n'");f&&(q=!0,k+="';\n"+f+";\n__p +\x3d '");d&&(k+="' +\n((__t \x3d ("+d+")) \x3d\x3d null ? '' : __t) +\n'");h=m+b.length;return b});k+="';\n";(b=ra.call(b,"variable")&&b.variable)||(k="with (obj) {\n"+k+"\n}\n");k=(q?k.replace($b,""):k).replace(ic,"$1").replace(yb,"$1;");k="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj \x3d {});\n")+"var __t, __p \x3d ''"+(g?", __e \x3d _.escape":"")+(q?", __j \x3d Array.prototype.join;\nfunction print() { __p +\x3d __j.call(arguments, '') }\n":
";\n")+k+"return __p\n}";b=xg(function(){return og(e,m+"return "+k).apply(r,f)});b.source=k;if(Fe(b))throw b;return b};p.times=function(a,b){a=ea(a);if(1>a||9007199254740991<a)return[];var c=4294967295,d=Ma(a,4294967295);b=U(b);a-=4294967295;for(d=T(d,b);++c<a;)b(c);return d};p.toFinite=Jb;p.toInteger=ea;p.toLength=kg;p.toLower=function(a){return qa(a).toLowerCase()};p.toNumber=jb;p.toSafeInteger=function(a){return a?$a(ea(a),-9007199254740991,9007199254740991):0===a?a:0};p.toString=qa;p.toUpper=
function(a){return qa(a).toUpperCase()};p.trim=function(a,b,c){if((a=qa(a))&&(c||b===r))return a.replace(oa,"");if(!a||!(b=Za(b)))return a;a=G(a);c=G(b);b=W(a,c);c=S(a,c)+1;return Nb(a,b,c).join("")};p.trimEnd=function(a,b,c){if((a=qa(a))&&(c||b===r))return a.replace(H,"");if(!a||!(b=Za(b)))return a;a=G(a);b=S(a,G(b))+1;return Nb(a,0,b).join("")};p.trimStart=function(a,b,c){if((a=qa(a))&&(c||b===r))return a.replace(sa,"");if(!a||!(b=Za(b)))return a;a=G(a);b=W(a,G(b));return Nb(a,b).join("")};p.truncate=
function(a,b){var c=30,d="...";if(ya(b)){var e="separator"in b?b.separator:e;c="length"in b?ea(b.length):c;d="omission"in b?Za(b.omission):d}a=qa(a);b=a.length;if(tb.test(a)){var f=G(a);b=f.length}if(c>=b)return a;b=c-q(d);if(1>b)return d;c=f?Nb(f,0,b).join(""):a.slice(0,b);if(e===r)return c+d;f&&(b+=c.length-b);if(Se(e)){if(a.slice(b).search(e)){f=c;e.global||(e=Me(e.source,qa(kb.exec(e))+"g"));for(e.lastIndex=0;a=e.exec(f);)var g=a.index;c=c.slice(0,g===r?b:g)}}else a.indexOf(Za(e),b)!=b&&(e=c.lastIndexOf(e),
-1<e&&(c=c.slice(0,e)));return c+d};p.unescape=function(a){return(a=qa(a))&&Kc.test(a)?a.replace(jd,xd):a};p.uniqueId=function(a){var b=++ch;return qa(a)+b};p.upperCase=ri;p.upperFirst=Ge;p.each=Zf;p.eachRight=$f;p.first=Vf;Ie(p,function(){var a={};gb(p,function(b,c){ra.call(p.prototype,c)||(a[c]=b)});return a}(),{chain:!1});p.VERSION="4.17.15";c("bind bindKey curry curryRight partial partialRight".split(" "),function(a){p[a].placeholder=p});c(["drop","take"],function(a,b){V.prototype[a]=function(c){c=
c===r?1:Ha(ea(c),0);var d=this.__filtered__&&!b?new V(this):this.clone();d.__filtered__?d.__takeCount__=Ma(c,d.__takeCount__):d.__views__.push({size:Ma(c,4294967295),type:a+(0>d.__dir__?"Right":"")});return d};V.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}});c(["filter","map","takeWhile"],function(a,b){var c=b+1,d=1==c||3==c;V.prototype[a]=function(a){var b=this.clone();b.__iteratees__.push({iteratee:U(a,3),type:c});b.__filtered__=b.__filtered__||d;return b}});c(["head",
"last"],function(a,b){var c="take"+(b?"Right":"");V.prototype[a]=function(){return this[c](1).value()[0]}});c(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");V.prototype[a]=function(){return this.__filtered__?new V(this):this[c](1)}});V.prototype.compact=function(){return this.filter(Va)};V.prototype.find=function(a){return this.filter(a).head()};V.prototype.findLast=function(a){return this.reverse().find(a)};V.prototype.invokeMap=ja(function(a,b){return"function"==typeof a?new V(this):
this.map(function(c){return Sb(c,a,b)})});V.prototype.reject=function(a){return this.filter(Rd(U(a)))};V.prototype.slice=function(a,b){a=ea(a);var c=this;if(c.__filtered__&&(0<a||0>b))return new V(c);0>a?c=c.takeRight(-a):a&&(c=c.drop(a));b!==r&&(b=ea(b),c=0>b?c.dropRight(-b):c.take(b-a));return c};V.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()};V.prototype.toArray=function(){return this.take(4294967295)};gb(V.prototype,function(a,b){var c=/^(?:filter|find|map|reject)|While$/.test(b),
d=/^(?:head|last)$/.test(b),e=p[d?"take"+("last"==b?"Right":""):b],f=d||/^find/.test(b);e&&(p.prototype[b]=function(){var b=this.__wrapped__,g=d?[1]:arguments,q=b instanceof V,h=g[0],k=q||ba(b),m=function(a){a=e.apply(p,w([a],g));return d&&l?a[0]:a};k&&c&&"function"==typeof h&&1!=h.length&&(q=k=!1);var l=this.__chain__,u=!!this.__actions__.length;h=f&&!l;q=q&&!u;if(!f&&k)return b=q?b:new V(this),b=a.apply(b,g),b.__actions__.push({func:Nd,args:[m],thisArg:r}),new va(b,l);if(h&&q)return a.apply(this,
g);b=this.thru(m);return h?d?b.value()[0]:b.value():b})});c("pop push shift sort splice unshift".split(" "),function(a){var b=Ud[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|shift)$/.test(a);p.prototype[a]=function(){var a=arguments;if(d&&!this.__chain__){var e=this.value();return b.apply(ba(e)?e:[],a)}return this[c](function(c){return b.apply(ba(c)?c:[],a)})}});gb(V.prototype,function(a,b){if(a=p[b]){var c=a.name+"";ra.call(Ec,c)||(Ec[c]=[]);Ec[c].push({name:b,func:a})}});Ec[rd(r,
2).name]=[{name:"wrapper",func:r}];V.prototype.clone=function(){var a=new V(this.__wrapped__);a.__actions__=Ra(this.__actions__);a.__dir__=this.__dir__;a.__filtered__=this.__filtered__;a.__iteratees__=Ra(this.__iteratees__);a.__takeCount__=this.__takeCount__;a.__views__=Ra(this.__views__);return a};V.prototype.reverse=function(){if(this.__filtered__){var a=new V(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a};V.prototype.value=function(){var a=this.__wrapped__.value(),
b=this.__dir__,c=ba(a),d=0>b,e=c?a.length:0;var f=0;for(var g=e,q=this.__views__,h=-1,k=q.length;++h<k;){var m=q[h],l=m.size;switch(m.type){case "drop":f+=l;break;case "dropRight":g-=l;break;case "take":g=Ma(g,f+l);break;case "takeRight":f=Ha(f,g-l)}}q=g;g=q-f;f=d?q:f-1;q=this.__iteratees__;h=q.length;k=0;m=Ma(g,this.__takeCount__);if(!c||!d&&e==g&&m==g)return bf(a,this.__actions__);c=[];a:for(;g--&&k<m;){f+=b;d=-1;for(e=a[f];++d<h;){var r=q[d];l=r.iteratee;r=r.type;l=l(e);if(2==r)e=l;else if(!l)if(1==
r)continue a;else break a}c[k++]=e}return c};p.prototype.at=Ih;p.prototype.chain=function(){return Yf(this)};p.prototype.commit=function(){return new va(this.value(),this.__chain__)};p.prototype.next=function(){this.__values__===r&&(this.__values__=jg(this.value()));var a=this.__index__>=this.__values__.length,b=a?r:this.__values__[this.__index__++];return{done:a,value:b}};p.prototype.plant=function(a){for(var b,c=this;c instanceof Ca;){var d=wf(c);d.__index__=0;d.__values__=r;b?e.__wrapped__=d:b=
d;var e=d;c=c.__wrapped__}e.__wrapped__=a;return b};p.prototype.reverse=function(){var a=this.__wrapped__;return a instanceof V?(this.__actions__.length&&(a=new V(this)),a=a.reverse(),a.__actions__.push({func:Nd,args:[De],thisArg:r}),new va(a,this.__chain__)):this.thru(De)};p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=function(){return bf(this.__wrapped__,this.__actions__)};p.prototype.first=p.prototype.head;$c&&(p.prototype[$c]=ah);return p}();"function"==typeof define&&"object"==typeof define.amd&&
define.amd?(Aa._=Ya,define(function(){return Ya})):fb?((fb.exports=Ya)._=Ya,Db._=Ya):Aa._=Ya}).call(this);window.$CQ=_g.$;
(function(b){var a="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"===typeof define&&define.amd)define(["underscore","jquery","exports"],function(c,d,k){a.Backbone=b(a,k,c,d)});else if("undefined"!==typeof exports){var c=require("underscore");try{var d=require("jquery")}catch(e){}b(a,exports,c,d)}else a.Backbone=b(a,{},a._,a.jQuery||a.Zepto||a.ender||a.$)})(function(b,a,c,d){var e=b.Backbone,g=Array.prototype.slice;a.VERSION="1.2.3";
a.$=d;a.noConflict=function(){b.Backbone=e;return this};a.emulateHTTP=!1;a.emulateJSON=!1;var k=function(a,b,d){switch(a){case 1:return function(){return c[b](this[d])};case 2:return function(a){return c[b](this[d],a)};case 3:return function(a,e){return c[b](this[d],l(a,this),e)};case 4:return function(a,e,f){return c[b](this[d],l(a,this),e,f)};default:return function(){var a=g.call(arguments);a.unshift(this[d]);return c[b].apply(c,a)}}},f=function(a,b,d){c.each(b,function(b,e){c[e]&&(a.prototype[e]=
k(b,e,d))})},l=function(a,b){return c.isFunction(a)?a:c.isObject(a)&&!b._isModel(a)?w(a):c.isString(a)?function(b){return b.get(a)}:a},w=function(a){var b=c.matches(a);return function(a){return b(a.attributes)}};d=a.Events={};var m=/\s+/,u=function(a,b,d,e,f){var g=0,q;if(d&&"object"===typeof d)for(void 0!==e&&("context"in f)&&void 0===f.context&&(f.context=e),q=c.keys(d);g<q.length;g++)b=u(a,b,q[g],d[q[g]],f);else if(d&&m.test(d))for(q=d.split(m);g<q.length;g++)b=a(b,q[g],e,f);else b=a(b,d,e,f);
return b};d.on=function(a,b,c){return x(this,a,b,c)};var x=function(a,b,c,d,e){a._events=u(A,a._events||{},b,c,{context:d,ctx:a,listening:e});e&&((a._listeners||(a._listeners={}))[e.id]=e);return a};d.listenTo=function(a,b,d){if(!a)return this;var e=a._listenId||(a._listenId=c.uniqueId("l")),f=this._listeningTo||(this._listeningTo={}),g=f[e];g||(g=this._listenId||(this._listenId=c.uniqueId("l")),g=f[e]={obj:a,objId:e,id:g,listeningTo:f,count:0});x(a,b,d,this,g);return this};var A=function(a,b,c,d){if(c){b=
a[b]||(a[b]=[]);var e=d.context,f=d.ctx;(d=d.listening)&&d.count++;b.push({callback:c,context:e,ctx:e||f,listening:d})}return a};d.off=function(a,b,c){if(!this._events)return this;this._events=u(D,this._events,a,b,{context:c,listeners:this._listeners});return this};d.stopListening=function(a,b,d){var e=this._listeningTo;if(!e)return this;a=a?[a._listenId]:c.keys(e);for(var f=0;f<a.length;f++){var g=e[a[f]];if(!g)break;g.obj.off(b,d,this)}c.isEmpty(e)&&(this._listeningTo=void 0);return this};var D=
function(a,b,d,e){if(a){var f=0,g=e.context;e=e.listeners;if(b||d||g){for(var q=b?[b]:c.keys(a);f<q.length;f++){b=q[f];var k=a[b];if(!k)break;for(var m=[],l=0;l<k.length;l++){var r=k[l];d&&d!==r.callback&&d!==r.callback._callback||g&&g!==r.context?m.push(r):(r=r.listening)&&0===--r.count&&(delete e[r.id],delete r.listeningTo[r.objId])}m.length?a[b]=m:delete a[b]}if(c.size(a))return a}else for(a=c.keys(e);f<a.length;f++)r=e[a[f]],delete e[r.id],delete r.listeningTo[r.objId]}};d.once=function(a,b,d){a=
u(y,{},a,b,c.bind(this.off,this));return this.on(a,void 0,d)};d.listenToOnce=function(a,b,d){b=u(y,{},b,d,c.bind(this.stopListening,this,a));return this.listenTo(a,b)};var y=function(a,b,d,e){if(d){var f=a[b]=c.once(function(){e(b,f);d.apply(this,arguments)});f._callback=d}return a};d.trigger=function(a){if(!this._events)return this;for(var b=Math.max(0,arguments.length-1),c=Array(b),d=0;d<b;d++)c[d]=arguments[d+1];u(E,this._events,a,void 0,c);return this};var E=function(a,b,c,d){if(a){c=a[b];var e=
a.all;c&&e&&(e=e.slice());c&&M(c,d);e&&M(e,[b].concat(d))}return a},M=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],q=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);break;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);break;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);break;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,q);break;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}};d.bind=d.on;d.unbind=d.off;c.extend(a,d);var Q=a.Model=function(a,b){var d=
a||{};b||(b={});this.cid=c.uniqueId(this.cidPrefix);this.attributes={};b.collection&&(this.collection=b.collection);b.parse&&(d=this.parse(d,b)||{});d=c.defaults({},d,c.result(this,"defaults"));this.set(d,b);this.changed={};this.initialize.apply(this,arguments)};c.extend(Q.prototype,d,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},
escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},matches:function(a){return!!c.iteratee(a,this)(this.attributes)},set:function(a,b,d){if(null==a)return this;if("object"===typeof a){var e=a;d=b}else(e={})[a]=b;d||(d={});if(!this._validate(e,d))return!1;var f=d.unset;a=d.silent;var g=[],q=this._changing;this._changing=!0;q||(this._previousAttributes=c.clone(this.attributes),this.changed={});var k=this.attributes,m=this.changed,l=this._previousAttributes,u;for(u in e)b=
e[u],c.isEqual(k[u],b)||g.push(u),c.isEqual(l[u],b)?delete m[u]:m[u]=b,f?delete k[u]:k[u]=b;this.id=this.get(this.idAttribute);if(!a)for(g.length&&(this._pending=d),b=0;b<g.length;b++)this.trigger("change:"+g[b],this,k[g[b]],d);if(q)return this;if(!a)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={},d;for(d in this.attributes)b[d]=
void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b=this._changing?this._previousAttributes:this.attributes,d={},e;for(e in a){var f=a[e];c.isEqual(b[e],f)||(d[e]=f)}return c.size(d)?d:!1},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},
fetch:function(a){a=c.extend({parse:!0},a);var b=this,d=a.success;a.success=function(c){var e=a.parse?b.parse(c,a):c;if(!b.set(e,a))return!1;d&&d.call(a.context,b,c,a);b.trigger("sync",b,c,a)};da(this,a);return this.sync("read",this,a)},save:function(a,b,d){if(null==a||"object"===typeof a){var e=a;d=b}else(e={})[a]=b;d=c.extend({validate:!0,parse:!0},d);var f=d.wait;if(e&&!f){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;var g=this,q=d.success,k=this.attributes;d.success=function(a){g.attributes=
k;var b=d.parse?g.parse(a,d):a;f&&(b=c.extend({},e,b));if(b&&!g.set(b,d))return!1;q&&q.call(d.context,g,a,d);g.trigger("sync",g,a,d)};da(this,d);e&&f&&(this.attributes=c.extend({},k,e));a=this.isNew()?"create":d.patch?"patch":"update";"patch"!==a||d.attrs||(d.attrs=e);a=this.sync(a,this,d);this.attributes=k;return a},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=a.wait,f=function(){b.stopListening();b.trigger("destroy",b,b.collection,a)};a.success=function(c){e&&f();d&&d.call(a.context,
b,c,a);b.isNew()||b.trigger("sync",b,c,a)};var g=!1;this.isNew()?c.defer(a.success):(da(this,a),g=this.sync("delete",this,a));e||f();return g},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||O();if(this.isNew())return a;var b=this.get(this.idAttribute);return a.replace(/[^\/]$/,"$\x26/")+encodeURIComponent(b)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},
c.defaults({validate:!0},a))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);a=this.validationError=this.validate(a,b)||null;if(!a)return!0;this.trigger("invalid",this,a,c.extend(b,{validationError:a}));return!1}});f(Q,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var B=a.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,
arguments);a&&this.reset(a,c.extend({silent:!0},b))},C={add:!0,remove:!0,merge:!0},K={add:!0,remove:!1},ma=function(a,b,c){c=Math.min(Math.max(c,0),a.length);for(var d=Array(a.length-c),e=b.length,f=0;f<d.length;f++)d[f]=a[f+c];for(f=0;f<e;f++)a[f+c]=b[f];for(f=0;f<d.length;f++)a[f+e+c]=d[f]};c.extend(B.prototype,d,{model:Q,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return a.sync.apply(this,arguments)},add:function(a,b){return this.set(a,
c.extend({merge:!1},b,K))},remove:function(a,b){b=c.extend({},b);var d=!c.isArray(a);a=d?[a]:c.clone(a);a=this._removeModels(a,b);!b.silent&&a&&this.trigger("update",this,b);return d?a[0]:a},set:function(a,b){if(null!=a){b=c.defaults({},b,C);b.parse&&!this._isModel(a)&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?[a]:a.slice();var e=b.at;null!=e&&(e=+e);0>e&&(e+=this.length+1);for(var f=[],g=[],q=[],k={},m=b.add,l=b.merge,u=b.remove,w=!1,y=this.comparator&&null==e&&!1!==b.sort,O=c.isString(this.comparator)?
this.comparator:null,B,F=0;F<a.length;F++){B=a[F];var A=this.get(B);A?(l&&B!==A&&(B=this._isModel(B)?B.attributes:B,b.parse&&(B=A.parse(B,b)),A.set(B,b),y&&!w&&(w=A.hasChanged(O))),k[A.cid]||(k[A.cid]=!0,f.push(A)),a[F]=A):m&&(B=a[F]=this._prepareModel(B,b))&&(g.push(B),this._addReference(B,b),k[B.cid]=!0,f.push(B))}if(u){for(F=0;F<this.length;F++)B=this.models[F],k[B.cid]||q.push(B);q.length&&this._removeModels(q,b)}k=!1;f.length&&!y&&m&&u?(k=this.length!=f.length||c.some(this.models,function(a,
b){return a!==f[b]}),this.models.length=0,ma(this.models,f,0),this.length=this.models.length):g.length&&(y&&(w=!0),ma(this.models,g,null==e?this.length:e),this.length=this.models.length);w&&this.sort({silent:!0});if(!b.silent){for(F=0;F<g.length;F++)null!=e&&(b.index=e+F),B=g[F],B.trigger("add",B,this,b);(w||k)&&this.trigger("sort",this,b);(g.length||q.length)&&this.trigger("update",this,b)}return d?a[0]:a}},reset:function(a,b){b=b?c.clone(b):{};for(var d=0;d<this.models.length;d++)this._removeReference(this.models[d],
b);b.previousModels=this.models;this._reset();a=this.add(a,c.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a)},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a)},slice:function(){return g.apply(this.models,arguments)},get:function(a){if(null!=a){var b=this.modelId(this._isModel(a)?
a.attributes:a);return this._byId[a]||this._byId[b]||this._byId[a.cid]}},at:function(a){0>a&&(a+=this.length);return this.models[a]},where:function(a,b){return this[b?"find":"filter"](a)},findWhere:function(a){return this.where(a,!0)},sort:function(a){var b=this.comparator;if(!b)throw Error("Cannot sort a set without a comparator");a||(a={});var d=b.length;c.isFunction(b)&&(b=c.bind(b,this));1===d||c.isString(b)?this.models=this.sortBy(b):this.models.sort(b);a.silent||this.trigger("sort",this,a);
return this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=c.extend({parse:!0},a);var b=a.success,d=this;a.success=function(c){d[a.reset?"reset":"set"](c,a);b&&b.call(a.context,d,c,a);d.trigger("sync",d,c,a)};da(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?c.clone(b):{};var d=b.wait;a=this._prepareModel(a,b);if(!a)return!1;d||this.add(a,b);var e=this,f=b.success;b.success=function(a,b,c){d&&e.add(a,c);f&&f.call(c.context,a,b,c)};a.save(null,b);return a},
parse:function(a,b){return a},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(a){return a[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(this._isModel(a))return a.collection||(a.collection=this),a;b=b?c.clone(b):{};b.collection=this;a=new this.model(a,b);if(!a.validationError)return a;this.trigger("invalid",this,a.validationError,b);return!1},
_removeModels:function(a,b){for(var c=[],d=0;d<a.length;d++){var e=this.get(a[d]);if(e){var f=this.indexOf(e);this.models.splice(f,1);this.length--;b.silent||(b.index=f,e.trigger("remove",e,this,b));c.push(e);this._removeReference(e,b)}}return c.length?c:!1},_isModel:function(a){return a instanceof Q},_addReference:function(a,b){this._byId[a.cid]=a;b=this.modelId(a.attributes);null!=b&&(this._byId[b]=a);a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){delete this._byId[a.cid];b=
this.modelId(a.attributes);null!=b&&delete this._byId[b];this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if("add"!==a&&"remove"!==a||c===this){"destroy"===a&&this.remove(b,d);if("change"===a){var e=this.modelId(b.previousAttributes()),f=this.modelId(b.attributes);e!==f&&(null!=e&&delete this._byId[e],null!=f&&(this._byId[f]=b))}this.trigger.apply(this,arguments)}}});f(B,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,
foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");f=a.View=function(a){this.cid=c.uniqueId("view");c.extend(this,c.pick(a,T));this._ensureElement();this.initialize.apply(this,arguments)};var X=/^(\S+)\s*(.*)$/,
T="model collection el id attributes className tagName events".split(" ");c.extend(f.prototype,d,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(a){this.undelegateEvents();this._setElement(a);this.delegateEvents();return this},_setElement:function(b){this.$el=b instanceof a.$?b:a.$(b);this.el=this.$el[0]},
delegateEvents:function(a){a||(a=c.result(this,"events"));if(!a)return this;this.undelegateEvents();for(var b in a){var d=a[b];c.isFunction(d)||(d=this[d]);if(d){var e=b.match(X);this.delegate(e[1],e[2],c.bind(d,this))}}return this},delegate:function(a,b,c){this.$el.on(a+".delegateEvents"+this.cid,b,c);return this},undelegateEvents:function(){this.$el&&this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(a,b,c){this.$el.off(a+".delegateEvents"+this.cid,b,c);return this},_createElement:function(a){return document.createElement(a)},
_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"));else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id"));this.className&&(a["class"]=c.result(this,"className"));this.setElement(this._createElement(c.result(this,"tagName")));this._setAttributes(a)}},_setAttributes:function(a){this.$el.attr(a)}});a.sync=function(b,d,e){var f=Y[b];c.defaults(e||(e={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var g={type:f,dataType:"json"};e.url||
(g.url=c.result(d,"url")||O());null!=e.data||!d||"create"!==b&&"update"!==b&&"patch"!==b||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e)));e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{});if(e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST";e.emulateJSON&&(g.data._method=f);var k=e.beforeSend;e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",f);if(k)return k.apply(this,arguments)}}"GET"===
g.type||e.emulateJSON||(g.processData=!1);var m=e.error;e.error=function(a,b,c){e.textStatus=b;e.errorThrown=c;m&&m.call(e.context,a,b,c)};b=e.xhr=a.ajax(c.extend(g,e));d.trigger("request",d,b,e);return b};var Y={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var F=a.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},I=/\((.*?)\)/g,R=/(\(\?)?:\w+/g,W=
/\*\w+/g,S=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(F.prototype,d,{initialize:function(){},route:function(b,d,e){c.isRegExp(b)||(b=this._routeToRegExp(b));c.isFunction(d)&&(e=d,d="");e||(e=this[d]);var f=this;a.history.route(b,function(c){c=f._extractParameters(b,c);!1!==f.execute(e,c,d)&&(f.trigger.apply(f,["route:"+d].concat(c)),f.trigger("route",d,c),a.history.trigger("route",f,d,c))});return this},execute:function(a,b,c){a&&a.apply(this,b)},navigate:function(b,c){a.history.navigate(b,c);return this},
_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(S,"\\$\x26").replace(I,"(?:$1)?").replace(R,function(a,b){return b?a:"([^/?]+)"}).replace(W,"([^?]*?)");return new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var ia=
a.History=function(){this.handlers=[];this.checkUrl=c.bind(this.checkUrl,this);"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},ka=/^[#\/]|\s+$/g,ca=/^\/+|\/+$/g,fa=/#.*$/;ia.started=!1;c.extend(ia.prototype,d,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$\x26/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(a){return decodeURI(a.replace(/%25/g,
"%2525"))},getSearch:function(){var a=this.location.href.replace(/#.*/,"").match(/\?.+/);return a?a[0]:""},getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getPath:function(){var a=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===a.charAt(0)?a.slice(1):a},getFragment:function(a){null==a&&(a=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash());return a.replace(ka,"")},start:function(a){if(ia.started)throw Error("Backbone.history has already been started");
ia.started=!0;this.options=c.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.history||!this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();
this.root=("/"+this.root+"/").replace(ca,"/");if(this._wantsHashChange&&this._wantsPushState)if(this._hasPushState||this.atRoot())this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});else return a=this.root.slice(0,-1)||"/",this.location.replace(a+"#"+this.getPath()),!0;this._hasHashChange||!this._wantsHashChange||this._usePushState||(this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1,a=document.body,
a=a.insertBefore(this.iframe,a.firstChild).contentWindow,a.document.open(),a.document.close(),a.location.hash="#"+this.fragment);a=window.addEventListener||function(a,b){return attachEvent("on"+a,b)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));if(!this.options.silent)return this.loadUrl()},stop:function(){var a=window.removeEventListener||
function(a,b){return detachEvent("on"+a,b)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&a("hashchange",this.checkUrl,!1);this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);ia.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getHash(this.iframe.contentWindow));if(a===this.fragment)return!1;
this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){if(!this.matchRoot())return!1;a=this.fragment=this.getFragment(a);return c.some(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!ia.started)return!1;b&&!0!==b||(b={trigger:!!b});a=this.getFragment(a||"");var c=this.root;if(""===a||"?"===a.charAt(0))c=c.slice(0,-1)||"/";c+=a;a=this.decodeFragment(a.replace(fa,""));if(this.fragment!==a){this.fragment=a;if(this._usePushState)this.history[b.replace?
"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getHash(this.iframe.contentWindow)&&(c=this.iframe.contentWindow,b.replace||(c.document.open(),c.document.close()),this._updateHash(c.location,a,b.replace));else return this.location.assign(c);if(b.trigger)return this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});a.history=new ia;
Q.extend=B.extend=F.extend=f.extend=ia.extend=function(a,b){var d=this;var e=a&&c.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)};c.extend(e,d,b);b=function(){this.constructor=e};b.prototype=d.prototype;e.prototype=new b;a&&c.extend(e.prototype,a);e.__super__=d.prototype;return e};var O=function(){throw Error('A "url" property or function must be specified');},da=function(a,b){var c=b.error;b.error=function(d){c&&c.call(b.context,a,d,b);a.trigger("error",a,d,b)}};return a});
(function(b,a,c,d){function e(a,b,c){var d=a.prototype=Object.create(b.prototype);d.constructor=a;d._super=b.prototype;c&&_.extend(d,c)}function g(a,b){for(var c,e=b[0].toUpperCase()+b.slice(1),f=0;f<ka.length;){c=(c=ka[f])?c+e:b;if(c in a)return c;f++}return d}function k(a){return a.trim().split(/\s+/g)}function f(a){return a.trim().split(/,\s+/g)}function l(a){return"px"===I.defaults.units?a:a/I.defaults.ppcm}function w(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function m(b,c){var d=a.createEvent("Event"),
e=c||{};d.initEvent(b,e.bubbles?e.bubbles:!0,e.cancelable?e.cancelable:!0);return _.extend(d,c)}function u(a,b){_.each(_.keys(b),function(c){_.isUndefined(b[c])||(x(b[c])&&(_.isUndefined(a[c])||x(a[c]))?(a[c]=a[c]||{},u(a[c],b[c])):_.isUndefined(a[c])&&(a[c]=b[c]))});return a}function x(a){return a&&"object"===typeof a&&Object.getPrototypeOf(a)===Object.prototype}function A(a,b){ca[b]||(ca[b]=a)}function D(a){a.matchesSelector=a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||
a.oMatchesSelector||a.webkitMatchesSelector||function(a){a=(this.parentNode||this.document).querySelectorAll(a);for(var b=-1;a[++b]&&a[b]!==this;);return!!a[b]}}function y(){var b=a.createElement("div");b.style.width="1cm";var c=a.getElementsByTagName("body")[0];c.appendChild(b);var d=a.defaultView.getComputedStyle(b,null).getPropertyValue("width");c.removeChild(b);return parseFloat(d)}function E(a){throw Error("No definition for abstract method "+a+". Must be overridden in subclass.");}function M(a){this.id=
a;this.events=[]}function Q(a){var b=a[0];a=a[1];return 0===b&&0===a?0:Math.abs(b)>=Math.abs(a)?0<=b?2:1:0<=a?8:4}function B(a){this.keys=[];this.values={};if(a!==d&&0<a.length)for(var b=a.length;b--;)this.set(a[b])}function C(a,b,c){this.state=this._startState=a;this._processThisVal=c;this._populate(b)}function K(a){this.options=_.defaults(a||{},this.defaults);this.manager=null;this.state=1}function ma(){K.apply(this,arguments);this.reset()}function X(){K.apply(this,arguments);this._stateMachine=
new C(1,this.definition,this);this.reset()}function T(){K.apply(this,arguments);this._stateMachine=new C(1,this.definition,this);this.reset()}function Y(){K.apply(this,arguments);this._stateMachine=new C(1,this.definition,this);this.reset()}function F(b,c){this.options=_.defaults(c||{},I.defaults);this.recognizers=[];this.element=b;this.activePointerIDs=[];var d=this;this._handlers={};this._boundHandlePointerDown=function(a){d._handlePointerDown.call(d,a)};this._boundHandlePointerMove=function(a){d._handlePointerMove.call(d,
a)};this._boundHandlePointerUp=function(a){d._handlePointerUp.call(d,a)};this._boundHandleCancelEvent=function(a){d._handleCancelEvent.call(d,a)};this._pendingEmits=[];b.addEventListener("pointerdown",this._boundHandlePointerDown,!1);a.addEventListener("pointerup",this._boundHandlePointerUp,!1);a.addEventListener("pointercancel",this._boundHandlePointerUp,!1);a.addEventListener("sistine-cancelpointers",this._boundHandleCancelEvent,!1);this._populate()}function I(a,b){return new I.Manager(a,b)}function R(a){I.pointerSet.add(a)}
function W(a){var b=I.pointerSet;b.has(a.pointerId)?b.add(a)||a.stopPropagation():a.stopPropagation()}function S(a){I.pointerSet.remove(a.pointerId)}function ia(){I.defaults.ppcm=y();D(Element.prototype);var c=a.getElementsByTagName("body")[0];_.each(I.defaults.cssProps,function(a,b){c.style[g(c.style,b)]=a});b.addEventListener("pointerdown",R,!0);b.addEventListener("pointermove",W,!0);b.addEventListener("pointerup",W,!0);b.addEventListener("pointercancel",W,!0);b.addEventListener("pointerup",S,!1);
b.addEventListener("pointercancel",S,!1)}var ka=" webkit moz MS ms o".split(" "),ca={},fa="altKey bubbles button cancelable ctrlKey clientX clientY detail fromElement isPrimary layerX layerY metaKey offsetX offsetY pageX pageY pointerId pointerType pressure relatedTarget screenX screenY shiftKey target tiltX tiltY timeStamp toElement type view x y".split(" ");M.prototype={length:function(){return this.events.length},add:function(a){if("pointermove"===a.type){var b=0<this.events.length?this.events[this.events.length-
1]:null;if(0===a.pressure||b&&"pointermove"===b.type&&b.x===a.x&&b.y===a.y)return null}for(var c={},d=0,e=fa.length;d<e;d++)b=fa[d],c[b]=a[b];if("undefined"===typeof c.x||"undefined"===typeof c.y)c.x=c.pageX,c.y=c.pageY;c.timeStamp=Date.now();this.events.push(c);return c},position:function(){if(0<this.length()){var a=this.events[this.events.length-1];return[a.x,a.y]}return[0,0]},lastVector:function(){if(1<this.length()){var a=this.events[this.events.length-1],b=this.events[this.events.length-2];return[a.x-
b.x,a.y-b.y]}return[0,0]},lastDirection:function(){return Q(this.lastVector())},lastDistance:function(){return w(this.lastVector())},totalVector:function(){if(1<this.length()){var a=this.events[this.events.length-1],b=this.events[0];return[a.x-b.x,a.y-b.y]}return[0,0]},totalDirection:function(){return Q(this.totalVector())},totalDistance:function(){return w(this.totalVector())},totalCumulativeDistance:function(){for(var a=this.events,b=this.events.length,c=0,d=0;d<b-1;d++){var e=a[d],f=a[d+1];c+=
w([e.x-f.x,e.y-f.y])}return c},duration:function(){return 1<this.length()?Math.abs(this.events[this.events.length-1].timeStamp-this.events[0].timeStamp):0},firstEvent:function(){return this.events[0]},lastEvent:function(){return this.events[this.events.length-1]},eventAtIndex:function(a){return this.events[a]},lastEventType:function(){var a=this.lastEvent();return a?a.type.substring(7):null},lastVelocity:function(){var a=this.events.length,b="up"===this.lastEventType();if(1<this.length()){var c=this.events[Math.max(0,
b?a-3:a-2)];a=this.events[Math.max(0,b?a-2:a-1)];b=(a.timeStamp-c.timeStamp)/1E3;return[(a.x-c.x)/b,(a.y-c.y)/b]}return[0,0]},lastSpeed:function(){return w(this.lastVelocity())},clear:function(){this.events.length=0},initialTarget:function(){return 0===this.events.length?null:this.events[0].target}};B.prototype={count:function(){return this.keys.length},pointerIds:function(){return this.keys.slice()},add:function(a){var b=a.pointerId;if(-1<_.indexOf(this.keys,b))return this.get(b).add(a);var c=new I.Pointer(b);
this.keys.push(b);this._sortKeys();this.values[b]=c;return c.add(a)},set:function(a){var b=a.id;this.has(b)||(this.keys.push(b),this._sortKeys());return this.values[b]=a},remove:function(a){a="number"===typeof a?a:a.id;var b=_.indexOf(this.keys,a);if(-1<b){var c=this.values[a];this.keys.splice(b,1);delete this.values[a];return c}return null},clear:function(){this.keys.length=0;this.values={}},get:function(a){return this.values[a]},has:function(a){a=_.isArray(a)?a:[a];for(var b=0,c=a.length;b<c;b++)if(-1<
_.indexOf(this.keys,a[b]))return!0;return!1},first:function(){return this.values[this.keys[0]]},last:function(){return this.values[this.keys[this.keys.length-1]]},atIndex:function(a){return this.values[this.keys[a]]},subset:function(a){var b=_.filter(this.values,function(b){return a.includes(b.id)});return new B(b)},centroid:function(){if(0===this.keys.length)return[0,0];var a=this.keys,b=this.values,c=[0,0],d,e=a.length;for(d=0;d<e;d++){var f=b[a[d]].position();c[0]+=f[0];c[1]+=f[1]}return[c[0]/
a.length,c[1]/a.length]},averageDistanceFromPoint:function(a){if(0===this.keys.length)return 0;var b=this.keys,c=this.values,d=0,e,f=b.length;for(e=0;e<f;e++){var g=c[b[e]].position();d+=w([g[0]-a[0],g[1]-a[1]])}return d/b.length},filter:function(a){return new B(this._filter(a,!1))},cluster:function(a,b,c){var d=this.values[a];c=_.isUndefined(c)?!0:c;if(!d)return new B;a=function(a){if(c&&"up"===a.lastEventType())return!1;if(d.id===a.id)return!0;var e=d.position();a=a.position();return l(w([e[0]-
a[0],e[1]-a[1]]))<=b};for(var e=[],f=this._filter(a,!0),g=_.clone(this.keys);0<g.length;)d=this.values[g.pop()],e=this._filter(a,!0),0<_.intersection(e,f).length&&(f=_.union(e,f));return new B(this._keysToVals(f))},_filter:function(a,b){var c=this.keys,d=this.values,e=[],f,g=c.length;for(f=0;f<g;f++){var k=c[f];var m=d[k];a(m,this)&&(b?e.push(k):e.push(m))}return e},_sortKeys:function(){this.keys=this.keys.sort(function(a,b){return a-b})},_keysToVals:function(a){var b=[],c,d=a.length;for(c=0;c<d;c++)b.push(this.values[a[c]]);
return b}};C.prototype={process:function(a){var b=this.getRule(a,this.state);if(b){var c=b.before,d=b.async;b=b.transitions;var e=Array.prototype.slice.call(arguments,1);this._applyMaybe(c,e);if(b||d)return c=this._processAsync(d,e)||this._processSync(b,e)||this._returnObject({}),8!==c.state&&32!==c.state&&16!==c.state&&64!==c.state||this.cancelAsync(),c}},cancelAsync:function(){clearTimeout(this._asyncTimeout);delete this._asyncTimeout},reset:function(){this.state=this._startState;this.cancelAsync();
return this.state},getRule:function(a,b){return(a=this._eventRules[a])?a[b]:null},_processAsync:function(a,b){if(!this._asyncTimeout&&a&&a.transitions&&0!==a.transitions.length){var c=this._applyMaybe(a.guard||function(){return!0},b);if(c&&0<c)return this._asyncTimeout=setTimeout(_.bind(this._handleAsyncTimeout,this),c,a.transitions,b),this._returnObject({})}},_handleAsyncTimeout:function(a,b){this.cancelAsync();this._processSync(a,b)},_processSync:function(a,b){if(a&&0!==a.length)for(var c=0,d=a.length;c<
d;c++){var e=a[c],f=e.to,g=e.after,k=e.emit||function(){return{}};if(this._applyMaybe(e.guard||function(){return!0},b))return e.cancelsAsync&&this.cancelAsync(),this.state=f,this._applyMaybe(g,b),this._returnObject(this._applyMaybe(k,b))}},_applyMaybe:function(a,b){if(!_.isUndefined(a)&&_.isFunction(a))return a.apply(this._processThisVal,b)},_populate:function(a){this._eventRules={};if(a&&0!==a.length)for(var b=0,c=a.length;b<c;b++){var d=a[b];if(d.on&&d.from)for(var e=_.isArray(d.on)?d.on:[d.on],
f=_.isArray(d.from)?d.from:[d.from],g,k,m=0;m<e.length;m++){g=e[m];(k=this._eventRules[g])||(k=this._eventRules[g]={});for(var l=0;l<f.length;l++)g=f[l],k[g]=d}}},_returnObject:function(a){return{state:this.state,data:a}}};K.prototype={defaults:{delegate:null,delegateScope:this,capturePointers:!1},recognize:function(a,b,c){if(!this.hasTerminated()){var d=this.state;a=this.process(a,b,c);c={};if("undefined"===typeof a)return this.state;"number"===typeof a?this.state=a:(this.state=a.state,c=a.data||
{});if(this.state!==d||4===this.state)64===this.state?this.tryEmitPending():1!==d||this.shouldBegin()?this.emit(_.extend(c,{state:this.state,target:b.target})):this.fail();return this.state}},shouldBegin:function(){var a=this.options.delegate;return!a||!a.recognizerShouldBegin||_.isFunction(a.recognizerShouldBegin)&&a.recognizerShouldBegin.call(this.options.delegateScope,this)},process:function(a,b,c){return this.state},reset:function(){E("reset")},fail:function(a){var b=this.trackedPointers();if(_.isUndefined(a)||
b&&b.has(a))this.state=64,this.emit({state:this.state}),this.tryEmitPending()},trackedPointers:function(){E("trackedPointers")},hasTerminated:function(){return 8===this.state||32===this.state||16===this.state||64===this.state},requiresFail:function(){var a=this.options.delegate,b=this.options.delegateScope;return a&&_.isFunction(a.gestureRequiredToFail)?a.gestureRequiredToFail.call(b,this):null},usesGlobalPointers:function(){var a=this.options.delegate,b=this.options.delegateScope;return!a||!a.recognizerUsesGlobalPointers||
_.isFunction(a.recognizerUsesGlobalPointers)&&a.recognizerUsesGlobalPointers.call(b,this)},shouldCapturePointers:function(){var a=this.options.delegate,b=this.options.delegateScope;return a&&a.capturePointers&&_.isFunction(a.capturePointers)?a.capturePointers.call(b,this):this.options.capturePointers},recognizerFailedAsynchronously:function(){this.manager&&(this.manager.tryEmitPending(),this.manager.tryReset())},recognizerStartedAsynchronously:function(){this.manager&&this.manager.checkCapturePointers(this)},
tryEmitPending:function(){this.manager&&this.manager.tryEmitPending()},emit:function(a){this.manager&&this.manager.tryEmitRecognizerEvent(this,this.options.eventName,a||{})}};e(ma,K,{defaults:_.defaults({eventName:"tap",minPointers:1,maxPointers:1,taps:1,interval:300,duration:1E3,tolerance:1,radius:7},K.prototype.defaults),process:function(a,b,c){switch(a){case "down":return this._processDownEvent(b,c);case "up":return this._processUpEvent(b,c)}},reset:function(){this.state=1;clearInterval(this._interval);
delete this._interval;delete this._masterPointer;delete this._currentPointerSet;this._tapCount=0;this._firstTapPosition=[];return this.state},trackedPointers:function(){return this._currentPointerSet},_processDownEvent:function(a,b){this._masterPointer||(this._masterPointer=b.get(a.pointerId));this._currentPointerSet=b.cluster(this._masterPointer.id,this.options.radius);0===this._tapCount&&(this._firstTapPosition=this._currentPointerSet.centroid(),0<this.options.interval&&(clearInterval(this._interval),
delete this._interval,this._interval=setInterval(_.bind(function(){this._handleInterval(a.target)},this),this.options.interval)));return this.state},_processUpEvent:function(a,b){if(!this._masterPointer||!this._currentPointerSet||a.pointerId!==this._masterPointer.id)return this.state;var c=this._currentPointerSet.count();b=this._currentPointerSet.centroid();b=[this._firstTapPosition[0]-b[0],this._firstTapPosition[1]-b[1]];c=c>=this.options.minPointers&&c<=this.options.maxPointers;var d=this._masterPointer.duration()<=
this.options.duration||0===this.options.duration,e=l(this._masterPointer.totalDistance())<=this.options.tolerance;b=0===this._tapCount||l(w(b))<=this.options.tolerance;return c&&d&&e&&b?this._handleTap(a):this._returnObject(64,this._masterPointer,this._currentPointerSet)},_handleTap:function(a){if(++this._tapCount>=this.options.taps)return this._returnObject(32,this._masterPointer,this._currentPointerSet);delete this._masterPointer;delete this._currentPointerSet;0<this.options.interval&&(clearInterval(this._interval),
delete this._interval,this._interval=setInterval(_.bind(function(){this._handleInterval(a.target)},this),this.options.interval));return this.state},_handleInterval:function(a){this.state=64;this.recognizerFailedAsynchronously();clearInterval(this._interval);delete this._interval},_returnObject:function(a,b,c){return{state:a,data:{pointer:b,pointerSet:c}}}});A(ma,"tap");X.emitTemplate=function(){return{pointer:this._masterPointer,pointerSet:this._currentPointerSet}};e(X,K,{defaults:_.defaults({eventName:"press",
minPointers:1,maxPointers:1,duration:0,threshold:7,radius:7},K.prototype.defaults),definition:[{on:"down",from:1,before:function(a,b){this._masterPointer=this._masterPointer||b.get(a.pointerId);this._currentPointerSet=b.cluster(this._masterPointer.id,this.options.radius)},async:{guard:function(){var a=this._currentPointerSet.count();return a>=this.options.minPointers&&a<=this.options.maxPointers&&0<this.options.duration?this.options.duration:!1},transitions:[{to:2,guard:function(){return this.shouldBegin()},
after:function(a,b){this.state=2;this.emit({target:a.target,state:this.state,pointer:this._masterPointer,pointerSet:this._currentPointerSet});this.recognizerStartedAsynchronously()}},{to:64,guard:function(){return!this.shouldBegin()},after:function(){this.state=64;this.recognizerFailedAsynchronously()}}]},transitions:[{to:2,emit:X.emitTemplate,guard:function(){var a=this._currentPointerSet.count();return a>=this.options.minPointers&&a<=this.options.maxPointers&&0===this.options.duration}},{to:64,
emit:X.emitTemplate,guard:function(){return this._currentPointerSet.count()>this.options.maxPointers}}]},{on:"move",from:1,transitions:[{to:64,emit:X.emitTemplate,guard:function(){return this._masterPointer?l(this._masterPointer.totalDistance())>this.options.threshold:!1}}]},{on:["up","cancel"],from:1,before:function(a,b){this._currentPointerSet&&this._masterPointer&&(this._currentPointerSet.remove(a.pointerId),0<this._currentPointerSet.count()&&a.pointerId===this._masterPointer.id&&(this._masterPointer=
this._currentPointerSet.first()))},transitions:[{to:64,emit:X.emitTemplate,guard:function(){return this._currentPointerSet?this._currentPointerSet.count()<this.options.minPointers:!1}}]},{on:"down",from:2,before:function(a,b){this._currentPointerSet=b.cluster(this._masterPointer.id,this.options.radius)},transitions:[{to:64,emit:X.emitTemplate,guard:function(){return this._currentPointerSet.count()>this.options.maxPointers}}]},{on:["up","cancel"],from:2,before:function(a,b){this._currentPointerSet&&
this._masterPointer&&(this._currentPointerSet.remove(a.pointerId),0<this._currentPointerSet.count()&&a.pointerId===this._masterPointer.id&&(this._masterPointer=this._currentPointerSet.first()))},transitions:[{to:8,emit:X.emitTemplate,guard:function(){return this._currentPointerSet?this._currentPointerSet.count()<this.options.minPointers:!1}},{to:4,emit:X.emitTemplate}]}],process:function(a,b,c){return this._stateMachine.process(a,b,c)},reset:function(){this.state=this._stateMachine.reset();delete this._currentPointerSet;
delete this._masterPointer},trackedPointers:function(){return this._currentPointerSet},fail:function(){K.prototype.fail.apply(this,arguments);this._stateMachine.cancelAsync()}});A(X,"press");T.emitTemplate=function(){return{pointer:this._masterPointer,pointerSet:this._currentPointerSet,scale:this._currentScale}};e(T,K,{defaults:_.defaults({eventName:"pinch",radius:7,scaleThreshold:.05,minPointers:2,maxPointers:2},K.prototype.defaults),definition:[{on:"down",from:1,before:function(a,b){this._masterPointer=
this._masterPointer||b.get(a.pointerId);this._currentPointerSet=b.cluster(this._masterPointer.id,this.options.radius);this._currentPointerCount=this._currentPointerSet.count()},transitions:[{to:64,guard:function(){return this._currentPointerCount>this.options.maxPointers},emit:T.emitTemplate}]},{on:"down",from:2,before:function(a,b){this._currentPointerSet=b.cluster(this._masterPointer.id,this.options.radius);this._currentPointerCount=this._currentPointerSet.count()},transitions:[{to:8,guard:function(){return this._currentPointerCount>
this.options.maxPointers},emit:T.emitTemplate},{to:4,emit:T.emitTemplate}]},{on:"move",from:1,before:function(a,b){a=this._currentPointerSet.centroid();a=this._currentPointerSet.averageDistanceFromPoint(a);this._firstAverageDistance=this._firstAverageDistance||a;this._currentScale=a/this._firstAverageDistance},transitions:[{to:2,guard:function(){return this._currentPointerCount>=this.options.minPointers&&Math.abs(1-this._currentScale)>=this.options.scaleThreshold},emit:T.emitTemplate}]},{on:"move",
from:[2,4],before:function(a,b){a=this._currentPointerSet.centroid();this._currentScale=this._currentPointerSet.averageDistanceFromPoint(a)/this._firstAverageDistance},transitions:[{to:4,emit:T.emitTemplate}]},{on:"up",from:1,before:function(a,b){this._currentPointerSet.remove(a.pointerId);this._currentPointerCount=this._currentPointerSet.count()},transitions:[{to:64,guard:function(){return this._currentPointerCount<this.options.minPointers},emit:T.emitTemplate}]},{on:"up",from:[2,4],before:function(a,
b){this._currentPointerSet.remove(a.pointerId);a.pointerId===this._masterPointer.id&&(this._masterPointer=this._currentPointerSet.first());this._currentPointerCount=this._currentPointerSet.count()},transitions:[{to:8,guard:function(){return this._currentPointerCount<this.options.minPointers},emit:T.emitTemplate}]}],process:function(a,b,c){return this._stateMachine.process(a,b,c)},reset:function(){this.state=this._stateMachine.reset();delete this._masterPointer;delete this._currentPointerSet;this._firstAverageDistance=
this._currentScale=this._currentPointerCount=0;return this.state},trackedPointers:function(){return this._currentPointerSet}});A(T,"pinch");Y.emitTemplate=function(){return{pointer:this._masterPointer,pointerSet:this._currentPointerSet,translation:this._currentTranslation}};e(Y,K,{defaults:_.defaults({eventName:"pan",minPointers:1,maxPointers:1,minLockDistance:1,direction:15,radius:7,capturePointers:!0},K.prototype.defaults),definition:[{on:"down",from:1,before:function(a,b){this._masterPointer=this._masterPointer||
b.get(a.pointerId);this._currentPointerSet=b.cluster(this._masterPointer.id,this.options.radius);this._currentPointerCount=this._currentPointerSet.count()},transitions:[{to:64,guard:function(){return this._currentPointerCount>this.options.maxPointers},emit:Y.emitTemplate}]},{on:"down",from:2,before:function(a,b){this._currentPointerSet=b.cluster(this._masterPointer.id,this.options.radius);this._currentPointerCount=this._currentPointerSet.count()},transitions:[{to:64,guard:function(){return this._currentPointerCount>
this.options.maxPointers},emit:Y.emitTemplate}]},{on:"move",from:1,transitions:[{to:2,guard:function(){var a=this._masterPointer.totalCumulativeDistance(),b=this._masterPointer.totalDirection();return this._currentPointerCount>=this.options.minPointers&&l(a)>=this.options.minLockDistance&&(b&this.options.direction)===b},emit:Y.emitTemplate}]},{on:"move",from:[2,4],before:function(){this._currentTranslation=this._masterPointer.totalVector();3===(this.options.direction|3)?this._currentTranslation[1]=
0:12===(this.options.direction|12)&&(this._currentTranslation[0]=0)},transitions:[{to:4,emit:Y.emitTemplate}]},{on:["up","cancel"],from:1,before:function(a,b){this._currentPointerSet.remove(a.pointerId);this._currentPointerCount=this._currentPointerSet.count();0<this._currentPointerCount&&a.pointerId===this._masterPointer.id&&(this._masterPointer=this._currentPointerSet.first())},transitions:[{to:64,guard:function(){return this._currentPointerCount<this.options.minPointers},emit:Y.emitTemplate}]},
{on:["up","cancel"],from:[2,4],before:function(a,b){this._currentPointerSet.remove(a.pointerId);this._currentPointerCount=this._currentPointerSet.count();0<this._currentPointerCount&&a.pointerId===this._masterPointer.id&&(this._masterPointer=this._currentPointerSet.first())},transitions:[{to:8,guard:function(){return this._currentPointerCount<this.options.minPointers},emit:Y.emitTemplate},{to:4,emit:Y.emitTemplate}]}],process:function(a,b,c){return this._stateMachine.process(a,b,c)},reset:function(){this.state=
this._stateMachine.reset();delete this._masterPointer;delete this._currentPointerSet;this._currentTranslation=[0,0];return this.state},trackedPointers:function(){return this._currentPointerSet}});A(Y,"pan");F.prototype={destroy:function(){this.removeAll();this.element.removeEventListener("pointerdown",this._boundHandlePointerDown);a.removeEventListener("pointerup",this._boundHandlePointerUp);a.removeEventListener("pointercancel",this._boundHandlePointerUp);a.removeEventListener("sistine-cancelpointers",
this._boundHandleCancelEvent)},count:function(){return this.recognizers.length},add:function(a){var b=this.get(a.options.eventName);b&&this.remove(b);a.manager=this;this.recognizers.push(a);return this},remove:function(a){var b=this.recognizers;a=this.get(a);b.splice(_.indexOf(b,a),1);return this},removeAll:function(){this.recognizers.length=0;return this},get:function(a){if(a instanceof K)return a;var b=null;this.recognizers.every(function(c){if(c.options.eventName===a)return b=c,!1},this);return b},
recognize:function(a,b,c){for(var d=this.recognizers,e,f,g,k=c?c.subset(this.activePointerIDs):new B,m=0,l=d.length;m<l;m++)e=d[m],f=e.state,64!==f&&(g=e.recognize(a,b,e.usesGlobalPointers()?c:k),l=d.length,1===f&&1!==g&&64!==g&&(this.checkCapturePointers(e),this._checkGesturesRequiredToFail(e)))},tryReset:function(){var a=this.recognizers,b,c=a.length,d=!0;for(b=0;b<c;b++){var e=a[b];if(!e.hasTerminated()){d=!1;break}}if(d){for(b=0;b<c;b++)e=a[b],e.reset();this._clearPendingEmits()}},on:function(a,
b){var c=this._handlers;_.each(_.map(f(a),k),function(a){var d=a[0];a=a[1];c[d]=c[d]||[];c[d].push({handler:b,selector:a})});return this},off:function(a,b){var c=this._handlers;_.each(_.map(f(a),k),function(a){var d=a[0],e=a[1];if(b)if(e){var f;_.find(c[d],function(a,c){if(a.handler===b&&a.selector===e)return f=c,!0});c[d].splice(f,1)}else c[d].splice(_.indexOf(_.map(c[d],"handler"),b),1);else e?c[d].splice(_.indexOf(_.map(c[d],"selector"),e),1):delete c[d]});return this},tryEmitRecognizerEvent:function(a,
b,c){var d=a.requiresFail();d&&1===d.state?this._pendingEmits.push({recognizer:a,eventName:b,props:c}):this.emit(b,c)},tryEmitPending:function(){for(var a,b,c=0;c<this._pendingEmits.length;c++)a=this._pendingEmits[c],b=a.recognizer,(b=b.requiresFail())&&64===b.state&&(this.emit(a.eventName,a.props),this._pendingEmits.splice(c,1),c--)},emit:function(a,b){b=_.extend(b||{},{currentTarget:this.element});this.options.domEvents&&b.target&&b.target.dispatchEvent(m(a,b));if((a=this._handlers[a]&&this._handlers[a].slice())&&
0!==a.length)for(var c=0,d=a.length;c<d;c++){var e=a[c].selector;if(e)a:{var f=b.target;for(var g=e;f&&f.parentElement;){if(f.matchesSelector(g))break a;f=f.parentElement}f=null}else f=this.element;(!e||e&&f)&&a[c].handler(_.extend(b||{},{currentTarget:f}))}},cancel:function(a,b){a&&(this.recognizers.every(function(c){if(_.isArray(b)&&_.contains(b,c)||c===b)return!0;c.fail(a)},this),(_.isUndefined(b)||_.isNull(b))&&this._processRemovedPointers(a))},checkCapturePointers:function(a){var b=a.trackedPointers();
return a.shouldCapturePointers()&&b?(I.cancelPointers(b.pointerIds(),a),!0):!1},_populate:function(){var a;var b=0;for(a=this.options.recognizers.length;b<a;b++){var c=this.options.recognizers[b];if(_.isString(c)){var d=ca[c];_.isFunction(d)&&this.add(new d)}else c instanceof K?this.add(c):_.isObject(c)&&c.name&&(d=ca[c.name],this.add(new d(c.options)))}},_checkGesturesRequiredToFail:function(a){for(var b=this.recognizers,c=a.requiresFail(),d=0,e=b.length;d<e;d++){var f=b[d];f!==a&&c&&c!==f&&f.fail()}},
_clearPendingEmits:function(){this._pendingEmits.length=0},_handlePointerDown:function(b){b=b.pointerId;var c=I.pointerSet,d=c.get(b);if(d){var e=d.lastEvent();d=d.lastEventType();"down"===d&&(0===this.activePointerIDs.length&&a.addEventListener("pointermove",this._boundHandlePointerMove,!1),0>_.indexOf(this.activePointerIDs,b)&&this.activePointerIDs.push(b),this.recognize(d,e,c))}},_handlePointerMove:function(a){a=a.pointerId;var b=I.pointerSet,c=b.get(a);if(c){var d=c.lastEvent();c=c.lastEventType();
"move"===c&&-1<_.indexOf(this.activePointerIDs,a)&&this.recognize(c,d,b)}},_handlePointerUp:function(b){b=b.pointerId;var c=I.pointerSet,d=c.get(b);if(d){var e=d.lastEvent();d=d.lastEventType();if("up"===d||"cancel"===d)-1<_.indexOf(this.activePointerIDs,b)&&(this.recognize(d,e,c),this._processRemovedPointer(b)),0===this.activePointerIDs.length&&a.removeEventListener("pointermove",this._boundHandlePointerMove)}},_handleCancelEvent:function(a){this.cancel(a.pointerIds,a.sender)},_processRemovedPointers:function(a){a.forEach(function(a){this._processRemovedPointer(a)},
this)},_processRemovedPointer:function(a){a=_.indexOf(this.activePointerIDs,a);-1<a&&this.activePointerIDs.splice(a,1);0===this.activePointerIDs.length&&this.tryReset()}};I.defaults={ppcm:28,units:"cm",cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},recognizers:[],domEvents:!1};I.pointerSet=new B;I.cancelPointers=function(b,c){b=m("sistine-cancelpointers",{pointerIds:b,sender:c});a.dispatchEvent(b)};"complete"===
a.readyState?ia():a.addEventListener("DOMContentLoaded",ia);_.extend(I,{STATE_POSSIBLE:1,STATE_STARTED:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_CANCELED:16,STATE_RECOGNIZED:32,STATE_FAILED:64,DIRECTION_NONE:0,DIRECTION_LEFT:1,DIRECTION_RIGHT:2,DIRECTION_HORIZONTAL:3,DIRECTION_UP:4,DIRECTION_DOWN:8,DIRECTION_VERTICAL:12,DIRECTION_ANY:15,EVENT_UP:"up",EVENT_DOWN:"down",EVENT_MOVE:"move",EVENT_CANCEL:"cancel",CENTIMETERS:"cm",PIXELS:"px",Manager:F,Recognizer:K,StateMachine:C,PointerSet:B,Pointer:M,Tap:ma,
Press:X,Pinch:T,Pan:Y});I.Util=I.Util||{};_.extend(I.Util,{inherit:e,prefixStyleName:g,applyIfExists:function(a,b){return function(){if(!_.isUndefined(a)&&_.isFunction(a))return a.apply(b,arguments)}},createSimpleMutators:function(a,b){a.__=[];for(var c=0,d=b.length;c<d;c++){var e=b[c];Object.defineProperty(a,e,{get:function(){return this.__[e]},set:function(a){this.__[e]=a}})}},splitStr:k,splitComma:f,toMetric:l,vectorLength:w,createEvent:m,deepDefaults:u});"undefined"!==typeof module&&module.exports?
module.exports=I:b[c]=I})(window,document,"Sistine");
(function(b,a,c,d){function e(a,b,c){b=c.split(/\s+/g)[0];a=Sistine.Util.prefixStyleName(a,b);return a!==b?"-"+a.match(/[A-Z]?[^A-Z]*/g).slice(0,-1)[0]+"-"+c:c}function g(a,c,d,e){var f=Object.keys(c).includes("transition")&&!_.isUndefined(c.transition);if(!_.isUndefined(d)&&f){var g=function(b){g&&(d.apply(e,b),a.removeEventListener("webkitTransitionEnd",g),a.removeEventListener("transitionend",g),g=null)};a.addEventListener("webkitTransitionEnd",g);a.addEventListener("transitionend",g)}f?(b.getComputedStyle(a,
null).getPropertyValue("-webkit-transform"),setTimeout(function(){var b=!1;_.each(c,function(c,d){k(a,d,c)&&(b=!0)});if(!b&&!_.isUndefined(d)){var f=c.transition.split(/\s+/)[1];setTimeout(function(){d.apply(e)},l(f))}},0)):(_.each(c,function(b,c){k(a,c,b)}),_.isUndefined(d)||d.apply(e))}function k(a,b,c){if(_.isUndefined(c)||0===c.length)return!1;a=a.style;var d=Sistine.Util.prefixStyleName(a,b);"transition"===b&&(c=e(a,b,c));a[d]=c}function f(a){var b=arguments;return function(){for(var c=1,d=b.length;c<
d;c++)b[c].apply(a)}}function l(a){var b=a.match(/^([0-9]+\.?[0-9]*|\.[0-9]+)(ms|s)$/);if(!b||3!==b.length)return 0;a=parseFloat(b[1]);b=b[2];return"s"===b?1E3*a:"ms"===b?a:0}function w(){return[b.innerWidth||a.documentElement.clientWidth||a.body.clientWidth,b.innerHeight||a.documentElement.clientHeight||a.body.clientHeight]}function m(){this._animationId=null;this._runningAnimations={};this._nextAnimationKey=0}function u(a,b){return _.isUndefined(a)||_.isUndefined(b)?null:"translate3d("+a+"px, "+
b+"px, 0px)"}function x(a,b){return _.isUndefined(a)||_.isUndefined(b)?null:"scale3d("+a+", "+b+", 1.0)"}function A(a,b,c){return a+" "+b+"s "+c}function D(a){var b=/(translate(3d)?\(([0-9]|.|,|\s|px)+\))/,c=a.match(b);if(c&&0<c.length)return{transform:a.replace(b,"").trim(),translation:c[0]}}function y(a){a=a.style;a[Sistine.Util.prefixStyleName(a,"transition")]=""}function E(a){a=a.style;return a[Sistine.Util.prefixStyleName(a,"transform")]}function M(a){a=a||{};var b=a.pointerIds||[];this.draggable=
a.draggable;this.dragId=Y++;this.dragAction=a.dragAction;this.tossOptions=a.tossOptions;this.userData=a.userData;this.timeoutOptions=a.timeoutOptions;this.lockAxis=a.lockAxis;this._masterPointerId=(this._pointerIds=b)&&0<b.length?b[0]:-1;this._eventNames=a.eventNames;this.payload=2===this.dragAction?_.extend({},a.payload):a.payload;this.reset(a.dropzones)}function Q(b,c){this.options=Sistine.Util.deepDefaults(c||{},this.defaults);this.element=b;c=c||{};var d=a.createElement("div"),e=d.style;e.position=
"absolute";e.left=d.style.top=0;e.zIndex=9999;e.overlow="visible";e.pointerEvents="none";d.dataset.draggable="";d.draggable=!1;k(d,"transformOrigin","center center 0px");e=b.style;e.position="absolute";b.draggable=!1;k(b,"transformOrigin","center center 0px");k(b,"transform","scale3d(1, 1, 1)");c.className&&b.classList.add(c.className);d.appendChild(b);this._wrapper=d;this._originalElementRect={};g(this.element,this.options.cssProps);g(this._wrapper,this.options.cssProps)}function B(b){this.options=
_.defaults(b||{},Sistine.Drag.defaults);this._currentDragId=0;this._masterPointerIds=[];this._dragData={};this._floatingDragData=[];var c=this;this._boundHandlePointerMove=function(a){c._handlePointerMove.call(c,a)};this._boundHandlePointerUp=function(a){c._handlePointerUp.call(c,a)};this._boundHandlePointerDown=function(a){c._handlePointerDown.call(c,a)};a.addEventListener("pointermove",this._boundHandlePointerMove,!0);a.addEventListener("pointerup",this._boundHandlePointerUp,!0);a.addEventListener("pointercancel",
this._boundHandlePointerUp,!0);a.addEventListener("pointerdown",this._boundHandlePointerDown,!0);a.addEventListener("DOMContentLoaded",_.bind(function(){var b=a.getElementsByTagName("body")[0];g(b,this.options.cssProps)},this))}function C(b,c,d){var e=a.createEvent("Event"),f={};e.initEvent(b,f.bubbles?f.bubbles:!0,f.cancelable?f.cancelable:!0);b=_.extend(e,{data:d||{}});if(_.isArray(c))for(d=0,e=c.length;d<e;d++)c[d].dispatchEvent(b);else c&&c.dispatchEvent(b)}function K(){_(a.querySelectorAll("[data-draggable]")).each(function(a){a.style.pointerEvents=
"auto"})}function ma(){_(a.querySelectorAll("[data-draggable]")).each(function(a){a.style.pointerEvents="none"})}function X(a){for(var b=[];a;)null!==a.getAttribute("data-dropzone")&&b.push(a),a=a.parentElement;return b}function T(a){var b=a.pointers;if(_.isArray(b)){var c=b;a=a.initialPosition||[0,0]}else _.isUndefined(b)?(c=[],a=a.initialPosition||[0,0]):(c=[b.pointerId],a=[b.pageX,b.pageY]);return{pointerIds:c,position:a}}m.prototype={move:function(a,b,c,d,e,f,g){this.transform(a,u(b,c),d,e,f,
g)},scale:function(a,b,c,d,e,f,g){this.transform(a,x(b,c),d,e,f,g)},toss:function(a,b,c,d,e,f,g,k,m,l){if(!k){k=w();var u=a.getBoundingClientRect();k={top:.5*u.height,left:.5*u.width,width:k[0]-u.width,height:k[1]-u.height}}g/=60;var y=[Math.min(g,Math.max(-g,b[0]*d/60)),Math.min(g,Math.max(-g,b[1]*d/60))],B=1-c,A=k.left,x=k.top,E=k.left+k.width,M=k.top+k.height;this._schedule(a,function(a){var b=a.getBoundingClientRect();b=[b.left+.5*b.width,b.top+.5*b.height];b[0]=Math.min(Math.max(A,b[0]+y[0]),
E);b[1]=Math.min(Math.max(x,b[1]+y[1]),M);this.move(a,b[0],b[1]);b[0]<=A?y[0]*=-f.left:b[0]>=E&&(y[0]*=-f.right);b[1]<=x?y[1]*=-f.top:b[1]>=M&&(y[1]*=-f.bottom);y[0]*=B;y[1]*=B;if(Math.abs(y[0])>e||Math.abs(y[1])>e)return!0;Sistine.Util.applyIfExists(m,l)();return!1})},transform:function(a,c,d,e,f,g){if(!_.isUndefined(a)&&!_.isUndefined(c)&&c&&0!==c.length)if(d=d||0,e=e||"linear",0===d)k(a,"transform",c),Sistine.Util.applyIfExists(f,g)();else{var m=function(){m&&(a.removeEventListener("webkitTransitionEnd",
m),a.removeEventListener("transitionend",m),m=null,y(a),Sistine.Util.applyIfExists(f,g)())};a.addEventListener("webkitTransitionEnd",m);a.addEventListener("transitionend",m);b.getComputedStyle(a,null).getPropertyValue("-webkit-transform");setTimeout(function(){var b=E(a);k(a,"transition",A("transform",d,e));k(a,"transform",c);b===E(a)&&setTimeout(function(){y(a);Sistine.Util.applyIfExists(f,g)()},d)},0)}},cancel:function(a){if(a=a.getAttribute("data-animationkey"))delete this._runningAnimations[a],
_.isEmpty(this._runningAnimations)&&null!==this._animationId&&(cancelAnimationFrame(this._animationId),this._animationId=null)},_schedule:function(a,b){this.cancel(a);var c=this._nextAnimationKey++;a.dataset.animationkey=c;this._runningAnimations[c]={element:a,step:b};null===this._animationId&&this._runLoop()},_loop:function(a){a=_.keys(this._runningAnimations);for(var b=0,c=a.length;b<c;b++){var d=a[b],e=this._runningAnimations[d].element;this._runningAnimations[d].step.call(this,e)||this.cancel(e)}null!==
this._animationId&&this._runLoop()},_runLoop:function(){var a=this;this._animationId=requestAnimationFrame(function(b){a._loop.call(a,b)})}};Sistine.Animator=new m;var Y=0;Sistine.Util.createSimpleMutators(M.prototype,"draggable dragId payload timeoutOptions dropzones overElement userData dragAction lockAxis tossOptions".split(" "));M.prototype={dropIsAllowed:function(){return 0!==this.dropAction&&(this.dragAction&this.dropAction)===this.dragAction},tossIsAllowed:function(a){var b=this.tossOptions;
return 0<b.tossAction&&(Math.abs(a[0])>=b.threshold||Math.abs(a[1])>=b.threshold)},tossBoundingBox:function(){var a=this.draggable.element.getBoundingClientRect(),b=w();return 3===this.tossOptions.tossAction||2===this.tossOptions.tossAction?{top:.5*-a.height,left:.5*a.width,width:b[0]-a.width,height:b[1]+a.height}:1===this.tossOptions.tossAction?{top:.5*a.height,left:.5*a.width,width:b[0]-a.width,height:b[1]-a.height}:{top:0,left:0,width:0,height:0}},reset:function(a,b){this.setDropOptions(0,{});
this.dropzones=a?a:[];this.overElement=b?b:null},setDropOptions:function(a,b){this.dropAction=a;b&&this.draggable&&this.draggable.setDropAnimation(b)},setCancelOptions:function(a){a&&this.draggable.setCancelAnimation(a)},startTimeout:function(a){this.stopTimeout();if(!(0>=a)){var b=this;this._timeoutId=setTimeout(function(){b.draggable.position();w();b.draggable.stopToss();b.stopTimeout();b.draggable.fall(b.timeoutOptions.duration,b.timeoutOptions.ease,b._handleTimeoutExpired,b)},a||this.timeoutOptions.timeout||
0)}},stopTimeout:function(){this._timeoutId&&(clearTimeout(this._timeoutId),delete this._timeoutId)},_handleTimeoutExpired:function(){C(this._eventNames.dragTimeout,this.draggable.element,this.payload);this.draggable.remove()}};Q.prototype={defaults:{className:"draggable",cssProps:{cursor:"default"},show:{className:"showing",transform:x(1.5,1.5),duration:.2,easing:"ease-out"},drop:{className:"dropping",transform:x(1,1),duration:.2,easing:"ease-out"},cancel:{className:"canceling",transform:x(0,0),
duration:.2,easing:"ease-out"},translationOrigin:[.5,.5]},toss:function(a,b,c,d,e,f,g,k,m){Sistine.Animator.toss(this._wrapper,a,b,c,d,e,f,g,k,m);return this},stopToss:function(){Sistine.Animator.cancel(this._wrapper)},fall:function(a,b,c,d){var e=this.position(),f=w(),g=this.element.getBoundingClientRect();Sistine.Animator.move(this._wrapper,e[0],f[1]+.5*g.height,a,b,c,d)},move:function(a,b,c,d,e,f){var g=this._translationOffset;Sistine.Animator.move(this._wrapper,a+g[0],b+g[1],c,d,e,f);return this},
append:function(a){if(this._wrapper.parentElement!==a){this.remove();a.appendChild(this._wrapper);a=this.element;var b=a.style;this._originalElementRect=a.getBoundingClientRect();this._updateTranslationOffset();b.left=.5*-a.clientWidth+"px";b.top=.5*-a.clientHeight+"px"}return this},remove:function(){var a=this._wrapper.parentElement;a&&a.removeChild(this._wrapper);return this},setShowAnimation:function(a){this._setAnimation(this.options.show,a);return this},setDropAnimation:function(a){this._setAnimation(this.options.drop,
a);return this},setCancelAnimation:function(a){this._setAnimation(this.options.cancel,a);return this},position:function(){var a=this._wrapper.getBoundingClientRect(),b=this._translationOffset;return[a.left+.5*a.width-b[0],a.top+.5*a.height-b[1]]},show:function(a,b){this._animate(this.options.show,a,b);return this},drop:function(a,b){this._animate(this.options.drop,a,b);return this},cancel:function(a,b){this._animate(this.options.cancel,a,b);return this},transformToMatch:function(a){var b=[a.left+
.5*a.width,a.top+.5*a.height];return x(0<this._originalElementRect.width?a.width/this._originalElementRect.width:0,0<this._originalElementRect.height?a.height/this._originalElementRect.height:0)+" "+u(b[0],b[1])},_setAnimation:function(a,b){a&&b&&(a.__customAnimationOptions=b)},_animate:function(a,b,c){var d=_.defaults(a.__customAnimationOptions||{},a),e=d.className||"",g=D(d.transform),k=g?g.translation:null;g=g?g.transform:d.transform;b=f(this,function(a){this._updateTranslationOffset();this.element.classList.remove(e)},
Sistine.Util.applyIfExists(d.callback,d.thisVal),Sistine.Util.applyIfExists(b,c));this.element.classList.add(e);Sistine.Animator.transform(this._wrapper,k,d.duration,d.easing);Sistine.Animator.transform(this.element,g,d.duration,d.easing,b,this);delete a.__customAnimationOptions},_updateTranslationOffset:function(){var a=this.options.translationOrigin,b=this.element.getBoundingClientRect();this._translationOffset=[.5*b.width-b.width*a[0],.5*b.height-b.height*a[1]]}};B.prototype={beginDrag:function(b){if(_.isUndefined(b)||
_.isUndefined(b.proxy)||_.isUndefined(b.payload))return null;b=Sistine.Util.deepDefaults(b||{},this._dragDefaults);var c=T(b),d=c.pointerIds,e=c.position;if(this.hasDragForPointers(d))return null;c=X(a.elementFromPoint(e[0],e[1]));a.elementFromPoint(e[0],e[1]);var f=a.getElementsByTagName("body")[0];e=(new Q(b.proxy,b.draggableOptions)).setShowAnimation(b.animationOptions).append(f).move(e[0],e[1]);var g=new M({draggable:e,payload:b.payload,pointerIds:d,dropzones:c,timeoutOptions:b.timeoutOptions,
dragAction:b.dragAction,eventNames:this.options.eventNames,tossOptions:b.tossOptions,lockAxis:b.lockAxis,userData:b.userData});Sistine.cancelPointers(d);e.show(function(){_.isUndefined(g._pointerIds)||0===g._pointerIds.length?this._floatDrag(g):this._trackDrag(g)},this);return g},terminateDrag:function(a){var b=a.draggable,c=b.element,d=a._pointerIds,e=_.indexOf(this._masterPointerIds,a._masterPointerId);if(0<=e){this._masterPointerIds.splice(e,1);for(var f=0,g=d.length;f<g;f++)e=d[f],delete this._dragData[e];
a.stopTimeout();c.removeEventListener("pointerdown",this._boundHandlePointerDown);C(this.options.eventNames.dragEnd,c,a);b.remove()}},registerDropzone:function(a){a.dataset.dropzone=""},deregisterDropzone:function(a){delete a.dataset.dropzone},hasDragForPointers:function(a){for(var b=0,c=a.length;b<c;b++)if(this.hasDragForPointer(a[b]))return!0;return!1},hasDragForPointer:function(a){return!_.isUndefined(this._dragData[a])},getDragForPointer:function(a){return this._dragData[a]},getDragFromPoint:function(b,
c){K();b=a.elementFromPoint(b,c);for(ma();b&&b.parentElement;){if(null!==b.parentElement.getAttribute("data-draggable")){var d,e;c=0;for(d=this._masterPointerIds.length;c<d;c++)if((e=this._dragData[this._masterPointerIds[c]])&&e.draggable.element===b)return e;c=0;for(d=this._floatingDragData.length;c<d;c++)if(e=this._floatingDragData[c],e.draggable.element===b)return e}b=b.parentElement}},_handlePointerMove:function(a){var b=a.pointerId;if(-1<_.indexOf(this._masterPointerIds,b)){b=this.getDragForPointer(b);
var c=b.draggable,d=c.position();1===b.lockAxis?c.move(d[0],a.pageY):2===b.lockAxis?c.move(a.pageX,d[1]):c.move(a.pageX,a.pageY);var e=b.dropzones;d=X(a.target);var f=_.difference(e,d),g=_.difference(d,e);e=_.intersection(e,d);b.overElement=a.target;C(this.options.eventNames.dragLeave,f,b);b.reset(d,a.target);C(this.options.eventNames.dragEnter,g,b);C(this.options.eventNames.dragOver,e,b);C(this.options.eventNames.dragMove,c.element,b);a.stopPropagation()}},_handlePointerUp:function(a){a=a.pointerId;
var b=this.getDragForPointer(a);if(b){var c=b._pointerIds,d=_.indexOf(this._masterPointerIds,a);-1<d&&(this._masterPointerIds.splice(d,1),delete b._masterPointerId);c.splice(_.indexOf(c,a),1);delete this._dragData[a];0<c.length?(this._masterPointerIds.push(c[0]),b._masterPointerId=c[0]):this._stopTrackingDrag(b,a)}},_handlePointerDown:function(a){var b=a.pointerId,c=this.getDragFromPoint(a.pageX,a.pageY);if(c&&!this.getDragForPointer(b)){var d=_.indexOf(this._floatingDragData,c);-1<d&&(this._floatingDragData.splice(d,
1),this._masterPointerIds.push(b),c._masterPointerId=b,c.stopTimeout());c._pointerIds.push(b);this._dragData[b]=c;c.draggable.stopToss();a.stopPropagation()}},_floatDrag:function(a){this._floatingDragData.push(a);a.startTimeout()},_trackDrag:function(a){var b=a.dropzones,c=this.options.eventNames,d=a._pointerIds;this._masterPointerIds.push(a._masterPointerId);for(var e=0,f=d.length;e<f;e++)this._dragData[d[e]]=a;C(c.dragStart,a.draggable.element,a);C(this.options.eventNames.dragEnter,b,a)},_stopTrackingDrag:function(a,
b){b=(b=Sistine.pointerSet.get(b))?b.lastVelocity():[0,0];a.tossIsAllowed(b)?this._performToss(b,a):this._performDrop(a)},_performToss:function(a,b){var c=b.tossOptions,d=b.draggable,e=b.tossBoundingBox(),f=this.options.eventNames,g=d.element;C(f.dragLeave,b.dropzones,b);C(f.dragEnd,g,b);b.reset();Math.abs(a[0])>=Math.abs(a[1])?a[1]=0:a[0]=0;d.toss(a,c.friction,c.multiplier,c.stopSpeed,c.elasticity,c.maxSpeed,e,function(){var a=d.position(),e=w();a[1]>e[1]||0>a[1]?(C(f.dragTossAway,g,b),c.autoRemove&&
d.remove()):(C(f.dragTossWithin,g,b),b.startTimeout())},this);this._floatingDragData.push(b);delete b._masterPointerId;b._pointerIds.length=0},_performDrop:function(a){var b=a.draggable,c=this.options.eventNames,d=b.element;a.stopTimeout();d.removeEventListener("pointerdown",this._boundHandlePointerDown);C(c.dragEnd,d,a);a.dropIsAllowed()?(C(c.drop,a.dropzones,a),b.drop(function(){b.remove()},this)):(C(c.dragCancel,a.dropzones,a),b.cancel(function(){b.remove()},this))},_dragDefaults:{initialPosition:[0,
0],dragAction:2,timeoutOptions:{timeout:6E4,ease:"ease-in",duration:.5},tossOptions:{tossAction:3,friction:.03,multiplier:2,threshold:500,stopSpeed:.5,autoRemove:!0,elasticity:{left:.2,right:.2,top:0,bottom:0},maxSpeed:1E4},lockAxis:3}};Sistine.Drag=Sistine.Drag||{};Sistine.Util=Sistine.Util||{};Sistine.Animation=Sistine.Animation||{};Sistine.Drag.defaults={cssProps:{userSelect:"none",touchSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},
eventNames:{dragStart:"sistine-dragstart",dragEnter:"sistine-dragenter",dragLeave:"sistine-dragleave",dragEnd:"sistine-dragend",dragOver:"sistine-dragover",dragMove:"sistine-dragmove",drop:"sistine-drop",dragCancel:"sistine-dragcancel",dragTimeout:"sistine-dragtimeout",dragTossAway:"sistine-tossaway",dragTossWithin:"sistine-tosswithin"}};Sistine.DragManager=new B;_.extend(Sistine.Drag,{Draggable:Q,Manager:B,DragData:M,DRAG_NONE:0,DRAG_MOVE:1,DRAG_COPY:2,DRAG_ALL:3,AXIS_X:2,AXIS_Y:1,AXIS_ANY:3,TOSS_NONE:0,
TOSS_WITHIN:1,TOSS_AWAY:2,TOSS_ALL:3});_.extend(Sistine.Util,{applyPrefixedCssProps:g,applyPrefixedCss:k,getWindowDimensions:w,parseDuration:l,prefixStyleValue:e,sequentiallyApply:f});_.extend(Sistine.Animation,{Animator:m,makeTranslation:u,makeScale:x,makeTransition:A,makeTransformOrigin:function(a,b){return 100*a+"% "+100*b+"% 0"},extractTranslation:D,extractScale:function(a){var b=/(scale(3d)?\(([0-9]|.|,|\s|px)+\))/,c=a.match(b);if(c&&0<c.length)return{transform:a.replace(b,"").trim(),translation:c[0]}},
LINEAR:"linear",EASE:"ease",EASE_OUT:"ease-out",EASE_IN:"ease-in",EASE_IN_OUT:"ease-in-out"});"undefined"!==typeof module&&module.exports?module.exports=Sistine:b[c]=Sistine})(window,document,"Sistine");
(function(b,a,c,d,e){var g=["sistineOptions"],k=c.View,f=k.prototype.delegateEvents,l=k.prototype.undelegateEvents,w=k.prototype.remove;c.View=k.extend({constructor:function(a){a=a||{};_.extend(this,_.pick(a,g));return k.apply(this,arguments)},delegateEvents:function(){f.apply(this,arguments);this.delegateSistineEvents();return this},undelegateEvents:function(){this.undelegateSistineEvents();return l.apply(this,arguments)},remove:function(){this._sistine&&(this._sistine.destroy(),this.undelegateSistineEvents(),
this._sistine=null);return w.apply(this,arguments)},delegateSistineEvents:function(a){var b=_.result(this,"sistineOptions")||{};this._sistine||(this._sistine=new d(this.el,b));a=a||_.result(b,"events");if(!a)return this;this._sistineEventMap={};for(var c in a)b=a[c],_.isFunction(b)||(b=this[a[c]]),b&&(b=_.bind(b,this),this._sistineEventMap[c]=b,this._sistine.on(c,b));return this},undelegateSistineEvents:function(){if(this._sistine&&this._sistineEventMap){for(var a in this._sistineEventMap)this._sistine.off(a,
this._sistineEventMap[a]);this._sistineEventMap=null}}})})(window,document,Backbone,Sistine);
(function(b){b.Granite=b.Granite||{};b.Granite.HTTP=b.Granite.HTTP||{};var a=null;b.Granite.HTTP.externalize=b.Granite.HTTP.externalize||function(c){if(null===a)a:{var d=/^(?:http|https):\/\/[^/]+(\/.*)\/(?:etc\.clientlibs|etc(\/.*)*\/clientlibs|libs(\/.*)*\/clientlibs|apps(\/.*)*\/clientlibs|etc\/designs).*\.js(\?.*)?$/;try{if(b.CQURLInfo)a=CQURLInfo.contextPath||"";else{for(var e=document.getElementsByTagName("script"),g=0;g<e.length;g++){var k=d.exec(e[g].src);if(k){a=k[1];break a}}a=""}}catch(f){}}try{0===
c.indexOf("/")&&a&&0!==c.indexOf(a+"/")&&(c=a+c)}catch(f){}return c}})(this);
(function(b){window.Granite.csrf||(window.Granite.csrf=b(window.Granite.HTTP))})(function(b){function a(){this._handler=[]}function c(a){var b="//"+document.location.host,c=document.location.protocol+b;return a===c||a.slice(0,c.length+1)===c+"/"||a===b||a.slice(0,b.length+1)===b+"/"||!/^(\/\/|http:|https:).*/.test(a)}function d(a){window.console&&console.warn("CSRF data not available;The data may be unavailable by design, such as during non-authenticated requests: "+a)}function e(){var b=new a;w=
b;var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState)try{m=JSON.parse(c.responseText).token,b.resolve(m)}catch(M){d(M),b.reject(c.responseText)}};c.open("GET",l,!0);c.send();return b}function g(){var a=new XMLHttpRequest;a.open("GET",l,!1);a.send();try{return m=JSON.parse(a.responseText).token}catch(E){d(E)}}function k(a){var b=a.getAttribute("action");"GET"===a.method.toUpperCase()||b&&!c(b)||(m||g(),m&&(b=a.querySelector('input[name\x3d":cq_csrf_token"]'),b||(b=document.createElement("input"),
b.setAttribute("type","hidden"),b.setAttribute("name",":cq_csrf_token"),a.appendChild(b)),b.setAttribute("value",m)))}function f(a){var b=function(a){a=a.target;"FORM"===a.nodeName&&k(a)};a.addEventListener?a.addEventListener("submit",b,!0):a.attachEvent&&a.attachEvent("submit",b)}a.prototype={then:function(a,b){this._handler.push({resolve:a,reject:b})},resolve:function(){this._execute("resolve",arguments)},reject:function(){this._execute("reject",arguments)},_execute:function(a,b){if(null===this._handler)throw Error("Promise already completed.");
for(var c=0,d=this._handler.length;c<d;c++)this._handler[c][a].apply(window,b);this.then=function(c,d){("resolve"===a?c:d).apply(window,b)};this._handler=null}};var l=b.externalize("/libs/granite/csrf/token.json"),w,m;f(document);var u=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(a,b,d){"get"!==a.toLowerCase()&&c(b)&&(this._csrf=!0,this._async=d);return u.apply(this,arguments)};var x=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){if(this._csrf)if(m)this.setRequestHeader("CSRF-Token",
m),x.apply(this,arguments);else if(!1===this._async)g(),m&&this.setRequestHeader("CSRF-Token",m),x.apply(this,arguments);else{var a=this,b=Array.prototype.slice.call(arguments);w.then(function(c){a.setRequestHeader("CSRF-Token",c);x.apply(a,b)},function(){x.apply(a,b)})}else x.apply(this,arguments)};var A=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){k(this);return A.apply(this,arguments)};if(window.Node){var D=Node.prototype.appendChild;Node.prototype.appendChild=function(){var a=
D.apply(this,arguments);if("IFRAME"===a.nodeName)try{a.contentWindow&&!a._csrf&&(a._csrf=!0,f(a.contentWindow.document))}catch(E){a.src&&a.src.length&&c(a.src)&&window.console&&console.error("Unable to attach CSRF token to an iframe element on the same origin")}return a}}e();setInterval(function(){e()},3E5);return{initialised:!1,refreshToken:e,_clearToken:function(){m=void 0;e()}}});
(function(b,a){"function"===typeof define&&define.amd?define("jquery.transit",["jquery"],a):"object"===typeof exports?module.exports=a(require("jquery")):a(b.jQuery)})(this,function(b){function a(a){if(a in m.style)return a;var b=["Moz","Webkit","O","ms"];a=a.charAt(0).toUpperCase()+a.substr(1);for(var c=0;c<b.length;++c){var d=b[c]+a;if(d in m.style)return d}}function c(a){"string"===typeof a&&this.parse(a);return this}function d(a,b,c){!0===b?a.queue(c):b?a.queue(b,c):a.each(function(){c.call(this)})}
function e(a){var c=[];b.each(a,function(a){a=b.camelCase(a);a=b.transit.propertyMap[a]||b.cssProps[a]||a;a=f(a);u[a]&&(a=f(u[a]));-1===b.inArray(a,c)&&c.push(a)});return c}function g(a,c,d,f){a=e(a);b.cssEase[d]&&(d=b.cssEase[d]);var g=""+w(c)+" "+d;0<parseInt(f,10)&&(g+=" "+w(f));var k=[];b.each(a,function(a,b){k.push(b+" "+g)});return k.join(", ")}function k(a,c){c||(b.cssNumber[a]=!0);b.transit.propertyMap[a]=u.transform;b.cssHooks[a]={get:function(c){return b(c).css("transit:transform").get(a)},
set:function(c,d){var e=b(c).css("transit:transform");e.setFromString(a,d);b(c).css({"transit:transform":e})}}}function f(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function l(a,b){return"string"!==typeof a||a.match(/^[\-0-9\.]+$/)?""+a+b:a}function w(a){"string"!==typeof a||a.match(/^[\-0-9\.]+/)||(a=b.fx.speeds[a]||b.fx.speeds._default);return l(a,"ms")}b.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",
paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var m=document.createElement("div"),u={},x=-1<navigator.userAgent.toLowerCase().indexOf("chrome");u.transition=a("transition");u.transitionDelay=a("transitionDelay");u.transform=a("transform");u.transformOrigin=a("transformOrigin");u.filter=a("Filter");m.style[u.transform]="";m.style[u.transform]="rotateY(90deg)";u.transform3d=""!==m.style[u.transform];var A=u.transitionEnd={transition:"transitionend",
MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"}[u.transition]||null,D;for(D in u)u.hasOwnProperty(D)&&"undefined"===typeof b.support[D]&&(b.support[D]=u[D]);m=null;b.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",
easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",
easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};b.cssHooks["transit:transform"]={get:function(a){return b(a).data("transform")||new c},set:function(a,d){d instanceof c||(d=new c(d));a.style[u.transform]=
"WebkitTransform"!==u.transform||x?d.toString():d.toString(!0);b(a).data("transform",d)}};b.cssHooks.transform={set:b.cssHooks["transit:transform"].set};b.cssHooks.filter={get:function(a){return a.style[u.filter]},set:function(a,b){a.style[u.filter]=b}};"1.8">b.fn.jquery&&(b.cssHooks.transformOrigin={get:function(a){return a.style[u.transformOrigin]},set:function(a,b){a.style[u.transformOrigin]=b}},b.cssHooks.transition={get:function(a){return a.style[u.transition]},set:function(a,b){a.style[u.transition]=
b}});k("scale");k("scaleX");k("scaleY");k("translate");k("rotate");k("rotateX");k("rotateY");k("rotate3d");k("perspective");k("skewX");k("skewY");k("x",!0);k("y",!0);c.prototype={setFromString:function(a,b){b="string"===typeof b?b.split(","):b.constructor===Array?b:[b];b.unshift(a);c.prototype.set.apply(this,b)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):
this[a]||0},setter:{rotate:function(a){this.rotate=l(a,"deg")},rotateX:function(a){this.rotateX=l(a,"deg")},rotateY:function(a){this.rotateY=l(a,"deg")},scale:function(a,b){void 0===b&&(b=a);this.scale=a+","+b},skewX:function(a){this.skewX=l(a,"deg")},skewY:function(a){this.skewY=l(a,"deg")},perspective:function(a){this.perspective=l(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=
0);void 0===this._translateY&&(this._translateY=0);null!==a&&void 0!==a&&(this._translateX=l(a,"px"));null!==b&&void 0!==b&&(this._translateY=l(b,"px"));this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");a[0]&&(a[0]=parseFloat(a[0]));a[1]&&(a[1]=parseFloat(a[1]));return a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),
b=0;3>=b;++b)a[b]&&(a[b]=parseFloat(a[b]));a[3]&&(a[3]=l(a[3],"deg"));return a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,d){b.setFromString(c,d)})},toString:function(a){var b=[],c;for(c in this)this.hasOwnProperty(c)&&(u.transform3d||"rotateX"!==c&&"rotateY"!==c&&"perspective"!==c&&"transformOrigin"!==c)&&"_"!==c[0]&&(a&&"scale"===c?b.push(c+"3d("+this[c]+",1)"):a&&"translate"===c?b.push(c+"3d("+this[c]+",0)"):b.push(c+"("+this[c]+")"));return b.join(" ")}};
b.fn.transition=b.fn.transit=function(a,c,e,f){var k=this,m=0,l=!0,x=b.extend(!0,{},a);"function"===typeof c&&(f=c,c=void 0);"object"===typeof c&&(e=c.easing,m=c.delay||0,l="undefined"===typeof c.queue?!0:c.queue,f=c.complete,c=c.duration);"function"===typeof e&&(f=e,e=void 0);"undefined"!==typeof x.easing&&(e=x.easing,delete x.easing);"undefined"!==typeof x.duration&&(c=x.duration,delete x.duration);"undefined"!==typeof x.complete&&(f=x.complete,delete x.complete);"undefined"!==typeof x.queue&&(l=
x.queue,delete x.queue);"undefined"!==typeof x.delay&&(m=x.delay,delete x.delay);"undefined"===typeof c&&(c=b.fx.speeds._default);"undefined"===typeof e&&(e=b.cssEase._default);c=w(c);var y=g(x,c,e,m),D=b.transit.enabled&&u.transition?parseInt(c,10)+parseInt(m,10):0;if(0===D)return d(k,l,function(a){k.css(x);f&&f.apply(k);a&&a()}),k;var M={},E=function(a){var c=!1,d=function(){c&&k.unbind(A,d);0<D&&k.each(function(){this.style[u.transition]=M[this]||null});"function"===typeof f&&f.apply(k);"function"===
typeof a&&a()};0<D&&A&&b.transit.useTransitionEnd?(c=!0,k.bind(A,d)):window.setTimeout(d,D);k.each(function(){0<D&&(this.style[u.transition]=y);b(this).css(x)})};d(k,l,function(a){this.offsetWidth;E(a)});return this};b.transit.getTransitionValue=g;return b});var requirejs,require,define;
(function(b,a){function c(a,b){return b||""}function d(a){return"[object Function]"===R.call(a)}function e(a){return"[object Array]"===R.call(a)}function g(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function k(a,b){if(a){var c;for(c=a.length-1;-1<c&&(!a[c]||!b(a[c],c,a));--c);}}function f(a,b){return W.call(a,b)}function l(a,b){return f(a,b)&&a[b]}function w(a,b){for(var c in a)if(f(a,c)&&b(a[c],c))break}function m(a,b,c,g){b&&w(b,function(b,k){if(c||!f(a,k))!g||"object"!==
typeof b||!b||e(b)||d(b)||b instanceof RegExp?a[k]=b:(a[k]||(a[k]={}),m(a[k],b,c,g))});return a}function u(a,b){return function(){return b.apply(a,arguments)}}function x(a){throw a;}function A(a){if(!a)return a;var c=b;g(a.split("."),function(a){c=c[a]});return c}function D(a,b,c,d){b=Error(b+"\nhttps://requirejs.org/docs/errors.html#"+a);b.requireType=a;b.requireModules=d;c&&(b.originalError=c);return b}function y(){if(B&&"interactive"===B.readyState)return B;k(document.getElementsByTagName("script"),
function(a){if("interactive"===a.readyState)return B=a});return B}var E,M,Q,B,C,K,ma,X=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,T=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,Y=/\.js$/,F=/^\.\//;var I=Object.prototype;var R=I.toString,W=I.hasOwnProperty,S=!("undefined"===typeof window||"undefined"===typeof navigator||!window.document),ia=!S&&"undefined"!==typeof importScripts,ka=S&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,ca="undefined"!==typeof opera&&"[object Opera]"===
opera.toString(),fa={},O={},da=[],q=!1;if("undefined"===typeof define){if("undefined"!==typeof requirejs){if(d(requirejs))return;O=requirejs;requirejs=void 0}"undefined"===typeof require||d(require)||(O=require,require=void 0);var G=requirejs=function(a,b,c,d){var f="_";if(!e(a)&&"string"!==typeof a){var g=a;e(b)?(a=b,b=c,c=d):a=[]}g&&g.context&&(f=g.context);(d=l(fa,f))||(d=fa[f]=G.s.newContext(f));g&&d.configure(g);return d.require(a,b,c)};G.config=function(a){return G(a)};G.nextTick="undefined"!==
typeof a?function(b){a(b,4)}:function(a){a()};require||(require=G);G.version="2.3.6";G.jsExtRegExp=/^\/|:|\?|\.js$/;G.isBrowser=S;I=G.s={contexts:fa,newContext:function(c){function y(a,b,c){var d;b=b&&b.split("/");var e=oa.map,f=e&&e["*"];if(a){a=a.split("/");var g=a.length-1;oa.nodeIdCompat&&Y.test(a[g])&&(a[g]=a[g].replace(Y,""));"."===a[0].charAt(0)&&b&&(g=b.slice(0,b.length-1),a=g.concat(a));g=a;for(d=0;d<g.length;d++){var h=g[d];"."===h?(g.splice(d,1),--d):".."===h&&0!==d&&(1!==d||".."!==g[2])&&
".."!==g[d-1]&&0<d&&(g.splice(d-1,2),d-=2)}a=a.join("/")}if(c&&e&&(b||f)){g=a.split("/");d=g.length;a:for(;0<d;--d){var k=g.slice(0,d).join("/");if(b)for(h=b.length;0<h;--h)if(c=l(e,b.slice(0,h).join("/")))if(c=l(c,k)){var m=c;var u=d;break a}if(!w&&f&&l(f,k)){var w=l(f,k);var B=d}}!m&&w&&(m=w,u=B);m&&(g.splice(0,u,m),a=g.join("/"))}return(m=l(oa.pkgs,a))?m:a}function r(a){S&&g(document.getElementsByTagName("script"),function(b){if(b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===
N.contextName)return b.parentNode.removeChild(b),!0})}function M(a){var b=l(oa.paths,a);if(b&&e(b)&&1<b.length)return b.shift(),N.require.undef(a),N.makeRequire(null,{skipMap:!0})([a]),!0}function E(a){var b=a?a.indexOf("!"):-1;if(-1<b){var c=a.substring(0,b);a=a.substring(b+1,a.length)}return[c,a]}function C(a,b,c,d){var e=null,f=b?b.name:null,g=a,h=!0,k="";a||(h=!1,a="_@r"+(sb+=1));a=E(a);e=a[0];a=a[1];if(e){e=y(e,f,d);var m=l(Fa,e)}if(a)if(e)k=c?a:m&&m.normalize?m.normalize(a,function(a){return y(a,
f,d)}):-1===a.indexOf("!")?y(a,f,d):a;else{k=y(a,f,d);a=E(k);e=a[0];k=a[1];c=!0;var u=N.nameToUrl(k)}c=!e||m||c?"":"_unnormalized"+(kb+=1);return{prefix:e,name:k,parentMap:b,unnormalized:!!c,url:u,originalName:g,isDefine:h,id:(e?e+"!"+k:k)+c}}function Q(a){var b=a.id,c=l(sa,b);c||(c=sa[b]=new N.Module(a));return c}function K(a,b,c){var d=a.id,e=l(sa,d);if(!f(Fa,d)||e&&!e.defineEmitComplete)if(e=Q(a),e.error&&"error"===b)c(e.error);else e.on(b,c);else"defined"===b&&c(Fa[d])}function I(a,b){var c=a.requireModules,
d=!1;if(b)b(a);else if(g(c,function(b){if(b=l(sa,b))b.error=a,b.events.error&&(d=!0,b.emit("error",a))}),!d)G.onError(a)}function ha(){da.length&&(g(da,function(a){var b=a[0];"string"===typeof b&&(N.defQueueMap[b]=!0);db.push(a)}),da=[])}function ma(a){delete sa[a];delete H[a]}function T(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,g(a.depMaps,function(d,e){d=d.id;var f=l(sa,d);!f||a.depMatched[e]||c[d]||(l(b,d)?(a.defineDep(e,Fa[d]),a.check()):T(f,b,c))}),c[d]=!0)}function J(){var b,
c,d=(b=1E3*oa.waitSeconds)&&N.startTime+b<(new Date).getTime(),e=[],f=[],h=!1,k=!0;if(!W){W=!0;w(H,function(a){var b=a.map,g=b.id;if(a.enabled&&(b.isDefine||f.push(a),!a.error))if(!a.inited&&d)M(g)?h=c=!0:(e.push(g),r(g));else if(!a.inited&&a.fetched&&b.isDefine&&(h=!0,!b.prefix))return k=!1});if(d&&e.length)return b=D("timeout","Load timeout for modules: "+e,null,e),b.contextName=N.contextName,I(b);k&&g(f,function(a){T(a,{},{})});d&&!c||!h||!S&&!ia||fa||(fa=a(function(){fa=0;J()},50));W=!1}}function O(a){f(Fa,
a[0])||Q(C(a[0],null,!0)).init(a[1],a[2])}function X(a){a=a.currentTarget||a.srcElement;var b=N.onScriptLoad;a.detachEvent&&!ca?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1);b=N.onScriptError;a.detachEvent&&!ca||a.removeEventListener("error",b,!1);return{node:a,id:a&&a.getAttribute("data-requiremodule")}}function R(){for(ha();db.length;){var a=db.shift();if(null===a[0])return I(D("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));O(a)}N.defQueueMap={}}var W,
fa,oa={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},sa={},H={},h={},db=[],Fa={},Kb={},ac={},sb=1,kb=1;var Bb={require:function(a){return a.require?a.require:a.require=N.makeRequire(a.map)},exports:function(a){a.usingExports=!0;if(a.map.isDefine)return a.exports?Fa[a.map.id]=a.exports:a.exports=Fa[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return l(oa.config,a.map.id)||{}},exports:a.exports||(a.exports=
{})}}};var cc=function(a){this.events=l(h,a.id)||{};this.map=a;this.shim=l(oa.shim,a.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};cc.prototype={init:function(a,b,c,d){d=d||{};if(!this.inited){this.factory=b;if(c)this.on("error",c);else this.events.error&&(c=u(this,function(a){this.emit("error",a)}));this.depMaps=a&&a.slice(0);this.errback=c;this.inited=!0;this.ignore=d.ignore;d.enabled||this.enabled?this.enable():this.check()}},defineDep:function(a,
b){this.depMatched[a]||(this.depMatched[a]=!0,--this.depCount,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0;N.startTime=(new Date).getTime();var a=this.map;if(this.shim)N.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return a.prefix?this.callPlugin():this.load()}));else return a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;Kb[a]||(Kb[a]=!0,N.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a=
this.map.id;var b=this.depExports;var c=this.exports,e=this.factory;if(!this.inited)f(N.defQueueMap,a)||this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(d(e)){if(this.events.error&&this.map.isDefine||G.onError!==x)try{c=N.execCb(a,e,b,c)}catch(va){var h=va}else c=N.execCb(a,e,b,c);this.map.isDefine&&void 0===c&&((b=this.module)?c=b.exports:this.usingExports&&(c=this.exports));if(h)return h.requireMap=this.map,
h.requireModules=this.map.isDefine?[this.map.id]:null,h.requireType=this.map.isDefine?"define":"require",I(this.error=h)}else c=e;this.exports=c;if(this.map.isDefine&&!this.ignore&&(Fa[a]=c,G.onResourceLoad)){var k=[];g(this.depMaps,function(a){k.push(a.normalizedMap||a)});G.onResourceLoad(N,this.map,k)}ma(a);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var a=this.map,
b=a.id,c=C(a.prefix);this.depMaps.push(c);K(c,"defined",u(this,function(c){var d=l(ac,this.map.id),e=this.map.name,g=this.map.parentMap?this.map.parentMap.name:null,h=N.makeRequire(a.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){c.normalize&&(e=c.normalize(e,function(a){return y(a,g,!0)})||"");var k=C(a.prefix+"!"+e,this.map.parentMap,!0);K(k,"defined",u(this,function(a){this.map.normalizedMap=k;this.init([],function(){return a},null,{enabled:!0,ignore:!0})}));if(c=l(sa,k.id)){this.depMaps.push(k);
if(this.events.error)c.on("error",u(this,function(a){this.emit("error",a)}));c.enable()}}else if(d)this.map.url=N.nameToUrl(d),this.load();else{var m=u(this,function(a){this.init([],function(){return a},null,{enabled:!0})});m.error=u(this,function(a){this.inited=!0;this.error=a;a.requireModules=[b];w(sa,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&ma(a.map.id)});I(a)});m.fromText=u(this,function(c,d){var e=a.name,g=C(e),k=q;d&&(c=d);k&&(q=!1);Q(g);f(oa.config,b)&&(oa.config[e]=oa.config[b]);
try{G.exec(c)}catch(aa){return I(D("fromtexteval","fromText eval for "+b+" failed: "+aa,aa,[b]))}k&&(q=!0);this.depMaps.push(g);N.completeLoad(e);h([e],m)});c.load(a.name,h,m,oa)}}));N.enable(c,this);this.pluginMaps[c.id]=c},enable:function(){H[this.map.id]=this;this.enabling=this.enabled=!0;g(this.depMaps,u(this,function(a,b){var c;if("string"===typeof a){a=C(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap);this.depMaps[b]=a;if(c=l(Bb,a.id)){this.depExports[b]=c(this);return}this.depCount+=
1;K(a,"defined",u(this,function(a){this.undefed||(this.defineDep(b,a),this.check())}));this.errback?K(a,"error",u(this,this.errback)):this.events.error&&K(a,"error",u(this,function(a){this.emit("error",a)}))}c=a.id;var d=sa[c];f(Bb,c)||!d||d.enabled||N.enable(a,this)}));w(this.pluginMaps,u(this,function(a){var b=l(sa,a.id);b&&!b.enabled&&N.enable(a,this)}));this.enabling=!1;this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]);c.push(b)},emit:function(a,b){g(this.events[a],
function(a){a(b)});"error"===a&&delete this.events[a]}};var N={config:oa,contextName:c,registry:sa,defined:Fa,urlFetched:Kb,defQueue:db,defQueueMap:{},Module:cc,makeModuleMap:C,nextTick:G.nextTick,onError:I,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");if("string"===typeof a.urlArgs){var b=a.urlArgs;a.urlArgs=function(a,c){return(-1===c.indexOf("?")?"?":"\x26")+b}}var c=oa.shim,d={paths:!0,bundles:!0,config:!0,map:!0};w(a,function(a,b){d[b]?(oa[b]||
(oa[b]={}),m(oa[b],a,!0,!0)):oa[b]=a});a.bundles&&w(a.bundles,function(a,b){g(a,function(a){a!==b&&(ac[a]=b)})});a.shim&&(w(a.shim,function(a,b){e(a)&&(a={deps:a});!a.exports&&!a.init||a.exportsFn||(a.exportsFn=N.makeShimExports(a));c[b]=a}),oa.shim=c);a.packages&&g(a.packages,function(a){a="string"===typeof a?{name:a}:a;var b=a.name;a.location&&(oa.paths[b]=a.location);oa.pkgs[b]=a.name+"/"+(a.main||"main").replace(F,"").replace(Y,"")});w(sa,function(a,b){a.inited||a.map.unnormalized||(a.map=C(b,
null,!0))});(a.deps||a.callback)&&N.require(a.deps||[],a.callback)},makeShimExports:function(a){return function(){var c;a.init&&(c=a.init.apply(b,arguments));return c||a.exports&&A(a.exports)}},makeRequire:function(a,b){function e(g,h,k){var m;b.enableBuildCallback&&h&&d(h)&&(h.__requireJsBuild=!0);if("string"===typeof g){if(d(h))return I(D("requireargs","Invalid require call"),k);if(a&&f(Bb,g))return Bb[g](sa[a.id]);if(G.get)return G.get(N,g,a,e);var l=C(g,a,!1,!0);l=l.id;return f(Fa,l)?Fa[l]:I(D("notloaded",
'Module name "'+l+'" has not been loaded yet for context: '+c+(a?"":". Use require([])")))}R();N.nextTick(function(){R();m=Q(C(null,a));m.skipMap=b.skipMap;m.init(g,h,k,{enabled:!0});J()});return e}b=b||{};m(e,{isBrowser:S,toUrl:function(b){var c=b.lastIndexOf("."),d=b.split("/")[0];if(-1!==c&&("."!==d&&".."!==d||1<c)){var e=b.substring(c,b.length);b=b.substring(0,c)}return N.nameToUrl(y(b,a&&a.id,!0),e,!0)},defined:function(b){return f(Fa,C(b,a,!1,!0).id)},specified:function(b){b=C(b,a,!1,!0).id;
return f(Fa,b)||f(sa,b)}});a||(e.undef=function(b){ha();var c=C(b,a,!0),d=l(sa,b);d.undefed=!0;r(b);delete Fa[b];delete Kb[c.url];delete h[b];k(db,function(a,c){a[0]===b&&db.splice(c,1)});delete N.defQueueMap[b];d&&(d.events.defined&&(h[b]=d.events),ma(b))});return e},enable:function(a){l(sa,a.id)&&Q(a).enable()},completeLoad:function(a){var b=l(oa.shim,a)||{},c=b.exports;for(ha();db.length;){var d=db.shift();if(null===d[0]){d[0]=a;if(e)break;var e=!0}else d[0]===a&&(e=!0);O(d)}N.defQueueMap={};d=
l(sa,a);if(!e&&!f(Fa,a)&&d&&!d.inited)if(!oa.enforceDefine||c&&A(c))O([a,b.deps||[],b.exportsFn]);else return M(a)?void 0:I(D("nodefine","No define call for "+a,null,[a]));J()},nameToUrl:function(a,b,c){var d,f;(d=l(oa.pkgs,a))&&(a=d);if(d=l(ac,a))return N.nameToUrl(d,b,c);if(G.jsExtRegExp.test(a))d=a+(b||"");else{d=oa.paths;var g=a.split("/");for(f=g.length;0<f;--f){var h=g.slice(0,f).join("/");if(h=l(d,h)){e(h)&&(h=h[0]);g.splice(0,f,h);break}}d=g.join("/");d+=b||(/^data:|^blob:|\?/.test(d)||c?
"":".js");d=("/"===d.charAt(0)||d.match(/^[\w\+\.\-]+:/)?"":oa.baseUrl)+d}return oa.urlArgs&&!/^blob:/.test(d)?d+oa.urlArgs(a,d):d},load:function(a,b){G.load(N,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||ka.test((a.currentTarget||a.srcElement).readyState))B=null,a=X(a),N.completeLoad(a.id)},onScriptError:function(a){var b=X(a);if(!M(b.id)){var c=[];w(sa,function(a,d){0!==d.indexOf("_@r")&&g(a.depMaps,function(a){if(a.id===b.id)return c.push(d),
!0})});return I(D("scripterror",'Script error for "'+b.id+(c.length?'", needed by: '+c.join(", "):'"'),a,[b.id]))}}};N.require=N.makeRequire();return N}};G({});g(["toUrl","undef","defined","specified"],function(a){G[a]=function(){var b=fa._;return b.require[a].apply(b,arguments)}});if(S){var r=I.head=document.getElementsByTagName("head")[0];if(E=document.getElementsByTagName("base")[0])r=I.head=E.parentNode}G.onError=x;G.createNode=function(a,b,c){b=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml",
"html:script"):document.createElement("script");b.type=a.scriptType||"text/javascript";b.charset="utf-8";b.async=!0;return b};G.load=function(b,c,d){var e=b&&b.config||{};if(S){var f=G.createNode(e,c,d);f.setAttribute("data-requirecontext",b.contextName);f.setAttribute("data-requiremodule",c);!f.attachEvent||f.attachEvent.toString&&0>f.attachEvent.toString().indexOf("[native code")||ca?(f.addEventListener("load",b.onScriptLoad,!1),f.addEventListener("error",b.onScriptError,!1)):(q=!0,f.attachEvent("onreadystatechange",
b.onScriptLoad));f.src=d;if(e.onNodeCreated)e.onNodeCreated(f,e,c,d);C=f;E?r.insertBefore(f,E):r.appendChild(f);C=null;return f}if(ia)try{a(function(){},0),importScripts(d),b.completeLoad(c)}catch(yb){b.onError(D("importscripts","importScripts failed for "+c+" at "+d,yb,[c]))}};S&&!O.skipDataMain&&k(document.getElementsByTagName("script"),function(a){r||(r=a.parentNode);if(M=a.getAttribute("data-main"))return K=M,O.baseUrl||-1!==K.indexOf("!")||(Q=K.split("/"),K=Q.pop(),ma=Q.length?Q.join("/")+"/":
"./",O.baseUrl=ma),K=K.replace(Y,""),G.jsExtRegExp.test(K)&&(K=M),O.deps=O.deps?O.deps.concat(K):[K],!0});define=function(a,b,f){var g;"string"!==typeof a&&(f=b,b=a,a=null);e(b)||(f=b,b=null);!b&&d(f)&&(b=[],f.length&&(f.toString().replace(X,c).replace(T,function(a,c){b.push(c)}),b=(1===f.length?["require"]:["require","exports","module"]).concat(b)));if(q&&(g=C||y())){a||(a=g.getAttribute("data-requiremodule"));var k=fa[g.getAttribute("data-requirecontext")]}k?(k.defQueue.push([a,b,f]),k.defQueueMap[a]=
!0):da.push([a,b,f])};define.amd={jQuery:!0};G.exec=function(a){return eval(a)};G(O)}})(this,"undefined"===typeof setTimeout?void 0:setTimeout);
(function(){function b(a,b){define(a,function(){return window[b]})}function a(a){return null!==window[a]}var c={backbone:{exports:"Backbone"},underscore:{exports:"_"},ICAL:{exports:"ICAL"},jquery:{exports:"jQuery"},later:{exports:"later"},gsap:{test:function(){return window.com&&window.com.greensock},define:function(a){define(a,function(){var a=window.com.greensock;delete window.com.greensock;return a})}}},d;for(d in c)if(c.hasOwnProperty(d)){var e=c[d].exports,g=c[d].define||b;(c[d].test||a)(e)&&
g(d,e)}})();
define("eventemitter",[],function(){function b(){}function a(a,b,c){this.fn=a;this.context=b;this.once=c||!1}function c(b,c,d,e,g){if("function"!==typeof d)throw new TypeError("The listener must be a function");d=new a(d,e||b,g);c=k?k+c:c;b._events[c]?b._events[c].fn?b._events[c]=[b._events[c],d]:b._events[c].push(d):(b._events[c]=d,b._eventsCount++);return b}function d(a,c){0===--a._eventsCount?a._events=new b:delete a._events[c]}function e(){this._events=new b;this._eventsCount=0}var g=Object.prototype.hasOwnProperty,
k="~";Object.create&&(b.prototype=Object.create(null),(new b).__proto__||(k=!1));e.prototype.eventNames=function(){var a=[],b,c;if(0===this._eventsCount)return a;for(c in b=this._events)g.call(b,c)&&a.push(k?c.slice(1):c);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(b)):a};e.prototype.listeners=function(a){a=this._events[k?k+a:a];if(!a)return[];if(a.fn)return[a.fn];for(var b=0,c=a.length,d=Array(c);b<c;b++)d[b]=a[b].fn;return d};e.prototype.listenerCount=function(a){return(a=
this._events[k?k+a:a])?a.fn?1:a.length:0};e.prototype.emit=function(a,b,c,d,e,g){var f=k?k+a:a;if(!this._events[f])return!1;f=this._events[f];var m=arguments.length,l;if(f.fn){f.once&&this.removeListener(a,f.fn,void 0,!0);switch(m){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,b),!0;case 3:return f.fn.call(f.context,b,c),!0;case 4:return f.fn.call(f.context,b,c,d),!0;case 5:return f.fn.call(f.context,b,c,d,e),!0;case 6:return f.fn.call(f.context,b,c,d,e,g),!0}var u=1;for(l=
Array(m-1);u<m;u++)l[u-1]=arguments[u];f.fn.apply(f.context,l)}else{var w=f.length;for(u=0;u<w;u++)switch(f[u].once&&this.removeListener(a,f[u].fn,void 0,!0),m){case 1:f[u].fn.call(f[u].context);break;case 2:f[u].fn.call(f[u].context,b);break;case 3:f[u].fn.call(f[u].context,b,c);break;case 4:f[u].fn.call(f[u].context,b,c,d);break;default:if(!l){var x=1;for(l=Array(m-1);x<m;x++)l[x-1]=arguments[x]}f[u].fn.apply(f[u].context,l)}}return!0};e.prototype.on=function(a,b,d){return c(this,a,b,d,!1)};e.prototype.once=
function(a,b,d){return c(this,a,b,d,!0)};e.prototype.removeListener=function(a,b,c,e){a=k?k+a:a;if(!this._events[a])return this;if(!b)return d(this,a),this;var f=this._events[a];if(f.fn)f.fn!==b||e&&!f.once||c&&f.context!==c||d(this,a);else{for(var g=0,m=[],l=f.length;g<l;g++)(f[g].fn!==b||e&&!f[g].once||c&&f[g].context!==c)&&m.push(f[g]);m.length?this._events[a]=1===m.length?m[0]:m:d(this,a)}return this};e.prototype.removeAllListeners=function(a){a?(a=k?k+a:a,this._events[a]&&d(this,a)):(this._events=
new b,this._eventsCount=0);return this};e.prototype.off=e.prototype.removeListener;e.prototype.addListener=e.prototype.on;e.prefixed=k;e.EventEmitter=e;"undefined"!==typeof module&&(module.exports=e);return e});
define("window.io",["eventemitter"],function(b){var a={window:null,windows:null,namespace:"screens-player"},c=function(b){this._super.constructor.call(this);b=Object.assign({},a,b);if(b.window===window)throw Error("WindowIO bridge can't talk to itself yet");this.targetWindows={};(b.windows||b.window)&&this.addWindows(b.windows||{single:b.window});this._namespace=b.namespace;this._onMessageHandler=this._onMessage.bind(this);this.emit=function(a,b,c){console.log("[window.io] WindowIO.on("+a+") in "+
c);this._super.emit.apply(this,arguments)};window.addEventListener("message",this._onMessageHandler,!1);this._onUnloadHandler=function(){window.removeEventListener("unload",this._onUnloadHandler,!1);this.destroy()}.bind(this);window.addEventListener("unload",this._onUnloadHandler,!1)};c.SUB_WINDOWS_PREFIX="screens-zone-cell";c.prototype=Object.create(b.prototype);Object.assign(c.prototype,{_super:b.prototype,constructor:c},{_onMessage:function(a){try{var b=a.data&&"object"===typeof a.data?a.data:
JSON.parse(a.data)}catch(f){}if(b&&b.namespace===this._namespace){var c=null,d;for(d in this.targetWindows)if(this.targetWindows[d]===a.source){c=d;break}if(!c&&!this.targetWindows.single&&window.location.origin!==a.origin){for(d in this.targetWindows)window.ScreensDisplay&&this.targetWindows[d].ScreensDisplay&&this.targetWindows[d].ScreensDisplay.getWindowIO().addWindow("global",a.source);c="single";this.addWindow(c,a.source);console.log("Lazy loaded firmware window with origin "+a.origin+" on message "+
b.type)}c&&this.emit(b.type,b.data,c)}},postMessage:function(a,b,c){c=Array.prototype.concat([],c||Object.keys(this.targetWindows));c.reduce(function(a,b){(b=this.targetWindows[b])&&b.postMessage&&-1===a.indexOf(b)&&a.push(b);return a}.bind(this),[]).forEach(function(c){console.log("[window.io] WindowIO.postMessage("+a+")");c.postMessage(JSON.stringify({namespace:this._namespace,type:a,data:b}),"*")}.bind(this))},postMessageToSubWindows:function(a,b){var d=Object.keys(this.targetWindows).filter(function(a){return 0===
a.indexOf(c.SUB_WINDOWS_PREFIX)});d.length&&this.postMessage(a,b,d)},addWindow:function(a,b){this.targetWindows[a]=b;try{console.log("[window.io] addWindow - Current window "+window.location.href+" posts messages to "+b.location.href+". Registered with key "+a)}catch(g){console.log("[window.io] addWindow - Current window "+window.location.href+" posts messages to a protected window. Registered with key "+a)}},addWindows:function(a){for(var b in a)this.addWindow(b,a[b])},removeWindow:function(a){for(var b in this.targetWindows)if(b===
a||this.targetWindows[b]===a){var c=this.targetWindows[b];delete this.targetWindows[b];try{console.log("[window.io] removeWindow - Current window "+window.location.href+" does not post messages to "+c.location.href+" anymore. Registered key was "+b)}catch(k){console.log("[window.io] removeWindow - Current window "+window.location.href+" does not post messages to a protected window anymore. Registered key was "+b)}}},destroy:function(){this.removeAllListeners();this.targetWindows=null;this._onMessageHandler&&
(window.removeEventListener("message",this._onMessageHandler),this._onMessageHandler=null);this._onUnloadHandler&&(window.removeEventListener("unload",this._onUnloadHandler),this._onUnloadHandler=null)}});return c});define("scroll/Util",[],function(){return{pick:function(b,a){return b&&a&&"object"===typeof b&&Array.isArray(a)?a.reduce(function(a,d){"undefined"!==typeof b[d]&&(a[d]=b[d]);return a},{}):{}}}});
define("scroll/Physics",["scroll/Util"],function(b){function a(c){this.options=Object.assign({},a.DEFAULT_OPTIONS,b.pick(c||{},Object.keys(a.DEFAULT_OPTIONS)));this.strength=this.options.strength;this.fn=this.options.forceFunction}function c(a){this.options=Object.assign({},c.DEFAULT_OPTIONS,b.pick(a||{},Object.keys(c.DEFAULT_OPTIONS)));this.velocityCap=this.options.velocityCap}function d(a){this.options=Object.assign({},d.DEFAULT_OPTIONS,b.pick(a||{},Object.keys(d.DEFAULT_OPTIONS)));this.reset()}
a.FN_LINEAR=function(a){return a};a.FN_QUADRATIC=function(a){return a*a};a.DEFAULT_OPTIONS={strength:.001,forceFunction:a.FN_LINEAR};a.prototype={applyForce:function(a){var b=-this.fn(a.velocity)*this.strength;a.applyForce(b)}};c.DEFAULT_OPTIONS={velocityCap:0};c.prototype={velocityCap:0,position:0,velocity:0,force:0,applyForce:function(a){this.force+=a},updateVelocity:function(a){this.velocity+=this.force*a;this.force=0},updatePosition:function(a){var b=this.velocity;this.velocityCap&&(this.velocity=
b=0<b?Math.min(this.velocityCap,b):Math.max(-this.velocityCap,b));this.position+=a*b}};d.FN_FENE=function(a,b){var c=.99*b;a=Math.max(Math.min(a,c),-c);return a/(1-a*a/(b*b))};d.FN_HOOK=function(a){return a};d.DEFAULT_OPTIONS={period:300,dampingRatio:.1,length:0,maxLength:Infinity,anchor:0,forceFunction:d.FN_HOOK};d.prototype={reset:function(){var a=this.options;this._energy=0;this._fn=a.forceFunction;this._stiffness=Math.pow(2*Math.PI/a.period,2);this._damping=4*Math.PI*a.dampingRatio/a.period;this._anchor=
a.anchor;this._restLength=a.length;this._maxLength=a.maxLength},setOptions:function(a){Object.assign(this.options,a);this.reset()},applyForce:function(a){var b=this._stiffness,c=this._anchor-a.position-this._restLength,d=b*this._fn(c,this._maxLength);d-=a.velocity*this._damping;a.applyForce(d);this._energy=.5*b*c*c}};return{Force:a,Particle:c,Spring:d}});
define("scroll/ScrollView",["./ScrollableList","./Physics","scroll/Util"],function(b,a,c){function d(e,f){this.el=e=e.jquery?e[0]:e;this.options=Object.assign({},d.DEFAULT_OPTIONS,c.pick(f||{},Object.keys(d.DEFAULT_OPTIONS)));this._direction=this.options.direction?1:0;f=this.options.scrollableList;f.direction=this._direction;f.edgeMargin||(f.edgeMargin=this.options.edgeMargin);this.list=new b(e,f);this._enabled=!0;this._recheck=this._snapCheckPending=this._onEdge=this._simulating=!1;this._springPosition=
this._springBody=0;this._watchedElements=[];this._lastTouch=null;this._particle=new a.Particle({velocityCap:this.options.speedLimit});this._drag=new a.Force({forceFunction:a.Force.FN_QUADRATIC,strength:this.options.drag});this._friction=new a.Force({forceFunction:a.Force.FN_LINEAR,strength:this.options.friction});this._springOpts=[];this._springOpts[0]={};this._springOpts[1]={period:this.options.edgePeriod,dampingRatio:this.options.edgeDamp};this._springOpts[2]={period:this.options.snapPeriod,dampingRatio:this.options.snapDamp};
this._spring=new a.Spring(this._springOpts[1]);this.options.panGestureEnabled&&(this._sistine=new Sistine.Manager(e,{recognizers:[new Sistine.Pan({eventName:"pan",direction:this._direction?Sistine.DIRECTION_VERTICAL:Sistine.DIRECTION_HORIZONTAL,delegate:this.options.panDelegate,minLockDistance:0,minPointers:this.options.minPointers,maxPointers:this.options.maxPointers})]}),this._sistine.on("pan",g.bind(this)))}function e(a){return function(){return a.apply(this.list,arguments)}}function g(a){if(this._enabled)if(a.state===
Sistine.STATE_STARTED)this._lastTouch||(this._lastTouch={id:a.pointer.id,idSet:a.pointerSet.keys.slice(0),t:Date.now(),p:a.pointer.position(),v:[0,0],d:[0,0]},this._springBody=0,this._onEdge=!1,this._simulating&&(this._simulating=!1));else if(a.state===Sistine.STATE_CHANGED){if(this._lastTouch&&-1!==this._lastTouch.idSet.indexOf(a.pointer.id)){var b=this._lastTouch,c=Date.now(),d=b.tp=b.t;d=b.dt=c-d;a=a.pointer.position();for(var e,f=0;2>f;f++)e=b.d[f]=a[f]-b.p[f],b.v[f]=d?e/d:b.v[f];b.p=a;b.t=c;
this._particle.velocity=0;this._particle.position-=this._lastTouch.d[this._direction];b=0;this.options.edgeResist&&(b=this._lastTouch.dt);w.call(this,b)}}else a.state===Sistine.STATE_ENDED&&this._lastTouch&&-1!==this._lastTouch.idSet.indexOf(a.pointer.id)&&(this._particle.velocity-=this._lastTouch.v[this._direction],this._particle.position-=this._lastTouch.d[this._direction],this._snapCheckPending=!0,x.call(this),this._lastTouch=null)}function k(a,b){var c=document.createEvent("Event");c.initEvent(a,
!0,!0);c.detail=b||{};c.viewController=this;this.el.dispatchEvent(c)}function f(a,b){0===this._springBody&&(this._springBody=a,a=Object.assign({},this._springOpts[a],{anchor:b}),this._spring.setOptions(a),this._springPosition=b)}function l(){this._springBody&&(this._springBody=0,this._particle.position=this._springPosition,w.call(this,0))}function w(a){if(this._snapCheckPending&&this.options.snap){var b=Math.abs(this._particle.velocity);if(!(b>this.options.snapSpeedThreshold)){this._snapCheckPending=
!1;var c=this.list.infoOf(this.list.getCurrentIdx());if(c)if(1===this._springBody)k.call(this,"scroll-snap",{idx:c.idx,view:this});else{var d=c.position,e=c.idx;b=b>this.options.snapNextSpeed;var g=this._particle.position>(c.position+c.nextPos)/2,m=0<this._particle.velocity;if(b&&m||!b&&g)d=c.nextPos,e++;k.call(this,"scroll-snap",{idx:e,view:this});f.call(this,2,d)}}}null!==a&&(c=!0,33.3<a&&(a=33.3,c=!1),d=this._particle,this._springBody?this._spring.applyForce(d):(this._drag.applyForce(d),this._friction.applyForce(d)),
d.updateVelocity(a),d.updatePosition(a),c&&this.list.setPosition(d.position,!0),a=!!this.list._edgeHit,!this._onEdge&&a?f.call(this,1,this.list._edgePosition):this._onEdge&&!a&&2!==this._springBody&&this._springBody&&.01>Math.abs(this._particle.velocity)&&l.call(this),this._onEdge=a)}function m(a,c,d){for(var e=this._watchedElements,f=0;f<e.length;f++)if(e[f].el===a)return null;f=b.FN_GET_SIZE_FOR_EL[this._direction](a);a={el:a,fn:c,oldSize:f,size:f,scope:d,lastChange:Date.now(),timeout:500};e.push(a);
u.call(this);return a}function u(){function a(){for(var b=[],f=0;f<e.length;f++){var g=e[f],k=g.el;if(document.body.contains(k)){var m=Date.now(),l=c(k);g.size!==l?(g.oldSize=g.size,g.size=l,g.lastChange=m,g.fn.call(g.scope||k,g)&&b.push(k)):m-g.lastChange>g.timeout&&e.splice(f--,1)}else 0<g.size&&(g.oldSize=g.size,g.size=0,g.fn.call(g.scope||k,g)),e.splice(f--,1)}0<b.length&&d.list.invalidate.apply(d.list,b);e.length&&requestAnimationFrame(a)}var c=b.FN_GET_SIZE_FOR_EL[this._direction],d=this,e=
this._watchedElements;e.length&&requestAnimationFrame(a)}function x(){function a(){if(b._simulating){var d=Date.now(),e=Math.max(1,d-c);c=d;w.call(b,e);!b._snapCheckPending&&.05>Math.abs(b._particle.velocity)&&(!b._springBody||1E-4>b._spring._energy)?(l.call(b),b._simulating&&(b._simulating=!1)):requestAnimationFrame(a)}}var b=this;if(!this._simulating){this._simulating=!0;var c=Date.now();requestAnimationFrame(a)}}d.DIRECTION_X=0;d.DIRECTION_Y=1;d.DEFAULT_OPTIONS={direction:d.DIRECTION_X,scrollableList:{},
friction:.005,drag:1E-4,edgePeriod:300,edgeDamp:1,edgeMargin:[0,0],edgeResist:!0,speedLimit:10,snap:!1,snapPeriod:500,snapDamp:.8,snapSpeedThreshold:1,snapNextSpeed:.1,panDelegate:null,panGestureEnabled:!0,minPointers:1,maxPointers:1};d.prototype={destroy:function(){this._sistine&&(this._sistine.off("pan"),this._sistine.destroy(),this._sistine=null);this.list.destroy();this.list=null},getPosition:function(){return this._particle.position},setPosition:function(a){a=this.list.limitPosition(a);this._particle.position=
a;this._springBody=0;w.call(this,0);return a},scrollTo:function(a){a=this.positionOf(a);this.setPosition(a)},incPosition:function(a){var b=this.getPosition();return this.setPosition(b+a)-b},watchAndAdjust:function(a){return m.call(this,a,function(a){a=a.size-a.oldSize;this.setPosition(this.getPosition()+a/2);return!0},this)},invalidate:function(){this.list.invalidate.apply(this.list,arguments);this._recheck&&(this._recheck=!1,w.call(this,1E3/60),this._snapCheckPending=!0,x.call(this))},invalidateAll:function(){this.list.invalidateAll.apply(this.list,
arguments);this._recheck&&(this._recheck=!1,w.call(this,1E3/60),this._snapCheckPending=!0,x.call(this))},splice:function(a,b,c){var d=this.list.getPosition(),e=this.list.splice.apply(this.list,arguments);this._recheck=Number.isInteger(b)&&0<b;var f=this.list.getPosition();f!==d&&this.setPosition(f);return e},handlePan:function(a){g.call(this,a)},length:e(b.prototype.length),indexOf:e(b.prototype.indexOf),at:e(b.prototype.at),positionOf:e(b.prototype.positionOf),recalculateSize:e(b.prototype.recalculateSize),
children:e(b.prototype.children)};return d});
define("scroll/ScrollableList",["scroll/Util"],function(b){function a(c,d){this.el=c=c.jquery?c[0]:c;this.options=Object.assign({},a.DEFAULT_OPTIONS,b.pick(d||{},Object.keys(a.DEFAULT_OPTIONS)));this._direction=this.options.direction?1:0;this._gutter=this.options.gutter;this._edgeHit=this._lastEdge=this._last=this._current=this._first=this._offset=this._position=0;this._hash="";this._noJitter=!0;a:{for(d=0;d<document.styleSheets.length;d++)if("ctx-scrollablelist-styles"===document.styleSheets[d].title)break a;
d=document.createElement("style");d.setAttribute("title","ctx-scrollablelist-styles");d.appendChild(document.createTextNode(""));document.head.appendChild(d);d=d.sheet;d.insertRule(".ctx-ScrollableList-world{width: 100%;height: 100%;overflow: hidden;position: absolute;}",0);d.insertRule(".ctx-ScrollableList-scene{width: 100%;height: 100%;}",1);d.insertRule(".ctx-ScrollableList-item-x{position: absolute;height: 100%;}",2);d.insertRule(".ctx-ScrollableList-item-y{position: absolute;width: 100%;}",3)}this._cssItemClassName=
this._direction?"ctx-ScrollableList-item-y":"ctx-ScrollableList-item-x";d=this._world=document.createElement("div");d.className="ctx-ScrollableList-world";var e=this._scene=document.createElement("div");e.className="ctx-ScrollableList-scene";for(d.appendChild(e);c.children.length;){var m=document.createElement("div");m.className=this._cssItemClassName;m.appendChild(c.children[0]);e.appendChild(m)}c.appendChild(d);this._scene.style.transform="translate3d(0,0,0)";window.getComputedStyle(this._scene).getPropertyValue("transform")||
(f=l);this._scene.style.transform="";this.recalculateSize();g.call(this,!0);if(this.options.debug){c={position:"absolute",background:"rgba(0,0,0,0.3)",fontFamily:"monospace",fontSize:"16px",whiteSpace:"pre"};d=this.el;var u=d.offsetLeft;e=d.clientWidth;m=d.clientHeight;var w=document.createElement("div");Object.assign(w.style,c,{left:-u+"px",top:0,width:u+"px",height:m+"px"});this._debugEl=w;d.appendChild(w);u=document.createElement("div");Object.assign(u.style,c,{left:e+"px",right:"-1000px",top:0,
height:m+"px"});this._world.style.overflow="visible";d.appendChild(u)}k.call(this)}function c(a){var b=this._scene.children;return 0<=a&&a<b.length?b[a]:null}function d(a){if("number"===typeof a||"string"===typeof a)return c.call(this,+a);for(;a&&a.className!==this._cssItemClassName;)a=a.parentElement;return a}function e(a,b){var c=document.createElement("div");c.className=this._cssItemClassName;c.appendChild(a);b?this._scene.insertBefore(c,b):this._scene.appendChild(c);return c}function g(b){for(var c=
a.FN_GET_SIZE_FOR_EL[this._direction],d=this._gutter,e=this._scene.children,f=0,g,k=0,m=e.length;k<m;k++){var l=e[k];if(l.className!==this._cssItemClassName)console.log("raw item detected"),g=document.createElement("div"),g.className=this._cssItemClassName,this._scene.replaceChild(g,l),g.appendChild(l),k--;else if(0===l.children.length)console.log("removed item detected"),this._scene.removeChild(l),k--,m=e.length;else if(1<l.children.length)console.log("multiplied item detected"),g=document.createElement("div"),
g.className=this._cssItemClassName,g.appendChild(l.children[0]),this._scene.insertBefore(g,l),k--,m=e.length;else{(g=l.scrollListCache)||(g=l.scrollListCache={id:w++,enabled:!0,size:0,pos:0});if(!g.size||b)g.enabled||(g.enabled=!0,l.style.opacity="",l.style.display=""),g.size=c(l);g.pos=f;f+=g.size+d}}this._lastEdge=Math.max(f-d,this._worldSize)}function k(){for(var a=f[this._direction],b=this._hash,c=this._scene.children,d=Math.round(this._position),e=d+this._marginLeft,g=d+this._marginRight,k=0,
l=0,Q=0,B,C=0,K=1,ma=c.length;K<ma;K++){B=c[K].scrollListCache.pos;if(B<e)k=K,l=B;else if(B>g)break;0<=d-B&&(C=K);Q=B}this._first=k;this._last=K;this._offset=this._noJitter?d:d-l;this._current=C;this._hash=(k<c.length?c[k].scrollListCache.id:"none")+":"+l+":"+(K<c.length?c[K].scrollListCache.id:"none")+":"+Q;if(b!==this._hash)for(b=f[this._direction],c=this._noJitter,d=0,e=this._scene.children,g=this._first,k=this._last,l=0,Q=e.length;l<Q;l++)B=e[l],C=B.scrollListCache,l<g||l>=k?(C.enabled&&(C.enabled=
!1,C.tpos=0,B.style.display="none"),c&&(d+=C.size+this.options.gutter)):(C.enabled||(C.enabled=!0,B.style.display="",(K=B.firstChild)&&K.viewController&&K.viewController.layout&&K.viewController.layout()),C.tpos!==d&&(b(B,d),C.tpos=d),d+=C.size+this.options.gutter);a(this._scene,-this._offset);this.options.debug&&(this._debugEl.innerHTML="position: "+this._position+"\n  offset: "+this._offset+"\n current: "+this._current+"\n   first: "+this._first+"\n    last: "+this._last+"\nlastEdge: "+this._lastEdge+
"\n    hash: "+this._hash+"\n margin0: "+this._marginLeft+"\n margin1: "+this._marginRight+"\n  nextId: "+w+"\n");a=this._position+this._edgeRight-this._lastEdge;this._position<this._edgeLeft?(this._edgeHit=-1,this._edgePosition=this._edgeLeft):0<a?(this._edgeHit=1,this._edgePosition=this._lastEdge-this._edgeRight):this._edgeHit=0}var f=[function(a,b){a.style.transform="translate3d("+b+"px, 0px, 0px)"},function(a,b){a.style.transform="translate3d(0px, "+b+"px, 0px)"}],l=[function(a,b){a.style.webkitTransform=
"translate3d("+b+"px, 0px, 0px)"},function(a,b){a.style.webkitTransform="translate3d(0px, "+b+"px, 0px)"}];a.DIRECTION_X=0;a.DIRECTION_Y=1;a.DEFAULT_OPTIONS={direction:a.DIRECTION_X,gutter:0,margin:100,debug:!1,edgeMargin:[0,0]};a.FN_GET_SIZE_FOR_EL=[function(a){return a.offsetWidth},function(a){return a.offsetHeight}];a.prototype={destroy:function(){this._world&&(this.el.removeChild(this._world),this._world=null)},getPosition:function(){return this._position},setPosition:function(a,b){this._position=
a;b&&k.call(this)},limitPosition:function(a){a=Math.min(this._lastEdge-this._edgeRight,a);return a=Math.max(this._edgeLeft,a)},length:function(){return this._scene.children.length},at:function(a){a=c.call(this,a);return null===a?null:a.children[0]},indexOf:function(a){if(a=d.call(this,a))for(var b=this._scene.children,c=0,e=b.length;c<e;c++)if(b[c]===a)return c;return-1},positionOf:function(a){return(a=d.call(this,a))&&a.scrollListCache&&a.scrollListCache.pos},sizeOf:function(a){return(a=d.call(this,
a))&&a.scrollListCache&&a.scrollListCache.size},getCurrentIdx:function(){return this._current},infoOf:function(a){var b=a;"number"===typeof a||"string"===typeof a?a=c.call(this,+a):(a=d.call(this,a),b=this.indexOf(a));if(!a||!a.scrollListCache)return null;var e=a.scrollListCache;return{idx:b,el:a.children[0],position:e.pos,size:e.size,nextPos:e.pos+e.size+this.options.gutter,isLast:b===this._scene.children.length-1}},invalidate:function(a){for(var b=0;b<arguments.length;b++){var c=d.call(this,arguments[b]);
c&&c.scrollListCache&&(c.scrollListCache.size=0)}this._hash="";g.call(this);k.call(this)},recalculateSize:function(){var b=this._worldSize=a.FN_GET_SIZE_FOR_EL[this._direction](this._world);this._marginLeft=-this.options.margin;this._marginRight=this.options.margin+b;this._edgeLeft=this.options.edgeMargin[0];this._edgeRight=b+this.options.edgeMargin[1]},invalidateAll:function(){this._hash="";g.call(this,!0);k.call(this)},on:function(a,b){var c=this;a.split(/\s+/).forEach(function(a){c.el.addEventListener(a,
b,!1)})},off:function(a,b){var c=this;a.split(/\s+/).forEach(function(a){c.el.removeEventListener(a,b,!1)})},children:function(){for(var a=[],b=this._scene.children,c=0,d=b.length;c<d;c++)a.push(b[c].children[0]);return a},splice:function(a,b,c){var f=[],k=this._scene.children,m=2,l=a,u=b;0===arguments.length?(l=0,u=k.length):"number"!==typeof a?m=u=l=0:"number"!==typeof b&&(u=k.length,m=1);0>l&&(l=Math.max(0,l+k.length));var w=null;for(l<=this._current&&(w=this.infoOf(this._current));l<k.length&&
0<u;){u--;var B=k[l];this._scene.removeChild(B);f.push(B.children[0])}for(k=l<k.length?k[l]:null;m<arguments.length;m++)if(l=arguments[m],Array.isArray(l)||l.jquery)for(u=0;u<l.length;u++)e.call(this,l[u],k);else e.call(this,l,k);w&&(g.call(this,!0),(B=d.call(this,w.el))&&B.scrollListCache&&this.setPosition(B.scrollListCache.pos,!0));return f}};var w=0;return a});define("screens",[],function(){var b={};return window.screens=b});
define("util/Util",["jquery"],function(b){var a={"image/jpeg":"image","image/png":"image","image/gif":"image","application/pdf":"pdf","video/quicktime":"video","video/x-m4v":"video","video/mp4":"video","default":""},c=["#212121","#cccccc","#ba3d2d","#8cbc30","#92b8bf"];return{guid:function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"===b?c:c&7|8).toString(16)})},randomId:function(){var a=
Date.now(),b,c="";for(b=0;32>b;b++)c+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.round(a+62*Math.random())%62];return c},assetTypes:function(){return a},annotationColors:function(){return c},scaleSizeToFitSpace:function(a,b){a=a[0]/a[1];b=Math.min(b[1]*a,b[0]);return[b,b/a]},fitRectangle:function(a,b){var c=a.width,d=a.height,e=b.width||b.w||0,l=b.height||b.h||0,w=b.left+e/2;b=b.top+l/2;var m=c/d;c=Math.min(c,e);d=Math.min(c/m,l);c=Math.min(d*m,e);d=c/m;a.width=c;a.height=
d;a.top=b-d/2;a.left=w-c/2;return a},buttonPressedUIHandler:function(a){var c=b(a.currentTarget);a.state===Sistine.STATE_STARTED?c.addClass("active"):c.removeClass("active")},inputOnFocus:function(a){a=b(a.currentTarget);var c=b.trim(a.val());a.data("previous-value")||a.data("previous-value",c)},inputOnBlur:function(a,c){c=b(c.currentTarget);var d=b.trim(c.val()),e=b.trim(c.data("previous-value"));d===e?c.val(e):(c.data("previous-value",d).val(d),b.isFunction(a)&&a(d))},inputOnKeyDown:function(a){var c=
b(a.currentTarget),d=b.trim(c.data("previous-value"));13===a.keyCode?c.blur():27===a.keyCode&&c.val(d||"").blur()},numberBetween:function(a,b,c){return a<c&&b>=a&&b<=c||a>c&&b>=c&&b<=a?!0:!1},pointInRectangle:function(a,b,c,k,f,l){return this.numberBetween(c,a,f)&&this.numberBetween(k,b,l)},getBoundingClientRect:function(a){a&&a.jquery&&(a=a[0]);if(!a)return null;a=a.getBoundingClientRect();return{left:a.left,right:a.right,width:a.width,height:a.height,top:a.top,bottom:a.bottom}},delay:function(a){return new Promise(function(b){setTimeout(b,
a)})},readFile:function(a,b){switch(b||"array"){case "array":var c="readAsArrayBuffer";break;case "binary":c="readAsBinaryString";break;case "url":c="readAsDataRUL";break;case "text":c="readAsText";break;default:throw Error("invalid result type: "+b);}return new Promise(function(b,d){var e=new FileReader;e.onload=function(){b(this)};e.onabort=e.onerror=function(){d(this)};e[c](a)})},readImage:function(a){var b=window.URL?window.URL:window.webkitURL;return new Promise(function(c,d){var e=new Image;
e.onload=function(){b.revokeObjectURL(this.src);c(this)};e.onabort=e.onerror=function(){d(this)};e.src=b.createObjectURL(a)})},dataUrlToBlob:function(a){var b=a.indexOf(","),c=a.substring(b+1);a=a.substring(0,b).split(":")[1].split(";")[0];c=window.atob(c);b=c.length;for(var d=new ArrayBuffer(b),f=new Uint8Array(d),l=0;l<b;l++)f[l]=c.charCodeAt(l);c=new DataView(d);return new Blob([c],{type:a})},hashCode:function(a){var b=0,c;if(0===a.length)return b;var d=0;for(c=a.length;d<c;d++){var f=a.charCodeAt(d);
b=(b<<5)-b+f;b|=0}return b}}});
define("util/ScreensChannel",[],function(){var b=function(){var a=window;do{if(a.ScreensDisplay){this.display=a.ScreensDisplay;break}a=a.parent&&a.parent!==a?a.parent:null}while(a);a||console.warn("[ScreensChannel] ScreensChannel could not find the display window");console.log("[ScreensChannel] ScreensChannel initialized.")};b.prototype={getDisplay:function(){return this.display},getDisplayData:function(){return this.display?this.display.getData().then(function(a){return a.display||{}}):Promise.resolve({})},
getDeviceData:function(){return this.display?this.display.getData().then(function(a){return a.device||{}}):Promise.resolve({})}};return new b});
define("util/ScreensDisplay",["jquery","eventemitter","window.io"],function(b,a,c){var d=function(){this._super.constructor.call(this);if(window.parent!==window){var a=window.top;try{if(a.location.origin===window.location.origin)for(a=window.parent;a!==window.top&&a!==a.parent;){if(a.ScreensFirmware){console.log("[ScreensDisplay] Detected firmware window.");break}a=a.parent}a.ScreensFirmware?console.log("[ScreensDisplay] Firmware is window "+a.location):console.log("The Firmware window was not detected. If we are in a subsequence, we will for now be adding the main sequence instead of the firmware for future proxying")}catch(g){console.log("Error when trying to detect firmware "+
g.message+" We continue assuming the cross origin window is the firmware")}this.wio=new c({window:a})}else console.log("[ScreensDisplay] No parent, firmware not detected. Lazy loading."),this.wio=new c;console.log("[ScreensDisplay] Starting initialization...");if(window.isPlayerWioReady)this._wio_onPlayerReady();else this.wio.on("player-wio-ready",this._wio_onPlayerReady.bind(this))};d.prototype=Object.create(a.prototype);Object.assign(d.prototype,{_super:a.prototype,constructor:d},{_wio_onPlayerReady:function(a){this.wio.postMessageToSubWindows("player-wio-ready",
a);this.wio.on("display-data",this._wio_onDisplayData.bind(this));this.enableNativeVideo=!1;this.wio.on("native-video-enabled",this._wio_onNativeVideoEnabled.bind(this));this.wio.on("video-ended",this._wio_onVideoEnded.bind(this));this.wio.on("no-native-video",this._wio_onNoNativeVideo.bind(this));this.wio.postMessage("check-native-video");console.log("[ScreensDisplay] Check for native video capability.");var c=this;b(window).one("unload",function(){c.wio.off("player-wio-ready");c.wio.off("display-data");
c.wio.off("native-video-enabled");c.wio.off("video-ended");c.wio.off("no-native-video")});console.log("[ScreensDisplay] Initialized.");this.wio.postMessage("display-initialized")},_wio_onDisplayData:function(a){this.wio.postMessageToSubWindows("display-data",a);console.log("[ScreensDisplay] Received display-data",a);this.data=a;this.emit("data",a)},_wio_onVideoEnded:function(a){console.log("[ScreensDisplay] Received video-ended");null!==a&&a.id&&(a=document.getElementById(a.id))&&b(a).trigger("nativePlayerEnded")},
_wio_onNativeVideoEnabled:function(a){console.log("[ScreensDisplay] Received native-video-enabled");this.enableNativeVideo=!0},_wio_onNoNativeVideo:function(a){console.log("[ScreensDisplay] Received no-native-video (interrupted)");if(null!==a&&a.id){var c=document.getElementById(a.id);c&&("video-close-event"===a.message?b(c).trigger("nativePlayerInterrupted"):b(c).trigger("nativePlayerError"))}},getData:function(){if(!this.wio)return Promise.resolve();var a=this;return new Promise(function(b,c){var d=
setTimeout(function(){c()},1E3);if(a.data)b(a.data),clearTimeout(d);else a.once("data",function(a){b(a);clearTimeout(d)})})},playVideo:function(a){this.wio&&!0===this.enableNativeVideo&&(console.log("[ScreensDisplay] native-video-play: Requesting native full screen video"),this.wio.postMessage("native-video-play",a))},getWindowIO:function(){return this.wio}});return new d});window.ScreensDisplay=!0;require(["util/ScreensDisplay"],function(b){window.ScreensDisplay=b});
define("views/BaseView",["backbone"],function(b){return b.View.extend({constructor:function(a){this._initOptions(a);b.View.apply(this,arguments)},_initOptions:function(a,b){this.options=Object.assign({},b,this.options,a)},initialize:function(){this._isRendered=!1;this.el.viewController=this},destroy:function(){delete this.el.viewController;this._isRendered=!1;this.remove()},hide:function(){this.$el.hide();return this},show:function(){this.$el.show();return this},setRendered:function(a){try{return this._isRendered}finally{this._isRendered=
a}},isRendered:function(){return this._isRendered},dispatchEvent:function(a,b){var c=document.createEvent("Event");c.initEvent(a,!0,!0);c.detail=b||{};c.data=b||{};c.viewController=this;this.el.dispatchEvent(c)}})});window.CQ=window.CQ||{};window.CQ.screens=window.CQ.screens||{};
(function(b){b.analytics={trackStart:function(a){a.analyticsEvent&&this.trackError(a,"Incomplete playback");a.analyticsEvent={};a.analyticsEvent["event.type"]="play";a.analyticsEvent["event.coll_dts"]=this.getCurrentDateTime()},trackLoaded:function(a){a.analyticsEvent=a.analyticsEvent||{};a.analyticsEvent["event.dts_start"]=this.getCurrentDateTime()},trackPlaying:function(a,b,d,e){a.analyticsEvent=a.analyticsEvent||{};a.analyticsEvent["content.type"]=b;a.analyticsEvent["content.action"]=d;a.analyticsEvent["trn.product"]=
e;a.analyticsEvent["trn.amount"]=0},trackEnded:function(a){a.analyticsEvent=a.analyticsEvent||{};var b=new Date;a.analyticsEvent["event.dts_end"]=this.getCurrentDateTime();if(a.analyticsEvent["event.dts_start"]){var d=Date.parse(a.analyticsEvent["event.dts_start"]);a.analyticsEvent["event.count"]=b.getTime()-d;a.analyticsEvent["event.value"]="Started "+(new Date(d)).toString()+" ended "+b.toString()+" Duration "+Math.floor((b.getTime()-d)/1E3)+" seconds";a.analyticsEvent["trn.quantity"]=b-d}a.analyticsEvent["event.subtype"]=
"end";this.sendTrackingEvent(a.analyticsEvent);delete a.analyticsEvent},trackError:function(a,b){a.analyticsEvent=a.analyticsEvent||{};a.analyticsEvent["event.type"]="play";a.analyticsEvent["event.subtype"]="error";a.analyticsEvent["event.error_desc"]=b;this.sendTrackingEvent(a.analyticsEvent);delete a.analyticsEvent},sendTrackingEvent:function(a){if(window.ScreensDisplay&&"function"===typeof window.ScreensDisplay.getWindowIO){var b=window.ScreensDisplay.getWindowIO();b?b.postMessage("analytics-tracking-event",
a):console.error("Analytics event could not be sent as window IO is not available.")}else console.error("Analytics event could not be sent as communication channel to firmware is not available.")},getCurrentDateTime:function(){return(new Date).toISOString()}}})(window.CQ.screens);window.CQ=window.CQ||{};window.CQ.screens=window.CQ.screens||{};window.CQ.screens.videoComponent=window.CQ.screens.videoComponent||{};
(function(b){b.createEventListener=function(a){var b=[];return{on:function(c,e){c=Array.isArray(c)?c:[c];c.forEach(function(c){b.push([c,e]);a.addEventListener(c,e,!1)})},activate:function(){b.forEach(function(b){a.addEventListener(b[0],b[1],!1)})},deactivate:function(){b.forEach(function(b){a.removeEventListener(b[0],b[1],!1)})},offAll:function(){b.forEach(function(b){a.removeEventListener(b[0],b[1],!1)});b=[]}}}})(window.CQ.screens.videoComponent);
(function(b){var a="emptied loadedmetadata loadeddata canplay canplaythrough playing ended waiting durationchange timeupdate play pause ratechange volumechange suspend stalled abort progress loadstart seeking seeked error".split(" ");b.createLogAllObserver=function(c){function d(a){g.forEach(function(b){b(a.type,a)})}var e=b.createEventListener(c),g=[];return{activate:function(){e.activate()},deactivate:function(){e.deactivate()},on:function(b){if(0===g.length)e.on(a,d);g.push(b)},offAll:function(){e.offAll();
g.length=0}}}})(window.CQ.screens.videoComponent);
(function(b){b.createErrorObserver=function(a){function c(){clearTimeout(l);l=-1}function d(b){b.videoElement=a;g.deactivate();k.forEach(function(a){a(b)})}function e(){function b(){d(Error("Watchdog catched long-loading Video after 30sec."))}f=!1;g.on("pause",function(){f&&d(Error("Catched Video error during playback of Video."))});g.on("error",function(a){f=!0});g.on("playing",function(){f=!1});g.on(["play","loadstart"],function(){a.networkState===a.NETWORK_NO_SOURCE&&d(Error("Catched Video error that appeared directly as a consequence of calling play()."))});
c();g.on(["stalled","play"],function(){-1===l&&(l=setTimeout(b,3E4))});g.on("timeupdate",c);g.on("playbackStalledEvent",function(a){a.detail?d(Error(a.detail.message)):d(Error("The video did not progress in the check interval"+a.target.currentSrc))})}var g=b.createEventListener(a),k=[],f,l;return{activate:function(){g.activate()},deactivate:function(){f=!1;c();g.deactivate()},on:function(a){0===k.length&&e();k.push(a)},offAll:function(){g.offAll();k.length=0}}}})(window.CQ.screens.videoComponent);
(function(b){b.createEndedObserver=function(a){function c(){d.deactivate();e.forEach(function(a){a()})}var d=b.createEventListener(a),e=[];return{activate:function(){d.activate()},deactivate:function(){d.deactivate()},on:function(a){if(0===e.length)d.on("ended",c);e.push(a)},offAll:function(){d.offAll();e.length=0}}}})(window.CQ.screens.videoComponent);
(function(b){b.getPlayableSource=function(a,b){var c;var e=0;for(c=a.length;e<c;e++){var g=a[e];if("probably"===b.canPlayType(g.type)){var k=g.src;break}if(!f&&"maybe"===b.canPlayType(g.type))var f=g.src}return k||f||null}})(window.CQ.screens.videoComponent);
(function(b,a){function c(a,c,d){if(a.readyState>a.HAVE_NOTHING)return Promise.resolve(a);d("Loading video...");return new Promise(function(e,g){var f=b.createEventListener(a),k=function(a){var b="";if(a.target.error){switch(a.target.error.code){case MediaError.MEDIA_ERR_ABORTED:b="Playback was aborted possibly by user interaction or content change such as schedule or data trigger.";break;case MediaError.MEDIA_ERR_NETWORK:b="A network error occurred while fetching the video.";break;case MediaError.MEDIA_ERR_DECODE:b=
"An error occurred while decoding the video.";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:b="The video source could not be loaded or is in a format not understood by the player.";break;default:b="An unknown error occurred."}b=b+": "+a.target.error.code+" "+a.target.error.message;console.error(b)}console.log("Video current time when error occurred: "+a.target.currentTime);f.offAll();d("Cannot load video...");return a.target.networkState===a.target.NETWORK_NO_SOURCE?g(Error("Invalid video url. Cannot load video. "+
b)):g(Error("Cannot load video. "+b))};f.on("canplay",function(){f.offAll();d("Video loaded...");e(a)});f.on("error",k);f.on("stalled",k);a.src=c;a.load()})}function d(a,b){console.log(a,b)}b.DEBUG_MODE_OFF=0;b.DEBUG_MODE_PLAYBACK_EVENTS=1;b.DEBUG_MODE_VIDEO_EVENTS=2;b.DEBUG_MODE_ALL_EVENTS=3;b.debugMode=b.DEBUG_MODE_OFF;b.playback={create:function(e,g){var k=function(a){b.debugMode&b.DEBUG_MODE_PLAYBACK_EVENTS&&console.log("[videoComponent] "+a)},f=b.createErrorObserver(e),l=b.createEndedObserver(e),
w=b.createLogAllObserver(e);f.deactivate();l.deactivate();w.deactivate();return{play:function(){if(!e.paused&&!e.ended)return Promise.resolve();f.activate();l.activate();b.debugMode&b.DEBUG_MODE_VIDEO_EVENTS&&(w.activate(),w.on(d));a.trackStart(e);var m=this;return c(e,g,k).then(function(){k("Playing video.");a.trackLoaded(e);var c=b.createEventListener(e);return new Promise(function(b){var d=!0,f=!1;c.on("playing",function(){a.trackPlaying(e,"VIDEO",m.getRenditionURL(),m.getComponentURL());c.offAll();
b({sync:d,mutedFallback:f})});-1===parseInt(e.parentNode.dataset?e.parentNode.dataset.duration:-1,10)&&(m.currentTime=-1,m.stallCheckTimer=setInterval(function(){if(e.currentTime>m.currentTime)m.currentTime=e.currentTime;else{var a="The video did not progress in the check interval "+e.currentSrc;console.warn(a);a=new CustomEvent("playbackStalledEvent",{bubbles:!0,cancelable:!0,detail:{message:a}});e.dispatchEvent(a)}},3E3));var g=e.play();g&&(d=!1,g.catch(function(){k("Playing video muted.");f=!0;
e.muted=!0;e.play()}))})})},getRenditionURL:function(){return e.currentSrc?(new URL(e.currentSrc)).pathname:""},getComponentURL:function(){var a=this.getRenditionURL();if(a&&"string"===typeof a)try{return a.replace(/\/(_jcr_|jcr:)content\/renditions\/.*/,"")}catch(u){}return a},setControls:function(a){e.controls=a},pause:function(){e.readyState>e.HAVE_NOTHING&&!e.paused&&!e.ended&&(k("Pausing video."),f.deactivate(),l.deactivate(),e.pause());return Promise.resolve()},reset:function(){e.readyState>
e.HAVE_NOTHING&&0<e.currentTime&&(e.currentTime=0);return Promise.resolve()},unload:function(){e.pause();e.src="";e.load();return Promise.resolve()},load:function(){return c(e,g,k)},offAll:function(){f.offAll();l.offAll();w.offAll()},onError:function(b){var c=this;f.on(function(d){k("Video error..."+d.message);l.deactivate();c.stallCheckTimer&&(clearInterval(c.stallCheckTimer),delete c.stallCheckTimer);a.trackError(e,d.message);b(d)})},onEnded:function(b){var c=this;l.on(function(){k("Ending video.");
f.deactivate();c.stallCheckTimer&&(clearInterval(c.stallCheckTimer),delete c.stallCheckTimer);a.trackEnded(e);b()})}}}}})(window.CQ.screens.videoComponent,window.CQ.screens.analytics);
(function(b,a,c,d){function e(a){if(!a.sync&&a.mutedFallback)if(b.Granite&&b.Granite.author){if(b.top.Granite&&b.top.Granite.I18n&&b.top.Granite.author&&b.top.Granite.author.ui){a=b.top.Granite.I18n.get("Video");var c=b.top.Granite.I18n.get("Autoplay muted because of browser policies. Use controls to unmute.");b.top.Granite.author.ui.helpers.notify({type:"warning",heading:a,content:c})}console.warn("Browser autoplay policies may be preventing normal video playback. Switching to muted mode. Use video controls to unmute. See: https://developers.google.com/web/updates/2017/09/autoplay-policy-changes for more information.");
this.setControls(!0)}else console.error("Browser autoplay policies may be preventing normal video playback. Switching to muted mode.")}c(function(){var a=c(".cq-Sequence-item.cq-Screens-video");c(".cq-Sequence-item.target .cq-Screens-video").each(function(b,d){a=a.add(c(d).closest(".cq-Sequence-item.target"))});var k={};a.each(function(a,b){a=c(b);if(b=b.getElementsByTagName("video")[0]){var e=Array.prototype.slice.call(b.getElementsByTagName("source"));b.src||0!==e.length?(a=d.getPlayableSource(e,
b)||b.src,k[b.id]=d.playback.create(b,a),k[b.id].unload()):a.attr("data-item-skip","true")}else a.attr("data-item-skip","true")});a.on("sequence-element-load",function(a){var b=a.target.getElementsByTagName("video")[0];b?k[b.id].load():console.log("No video found to load.",a.target)});a.on("sequence-element-show",function(a,d,g){function f(){A.off("nativePlayerInterrupted");A.off("nativePlayerError");g()}function l(){A.off("nativePlayerInterrupted");A.off("nativePlayerEnded");g()}function w(){A.off("nativePlayerEnded");
A.off("nativePlayerError");A.show();D.onError(g);D.play().then(e.bind(D))}if(d=a.target.getElementsByTagName("video")[0]){var A=c(d),D=k[d.id];c("\x3ci\x3e\x3c/i\x3e").appendTo(A).remove();b.ScreensDisplay&&!0===b.ScreensDisplay.enableNativeVideo?(a={},(d=d.getElementsByTagName("source")[0])?(a.id=A.prop("id"),a.URL=c(d).prop("src"),a.mimeType=c(d).prop("type"),A.hide(),console.log("Playing Native video"),A.one("nativePlayerEnded",f),A.one("nativePlayerError",l),A.one("nativePlayerInterrupted",w),
b.ScreensDisplay.playVideo(a)):"function"===typeof g&&g()):g?(D.onError(g),D.play().then(e.bind(D)).catch(g)):D.play().then(e.bind(D))}else console.log("No video found to play below event target.",a.target)});a.on("sequence-element-stop",function(a){a=a.target.getElementsByTagName("video")[0];a=k[a.id];a.offAll();a.pause()});a.on("sequence-element-hide",function(a){var b=c(a.target);a=a.target.getElementsByTagName("video")[0];b.attr("data-item-skip")||k[a.id].unload()});a.on("sequence-element-delegate-transition",
function(a,b){var d=c(a.target);a=a.target.getElementsByTagName("video")[0];a=k[a.id];if(d.attr("data-item-skip"))b();else a.onEnded(b)});if(b.ContextHub&&b.ScreensPlayer&&b.ScreensPlayer.ContextHubHelper)try{b.ScreensPlayer.ContextHubHelper.createTargetedComponent(".cq-Screens-video",b.ContextHub).onUpdate(function(a,b){a=b.querySelector("video");b=Array.prototype.slice.call(a.getElementsByTagName("source"));b=d.getPlayableSource(b,a)||a.src;k[a.id]=d.playback.create(a,b)}).activate()}catch(f){console.error("Failed to enable ContextHub on sequence elements",
f.message)}});c(function(){c(".responsivegrid .cq-Screens-video.video:not(.cq-Sequence-item)").each(function(a,b){a=b.getElementsByTagName("video")[0];b=a.getElementsByTagName("source");if(a.src||0!==b.length)b=d.getPlayableSource(b,a)||a.src,d.playback.create(a,b).play()})})})(window,document,window.jQuery,window.CQ.screens.videoComponent);window.CQ=window.CQ||{};window.CQ.screens=window.CQ.screens||{};window.CQ.screens.imageComponent=window.CQ.screens.imageComponent||{};
(function(b,a,c,d,e){d.initImagesInsideSequence=function(){var a=c(".cq-Sequence-item.image");a.on("sequence-element-show",function(a,b,c){a=a.target.getElementsByTagName("div")[0];e.trackStart(a);!1===a.isLoaded?e.trackError(a,"Image not loaded"):(e.trackLoaded(a),b=d.getImageURL(a),c=b.replace(/\/(_jcr_|jcr:)content\/renditions\/.*/,""),e.trackPlaying(a,"IMAGE",b,c))});a.on("sequence-element-hide",function(a){a=a.target.getElementsByTagName("div")[0];e.trackEnded(a)})};d.getImageURL=function(a){var b=
"";if(a.style&&a.style.backgroundImage){b=a.style.backgroundImage;a=b.indexOf("(")+1;var c=-1!==b.indexOf("?")?b.indexOf("?"):b.indexOf(")");b=b.slice(a,c).replace(/['"]/g,"");-1!==b.indexOf("://")&&(b=(new URL(b)).pathname)}else if(a=a.getElementsByTagName("img"),1===a.length&&a[0].src)try{b=(new URL(a[0].src)).pathname}catch(l){b=a[0].src}return b};c(a).one("DOMContentLoaded",function(){c(".cq-Sequence-item.image").each(function(a,b){var e=this.getElementsByTagName("div")[0];e&&(a=d.getImageURL(e),
c("\x3cimg/\x3e").load(a,function(a,d){"error"===d?(e.isLoaded=!1,b.dataset.itemSkip=!0):(e.isLoaded=!0,delete b.dataset.itemSkip);c(this).remove()}))})});c(d.initImagesInsideSequence)})(window,document,window.jQuery,window.CQ.screens.imageComponent,window.CQ.screens.analytics);
(function(b){var a=0;require(["util/ScreensDisplay","window.io"],function(c,d){function e(b){g.addWindow(d.SUB_WINDOWS_PREFIX+ ++a,b.contentWindow)}if(b.querySelector(".cq-Screens-channel--multizone")){var g=c.getWindowIO();g.on("channel-status-ready",function(a,b){g.postMessage("channel-show",{context:"multizone"},b)});window.addEventListener("load",function(){var a=b.querySelectorAll(".parbase iframe");Array.prototype.forEach.call(a,e);g.postMessage("channel-status-ready");g.postMessage("channel-show",
{context:"multizone"})})}})})(document);window.CQ=window.CQ||{};window.CQ.screens=window.CQ.screens||{};window.CQ.screens.textOverlayComponent=window.CQ.screens.textOverlayComponent||{};
(function(b,a,c,d){function e(c){var e=a.querySelector(".cq-Sequence");a.querySelectorAll(".cq-Screens-textOverlay").forEach(function(a){d.safeUpdate(a,c,e,d.isVisible(a),b.ContextHub)})}d.isVisible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)};d.updateContent=function(a,b){a._textOverlayTemplate||(a._textOverlayTemplate=a.innerHTML);try{var c=JSON.parse(a.dataset.contexthubDatabinding)}catch(A){c={}}var d=Object.keys(c);for(var e=a._textOverlayTemplate,g=0;g<d.length;g++){var k=
c[d[g]],x=b.getItem(d[g])||k.defaultValue||"";x=String(x).replace("\x3c","\x26lt;").replace("\x3e","\x26gt;");e=e.replace(new RegExp("{"+k.placeholder+"}","g"),x)}a.innerHTML=e};d.listenForContextHubChanges=function(a,b){b.eventing.on(b.Constants.EVENT_DATA_UPDATE,a,"textOverlayUpdateHandler")};d.safeUpdate=function(a,b,e,l,w){var f=Promise.resolve();b&&"DOMContentLoaded"===b.type||!e||!l||(f=new Promise(function(a){c(e).one("sequence-element-hide",function(){a()})}));return f.then(function(){d.updateContent(a,
w)})};a.addEventListener("DOMContentLoaded",function(a){b.ContextHub&&b.ContextHub.version&&(e(a),d.listenForContextHubChanges(e,b.ContextHub))})})(window,document,window.jQuery,window.CQ.screens.textOverlayComponent);
(function(b,a,c){function d(a,b,d,e,g){var f=function(){a.postMessage(d,e||{},b.dataset.wioId)};g||b.dataset.subSequenceIsInitialized?f.call():(g=c(b).data("beforeSubSequenceInitialized")||[],g.push(f),c(b).data("beforeSubSequenceInitialized",g))}function e(a,b){var e=function(f,g){if(g===b.dataset.wioId){a.removeListener("sequence-state-initialized",e);f&&0===f.items&&(b.parentNode.dataset.itemSkip=!0);b.dataset.strategy&&d(a,b,"sequence-set-strategy",{strategy:b.dataset.strategy},!0);b.dataset.subSequenceIsInitialized=
!0;f=c(b).data("beforeSubSequenceInitialized")||[];for(g=0;g<f.length;g++)f[g].call();c(b).data("beforeSubSequenceInitialized",null)}};a.on("sequence-state-initialized",e);a.postMessage("parent-ready",{},b.dataset.wioId)}var g=0,k=function(a,k){k.each(function(b,d){(b=d.querySelector("iframe"))?(b.dataset.wioId="subsequence-"+ ++g,a.addWindow(b.dataset.wioId,b.contentWindow),e(a,b),c.ajax(b.src,{type:"HEAD",error:function(){d.dataset.itemSkip=!0}})):d.dataset.itemSkip=!0});k.on("sequence-element-show",
function(b,e){var f=c(b.target);b=f.find("iframe").get(0);f=f.closest(".cq-Sequence").data("screens-sequence");var g=parseInt(b.dataset.duration,10);b&&!b.parentNode.dataset.itemSkip?d(a,b,"sequence-start",{duration:g,loopCount:e}):f.next()});k.on("sequence-element-hide",function(b){(b=c(b.target).find("iframe").get(0))&&!b.parentNode.dataset.itemSkip&&d(a,b,"sequence-stop")});var f;k.on("sequence-element-delegate-transition",function(b,d){var e=c(b.target).find("iframe").get(0),g=function(b,c){c===
e.dataset.wioId&&(a.removeListener("sequence-state-cycle-complete",g),d())};a.on("sequence-state-cycle-complete",g);f=g});if(b.ContextHub&&b.ScreensPlayer&&b.ScreensPlayer.ContextHubHelper)try{var m={};b.ScreensPlayer.ContextHubHelper.createTargetedComponent(".cq-Screens-subsequence",b.ContextHub).onInit(function(a,b){b=b.querySelector("iframe");m[a]=b.dataset.wioId}).onUpdate(function(b,c){c=c.querySelector("iframe");a.removeWindow(m[b]);c.dataset.wioId=m[b];a.addWindow(m[b],c.contentWindow);e(a,
c);a.postMessage("sequence-state-initialized",{},m[b])}).onUpdateVisible(function(b,c){a.removeListener("sequence-state-cycle-complete",f)}).activate()}catch(u){console.error("Failed to enable ContextHub on sequence elements",u.message)}};require(["util/ScreensDisplay","window.io"],function(b,d){function e(){var a=c(".cq-Sequence-item.cq-Screens-subsequence");c(".cq-Sequence-item.target .cq-Screens-subsequence").each(function(b,d){a=a.add(c(d).closest(".cq-Sequence-item.target"))});if(0<a.length){var b=
new d;k(b,a)}}"loading"===a.readyState?a.addEventListener("DOMContentLoaded",e):e()})})(window,document,window.jQuery);"object"===typeof module?ICAL=module.exports:"object"!==typeof ICAL&&(this.ICAL={});ICAL.foldLength=75;ICAL.newLineChar="\r\n";
ICAL.helpers={updateTimezones:function(b){var a;if(!b||"vcalendar"!==b.name)return b;var c=b.getAllSubcomponents();var d=[];var e={};for(a=0;a<c.length;a++)if("vtimezone"===c[a].name){var g=c[a].getFirstProperty("tzid").getFirstValue();e[g]=c[a]}else d=d.concat(c[a].getAllProperties());c={};for(a=0;a<d.length;a++)if(g=d[a].getParameter("tzid"))c[g]=!0;for(a in e)e.hasOwnProperty(a)&&!c[a]&&b.removeSubcomponent(e[a]);for(a in c)c.hasOwnProperty(a)&&!e[a]&&ICAL.TimezoneService.has(a)&&b.addSubcomponent(ICAL.TimezoneService.get(a).component);
return b},isStrictlyNaN:function(b){return"number"===typeof b&&isNaN(b)},strictParseInt:function(b){var a=parseInt(b,10);if(ICAL.helpers.isStrictlyNaN(a))throw Error('Could not extract integer from "'+b+'"');return a},formatClassType:function(b,a){if("undefined"!==typeof b)return b instanceof a?b:new a(b)},unescapedIndexOf:function(b,a,c){for(;-1!==(c=b.indexOf(a,c));)if(0<c&&"\\"===b[c-1])c+=1;else return c;return-1},binsearchInsert:function(b,a,c){if(!b.length)return 0;for(var d=0,e=b.length-1,
g,k;d<=e;)if(g=d+Math.floor((e-d)/2),k=c(a,b[g]),0>k)e=g-1;else if(0<k)d=g+1;else break;return 0>k?g:0<k?g+1:g},dumpn:function(b){ICAL.debug&&(ICAL.helpers.dumpn="undefined"!==typeof console&&"log"in console?function(a){console.log(a)}:function(a){dump(a+"\n")},ICAL.helpers.dumpn(b))},clone:function(b,a){if(b&&"object"==typeof b){if(b instanceof Date)return new Date(b.getTime());if("clone"in b)return b.clone();if(Array.isArray(b)){for(var c=[],d=0;d<b.length;d++)c.push(a?ICAL.helpers.clone(b[d],!0):
b[d]);return c}c={};for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=a?ICAL.helpers.clone(b[d],!0):b[d]);return c}return b},foldline:function(b){var a="";for(b=b||"";b.length;)a+=ICAL.newLineChar+" "+b.substr(0,ICAL.foldLength),b=b.substr(ICAL.foldLength);return a.substr(ICAL.newLineChar.length+1)},pad2:function(b){"string"!==typeof b&&("number"===typeof b&&(b=parseInt(b)),b=String(b));switch(b.length){case 0:return"00";case 1:return"0"+b;default:return b}},trunc:function(b){return 0>b?
Math.ceil(b):Math.floor(b)},inherits:function(b,a,c){function d(){}d.prototype=b.prototype;a.prototype=new d;c&&ICAL.helpers.extend(c,a.prototype)},extend:function(b,a){for(var c in b){var d=Object.getOwnPropertyDescriptor(b,c);d&&!Object.getOwnPropertyDescriptor(a,c)&&Object.defineProperty(a,c,d)}return a}};
ICAL.design=function(){function b(b,c){return{matches:/.*/,fromICAL:function(c,d){var e=b;-1!==c.indexOf("\\")&&(d&&(e=new RegExp(e.source+"|\\\\"+d)),c=c.replace(e,a));return c},toICAL:function(a,b){var d=c;b&&(d=new RegExp(d.source+"|"+b));return a.replace(d,function(a){switch(a){case "\\":return"\\\\";case ";":return"\\;";case ",":return"\\,";case "\n":return"\\n";default:return a}})}}}function a(a){switch(a){case "\\\\":return"\\";case "\\;":return";";case "\\,":return",";case "\\n":case "\\N":return"\n";
default:return a}}var c=/\\\\|\\,|\\[Nn]/g,d=/\\|,|\n/g,e={defaultType:"text"},g={defaultType:"text",multiValue:","},k={defaultType:"text",structuredValue:";"},f={defaultType:"integer"},l={defaultType:"date-time",allowedTypes:["date-time","date"]},w={defaultType:"date-time"},m={defaultType:"uri"},u={defaultType:"utc-offset"},x={defaultType:"recur"},A={defaultType:"date-and-or-time",allowedTypes:["date-time","date","text"]},D={categories:g,url:m,version:e,uid:e},y={"boolean":{values:["TRUE","FALSE"],
fromICAL:function(a){switch(a){case "TRUE":return!0;case "FALSE":return!1;default:return!1}},toICAL:function(a){return a?"TRUE":"FALSE"}},float:{matches:/^[+-]?\d+\.\d+$/,fromICAL:function(a){a=parseFloat(a);return ICAL.helpers.isStrictlyNaN(a)?0:a},toICAL:function(a){return String(a)}},integer:{fromICAL:function(a){a=parseInt(a);return ICAL.helpers.isStrictlyNaN(a)?0:a},toICAL:function(a){return String(a)}},"utc-offset":{toICAL:function(a){return 7>a.length?a.substr(0,3)+a.substr(4,2):a.substr(0,
3)+a.substr(4,2)+a.substr(7,2)},fromICAL:function(a){return 6>a.length?a.substr(0,3)+":"+a.substr(3,2):a.substr(0,3)+":"+a.substr(3,2)+":"+a.substr(5,2)},decorate:function(a){return ICAL.UtcOffset.fromString(a)},undecorate:function(a){return a.toString()}}},E=ICAL.helpers.extend(y,{text:b(/\\\\|\\;|\\,|\\[Nn]/g,/\\|;|,|\n/g),uri:{},binary:{decorate:function(a){return ICAL.Binary.fromString(a)},undecorate:function(a){return a.toString()}},"cal-address":{},date:{decorate:function(a,b){return ICAL.Time.fromDateString(a,
b)},undecorate:function(a){return a.toString()},fromICAL:function(a){return a.substr(0,4)+"-"+a.substr(4,2)+"-"+a.substr(6,2)},toICAL:function(a){return 11<a.length?a:a.substr(0,4)+a.substr(5,2)+a.substr(8,2)}},"date-time":{fromICAL:function(a){var b=a.substr(0,4)+"-"+a.substr(4,2)+"-"+a.substr(6,2)+"T"+a.substr(9,2)+":"+a.substr(11,2)+":"+a.substr(13,2);a[15]&&"Z"===a[15]&&(b+="Z");return b},toICAL:function(a){if(19>a.length)return a;var b=a.substr(0,4)+a.substr(5,2)+a.substr(8,5)+a.substr(14,2)+
a.substr(17,2);a[19]&&"Z"===a[19]&&(b+="Z");return b},decorate:function(a,b){return ICAL.Time.fromDateTimeString(a,b)},undecorate:function(a){return a.toString()}},duration:{decorate:function(a){return ICAL.Duration.fromString(a)},undecorate:function(a){return a.toString()}},period:{fromICAL:function(a){a=a.split("/");a[0]=E["date-time"].fromICAL(a[0]);ICAL.Duration.isValueString(a[1])||(a[1]=E["date-time"].fromICAL(a[1]));return a},toICAL:function(a){a[0]=E["date-time"].toICAL(a[0]);ICAL.Duration.isValueString(a[1])||
(a[1]=E["date-time"].toICAL(a[1]));return a.join("/")},decorate:function(a,b){return ICAL.Period.fromJSON(a,b)},undecorate:function(a){return a.toJSON()}},recur:{fromICAL:function(a){return ICAL.Recur._stringToData(a,!0)},toICAL:function(a){var b="",c;for(c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=a[c];"until"==c?d=10<d.length?E["date-time"].toICAL(d):E.date.toICAL(d):"wkst"==c?"number"===typeof d&&(d=ICAL.Recur.numericDayToIcalDay(d)):Array.isArray(d)&&(d=d.join(","));b+=c.toUpperCase()+
"\x3d"+d+";"}return b.substr(0,b.length-1)},decorate:function(a){return ICAL.Recur.fromData(a)},undecorate:function(a){return a.toJSON()}},time:{fromICAL:function(a){if(6>a.length)return a;var b=a.substr(0,2)+":"+a.substr(2,2)+":"+a.substr(4,2);"Z"===a[6]&&(b+="Z");return b},toICAL:function(a){if(8>a.length)return a;var b=a.substr(0,2)+a.substr(3,2)+a.substr(6,2);"Z"===a[8]&&(b+="Z");return b}}});f=ICAL.helpers.extend(D,{action:e,attach:{defaultType:"uri"},attendee:{defaultType:"cal-address"},calscale:e,
"class":e,comment:e,completed:w,contact:e,created:w,description:e,dtend:l,dtstamp:w,dtstart:l,due:l,duration:{defaultType:"duration"},exdate:{defaultType:"date-time",allowedTypes:["date-time","date"],multiValue:","},exrule:x,freebusy:{defaultType:"period",multiValue:","},geo:{defaultType:"float",structuredValue:";"},"last-modified":w,location:e,method:e,organizer:{defaultType:"cal-address"},"percent-complete":f,priority:f,prodid:e,"related-to":e,repeat:f,rdate:{defaultType:"date-time",allowedTypes:["date-time",
"date","period"],multiValue:",",detectType:function(a){return-1!==a.indexOf("/")?"period":-1===a.indexOf("T")?"date":"date-time"}},"recurrence-id":l,resources:g,"request-status":k,rrule:x,sequence:f,status:e,summary:e,transp:e,trigger:{defaultType:"duration",allowedTypes:["duration","date-time"]},tzoffsetfrom:u,tzoffsetto:u,tzurl:m,tzid:e,tzname:e});var M=ICAL.helpers.extend(y,{text:b(c,d),uri:b(c,d),date:{decorate:function(a){return ICAL.VCardTime.fromDateAndOrTimeString(a,"date")},undecorate:function(a){return a.toString()},
fromICAL:function(a){return 8==a.length?E.date.fromICAL(a):"-"==a[0]&&6==a.length?a.substr(0,4)+"-"+a.substr(4):a},toICAL:function(a){return 10==a.length?E.date.toICAL(a):"-"==a[0]&&7==a.length?a.substr(0,4)+a.substr(5):a}},time:{decorate:function(a){return ICAL.VCardTime.fromDateAndOrTimeString("T"+a,"time")},undecorate:function(a){return a.toString()},fromICAL:function(a){var b=M.time._splitZone(a,!0);a=b[0];b=b[1];6==b.length?b=b.substr(0,2)+":"+b.substr(2,2)+":"+b.substr(4,2):4==b.length&&"-"!=
b[0]?b=b.substr(0,2)+":"+b.substr(2,2):5==b.length&&(b=b.substr(0,3)+":"+b.substr(3,2));5!=a.length||"-"!=a[0]&&"+"!=a[0]||(a=a.substr(0,3)+":"+a.substr(3));return b+a},toICAL:function(a){var b=M.time._splitZone(a);a=b[0];b=b[1];8==b.length?b=b.substr(0,2)+b.substr(3,2)+b.substr(6,2):5==b.length&&"-"!=b[0]?b=b.substr(0,2)+b.substr(3,2):6==b.length&&(b=b.substr(0,3)+b.substr(4,2));6!=a.length||"-"!=a[0]&&"+"!=a[0]||(a=a.substr(0,3)+a.substr(4));return b+a},_splitZone:function(a,b){var c=a.length-1;
b=a.length-(b?5:6);var d=a[b];"Z"==a[c]?(d=a[c],a=a.substr(0,c)):6<a.length&&("-"==d||"+"==d)?(d=a.substr(b),a=a.substr(0,b)):d="";return[d,a]}},"date-time":{decorate:function(a){return ICAL.VCardTime.fromDateAndOrTimeString(a,"date-time")},undecorate:function(a){return a.toString()},fromICAL:function(a){return M["date-and-or-time"].fromICAL(a)},toICAL:function(a){return M["date-and-or-time"].toICAL(a)}},"date-and-or-time":{decorate:function(a){return ICAL.VCardTime.fromDateAndOrTimeString(a,"date-and-or-time")},
undecorate:function(a){return a.toString()},fromICAL:function(a){a=a.split("T");return(a[0]?M.date.fromICAL(a[0]):"")+(a[1]?"T"+M.time.fromICAL(a[1]):"")},toICAL:function(a){a=a.split("T");return M.date.toICAL(a[0])+(a[1]?"T"+M.time.toICAL(a[1]):"")}},timestamp:E["date-time"],"language-tag":{matches:/^[a-zA-Z0-9-]+$/}});c=ICAL.helpers.extend(D,{adr:{defaultType:"text",structuredValue:";",multiValue:","},anniversary:A,bday:A,caladruri:m,caluri:m,clientpidmap:k,email:e,fburl:m,fn:e,gender:k,geo:m,impp:m,
key:m,kind:e,lang:{defaultType:"language-tag"},logo:m,member:m,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:g,note:e,org:{defaultType:"text",structuredValue:";"},photo:m,related:m,rev:{defaultType:"timestamp"},role:e,sound:m,source:m,tel:{defaultType:"uri",allowedTypes:["uri","text"]},title:e,tz:{defaultType:"text",allowedTypes:["text","utc-offset","uri"]},xml:e});y=ICAL.helpers.extend(y,{binary:E.binary,date:M.date,"date-time":M["date-time"],"phone-number":{},uri:E.uri,text:E.text,
time:E.time,vcard:E.text,"utc-offset":{toICAL:function(a){return a.substr(0,7)},fromICAL:function(a){return a.substr(0,7)},decorate:function(a){return ICAL.UtcOffset.fromString(a)},undecorate:function(a){return a.toString()}}});e=ICAL.helpers.extend(D,{fn:e,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:g,photo:{defaultType:"binary",allowedTypes:["binary","uri"]},bday:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(a){return-1===a.indexOf("T")?"date":
"date-time"}},adr:{defaultType:"text",structuredValue:";",multiValue:","},label:e,tel:{defaultType:"phone-number"},email:e,mailer:e,tz:{defaultType:"utc-offset",allowedTypes:["utc-offset","text"]},geo:{defaultType:"float",structuredValue:";"},title:e,role:e,logo:{defaultType:"binary",allowedTypes:["binary","uri"]},agent:{defaultType:"vcard",allowedTypes:["vcard","text","uri"]},org:k,note:g,prodid:e,rev:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(a){return-1===a.indexOf("T")?
"date":"date-time"}},"sort-string":e,sound:{defaultType:"binary",allowedTypes:["binary","uri"]},class:e,key:{defaultType:"binary",allowedTypes:["binary","text"]}});g={value:E,param:{cutype:{values:["INDIVIDUAL","GROUP","RESOURCE","ROOM","UNKNOWN"],allowXName:!0,allowIanaToken:!0},"delegated-from":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},"delegated-to":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},encoding:{values:["8BIT","BASE64"]},fbtype:{values:["FREE",
"BUSY","BUSY-UNAVAILABLE","BUSY-TENTATIVE"],allowXName:!0,allowIanaToken:!0},member:{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},partstat:{values:"NEEDS-ACTION ACCEPTED DECLINED TENTATIVE DELEGATED COMPLETED IN-PROCESS".split(" "),allowXName:!0,allowIanaToken:!0},range:{values:["THISLANDFUTURE"]},related:{values:["START","END"]},reltype:{values:["PARENT","CHILD","SIBLING"],allowXName:!0,allowIanaToken:!0},role:{values:["REQ-PARTICIPANT","CHAIR","OPT-PARTICIPANT","NON-PARTICIPANT"],
allowXName:!0,allowIanaToken:!0},rsvp:{values:["TRUE","FALSE"]},"sent-by":{valueType:"cal-address"},tzid:{matches:/^\//},value:{values:"binary boolean cal-address date date-time duration float integer period recur text time uri utc-offset".split(" "),allowXName:!0,allowIanaToken:!0}},property:f};k={value:M,param:{type:{valueType:"text",multiValue:","},value:{values:"text uri date time date-time date-and-or-time timestamp boolean integer float utc-offset language-tag".split(" "),allowXName:!0,allowIanaToken:!0}},
property:c};e={value:y,param:{type:{valueType:"text",multiValue:","},value:{values:"text uri date date-time phone-number time boolean integer float utc-offset vcard binary".split(" "),allowXName:!0,allowIanaToken:!0}},property:e};var Q={defaultSet:g,defaultType:"unknown",components:{vcard:k,vcard3:e,vevent:g,vtodo:g,vjournal:g,valarm:g,vtimezone:g,daylight:g,standard:g},icalendar:g,vcard:k,vcard3:e,getDesignSet:function(a){return a&&a in Q.components?Q.components[a]:Q.defaultSet}};return Q}();
ICAL.stringify=function(){function b(a){"string"==typeof a[0]&&(a=[a]);for(var c=0,d=a.length,e="";c<d;c++)e+=b.component(a[c])+"\r\n";return e}var a=ICAL.design,c=ICAL.helpers;b.component=function(c,d){var e=c[0].toUpperCase(),f="BEGIN:"+e+"\r\n",g=c[1],w=0,m=g.length,u=c[0];"vcard"===u&&0<c[1].length&&("version"!==c[1][0][0]||"4.0"!==c[1][0][3])&&(u="vcard3");for(d=d||a.getDesignSet(u);w<m;w++)f+=b.property(g[w],d)+"\r\n";c=c[2]||[];g=0;for(w=c.length;g<w;g++)f+=b.component(c[g],d)+"\r\n";return f+
("END:"+e)};b.property=function(c,d,k){var e=c[0].toUpperCase(),g=c[0],w=c[1],m;for(m in w){var u=w[m];if(w.hasOwnProperty(m)){var x=m in d.param&&d.param[m].multiValue;x&&Array.isArray(u)?(d.param[m].multiValueSeparateDQuote&&(x='"'+x+'"'),u=u.map(b._rfc6868Unescape),u=b.multiValue(u,x,"unknown",null,d)):u=b._rfc6868Unescape(u);e+=";"+m.toUpperCase();e+="\x3d"+b.propertyValue(u)}}if(3===c.length)return e+":";w=c[2];d||(d=a.defaultSet);u=m=x=!1;g in d.property?(g=d.property[g],"multiValue"in g&&(x=
g.multiValue),"structuredValue"in g&&Array.isArray(c[3])&&(m=g.structuredValue),"defaultType"in g?w===g.defaultType&&(u=!0):"unknown"===w&&(u=!0)):"unknown"===w&&(u=!0);u||(e+=";VALUE\x3d"+w.toUpperCase());e+=":";e=x&&m?e+b.multiValue(c[3],m,w,x,d,m):x?e+b.multiValue(c.slice(3),x,w,null,d,!1):m?e+b.multiValue(c[3],m,w,null,d,m):e+b.value(c[3],w,d,!1);return k?e:ICAL.helpers.foldline(e)};b.propertyValue=function(a){return-1===c.unescapedIndexOf(a,",")&&-1===c.unescapedIndexOf(a,":")&&-1===c.unescapedIndexOf(a,
";")?a:'"'+a+'"'};b.multiValue=function(a,c,d,f,l,w){for(var e="",g=a.length,k=0;k<g;k++)e=f&&Array.isArray(a[k])?e+b.multiValue(a[k],f,d,null,l,w):e+b.value(a[k],d,l,w),k!==g-1&&(e+=c);return e};b.value=function(a,b,c,d){return b in c.value&&"toICAL"in c.value[b]?c.value[b].toICAL(a,d):a};b._rfc6868Unescape=function(a){return a.replace(/[\n^"]/g,function(a){return d[a]})};var d={'"':"^'","\n":"^n","^":"^^"};return b}();
ICAL.parse=function(){function b(a){this.message=a;this.name="ParserError";try{throw Error();}catch(f){f.stack&&(a=f.stack.split("\n"),a.shift(),this.stack=a.join("\n"))}}function a(c){var d={},e=d.component=[];d.stack=[e];a._eachLine(c,function(b,c){a._handleContentLine(c,d)});if(1<d.stack.length)throw new b("invalid ical body. component began but did not end");d=null;return 1==e.length?e[0]:e}var c=/[^ \t]/,d=ICAL.design,e=ICAL.helpers;b.prototype=Error.prototype;a.property=function(b,c){c={component:[[],
[]],designSet:c||d.defaultSet};a._handleContentLine(b,c);return c.component[1][0]};a.component=function(b){return a(b)};a.ParserError=b;a._handleContentLine=function(c,e){var f=c.indexOf(":"),g=c.indexOf(";"),k={};-1!==g&&-1!==f&&g>f&&(g=-1);if(-1!==g){var u=c.substring(0,g).toLowerCase();f=a._parseParameters(c.substring(g),0,e.designSet);if(-1==f[2])throw new b("Invalid parameters in '"+c+"'");k=f[0];g=f[1].length+f[2]+g;if(-1!==(f=c.substring(g).indexOf(":")))c=c.substring(g+f+1);else throw new b("Missing parameter value in '"+
c+"'");}else if(-1!==f){u=c.substring(0,f).toLowerCase();c=c.substring(f+1);if("begin"===u){u=[c.toLowerCase(),[],[]];1===e.stack.length?e.component.push(u):e.component[2].push(u);e.stack.push(e.component);e.component=u;e.designSet||(e.designSet=d.getDesignSet(e.component[0]));return}if("end"===u){e.component=e.stack.pop();return}}else throw new b('invalid line (no token ";" or ":") "'+c+'"');var x;f=g=!1;if(u in e.designSet.property){var A=e.designSet.property[u];"multiValue"in A&&(g=A.multiValue);
"structuredValue"in A&&(f=A.structuredValue);c&&"detectType"in A&&(x=A.detectType(c))}x||(x="value"in k?k.value.toLowerCase():A?A.defaultType:"unknown");delete k.value;g&&f?(c=a._parseMultiValue(c,f,x,[],g,e.designSet,f),k=[u,k,x,c]):g?(k=[u,k,x],a._parseMultiValue(c,g,x,k,null,e.designSet,!1)):(c=f?a._parseMultiValue(c,f,x,[],null,e.designSet,f):a._parseValue(c,x,e.designSet,!1),k=[u,k,x,c]);"vcard"!==e.component[0]||0!==e.component[1].length||"version"===u&&"4.0"===c||(e.designSet=d.getDesignSet("vcard3"));
e.component[1].push(k)};a._parseValue=function(a,b,c,d){return b in c.value&&"fromICAL"in c.value[b]?c.value[b].fromICAL(a,d):a};a._parseParameters=function(c,d,g){var f=d,k=0;d={};for(var l,x,A=-1,D,y,E;!1!==k&&-1!==(k=e.unescapedIndexOf(c,"\x3d",k+1));){l=c.substr(f+1,k-f-1);if(0==l.length)throw new b("Empty parameter name in '"+c+"'");l=l.toLowerCase();D=l in g.param&&g.param[l].valueType?g.param[l].valueType:"text";l in g.param&&(y=g.param[l].multiValue,g.param[l].multiValueSeparateDQuote&&(E=
a._rfc6868Escape('"'+y+'"')));if('"'===c[k+1]){A=k+2;k=e.unescapedIndexOf(c,'"',A);if(y&&-1!=k)for(f=!0;f;)c[k+1]==y&&'"'==c[k+2]?k=e.unescapedIndexOf(c,'"',k+3):f=!1;if(-1===k)throw new b('invalid line (no matching double quote) "'+c+'"');x=c.substr(A,k-A);f=e.unescapedIndexOf(c,";",k);-1===f&&(k=!1)}else A=k+1,x=e.unescapedIndexOf(c,";",A),k=e.unescapedIndexOf(c,":",A),-1!==k&&x>k?(x=k,k=!1):-1===x?(x=-1===k?c.length:k,k=!1):k=f=x,x=c.substr(A,x-A);x=a._rfc6868Escape(x);d[l]=y?a._parseMultiValue(x,
E||y,D,[],null,g):a._parseValue(x,D,g)}return[d,x,A]};a._rfc6868Escape=function(a){return a.replace(/\^['n^]/g,function(a){return g[a]})};var g={"^'":'"',"^n":"\n","^^":"^"};a._parseMultiValue=function(b,c,d,g,m,u,x){var f,k=0;if(0===c.length)return b;for(;-1!==(f=e.unescapedIndexOf(b,c,k));)k=b.substr(k,f-k),k=m?a._parseMultiValue(k,m,d,[],null,u,x):a._parseValue(k,d,u,x),g.push(k),k=f+c.length;k=b.substr(k);k=m?a._parseMultiValue(k,m,d,[],null,u,x):a._parseValue(k,d,u,x);g.push(k);return 1==g.length?
g[0]:g};a._eachLine=function(a,b){var d=a.length,e=a.search(c);do{var f=a.indexOf("\n",e)+1;var g=1<f&&"\r"===a[f-2]?2:1;0===f&&(f=d,g=0);var k=a[e];if(" "===k||"\t"===k)A+=a.substr(e+1,f-e-(g+1));else{A&&b(null,A);var A=a.substr(e,f-e-g)}e=f}while(f!==d);A=A.trim();A.length&&b(null,A)};return a}();
ICAL.Component=function(){function b(a,b){"string"===typeof a&&(a=[a,[],[]]);this.jCal=a;this.parent=b||null}b.prototype={_hydratedPropertyCount:0,_hydratedComponentCount:0,get name(){return this.jCal[0]},get _designSet(){return this.parent&&this.parent._designSet||ICAL.design.getDesignSet(this.name)},_hydrateComponent:function(a){this._components||(this._components=[],this._hydratedComponentCount=0);if(this._components[a])return this._components[a];var c=new b(this.jCal[2][a],this);this._hydratedComponentCount++;
return this._components[a]=c},_hydrateProperty:function(a){this._properties||(this._properties=[],this._hydratedPropertyCount=0);if(this._properties[a])return this._properties[a];var b=new ICAL.Property(this.jCal[1][a],this);this._hydratedPropertyCount++;return this._properties[a]=b},getFirstSubcomponent:function(a){if(a)for(var b=0,d=this.jCal[2],e=d.length;b<e;b++){if(d[b][0]===a)return this._hydrateComponent(b)}else if(this.jCal[2].length)return this._hydrateComponent(0);return null},getAllSubcomponents:function(a){var b=
this.jCal[2].length,d=0;if(a){for(var e=this.jCal[2],g=[];d<b;d++)a===e[d][0]&&g.push(this._hydrateComponent(d));return g}if(!this._components||this._hydratedComponentCount!==b)for(;d<b;d++)this._hydrateComponent(d);return this._components||[]},hasProperty:function(a){for(var b=this.jCal[1],d=b.length,e=0;e<d;e++)if(b[e][0]===a)return!0;return!1},getFirstProperty:function(a){if(a)for(var b=0,d=this.jCal[1],e=d.length;b<e;b++){if(d[b][0]===a)return this._hydrateProperty(b)}else if(this.jCal[1].length)return this._hydrateProperty(0);
return null},getFirstPropertyValue:function(a){return(a=this.getFirstProperty(a))?a.getFirstValue():null},getAllProperties:function(a){var b=this.jCal[1].length,d=0;if(a){for(var e=this.jCal[1],g=[];d<b;d++)a===e[d][0]&&g.push(this._hydrateProperty(d));return g}if(!this._properties||this._hydratedPropertyCount!==b)for(;d<b;d++)this._hydrateProperty(d);return this._properties||[]},_removeObjectByIndex:function(a,b,d){b=b||[];if(b[d]){var c=b[d];"parent"in c&&(c.parent=null)}b.splice(d,1);this.jCal[a].splice(d,
1)},_removeObject:function(a,b,d){var c=0,g=this.jCal[a],k=g.length;b=this[b];if("string"===typeof d)for(;c<k;c++){if(g[c][0]===d)return this._removeObjectByIndex(a,b,c),!0}else if(b)for(;c<k;c++)if(b[c]&&b[c]===d)return this._removeObjectByIndex(a,b,c),!0;return!1},_removeAllObjects:function(a,b,d){b=this[b];for(var c=this.jCal[a],g=c.length-1;0<=g;g--)d&&c[g][0]!==d||this._removeObjectByIndex(a,b,g)},addSubcomponent:function(a){this._components||(this._components=[],this._hydratedComponentCount=
0);a.parent&&a.parent.removeSubcomponent(a);var b=this.jCal[2].push(a.jCal);this._components[b-1]=a;this._hydratedComponentCount++;a.parent=this;return a},removeSubcomponent:function(a){(a=this._removeObject(2,"_components",a))&&this._hydratedComponentCount--;return a},removeAllSubcomponents:function(a){a=this._removeAllObjects(2,"_components",a);this._hydratedComponentCount=0;return a},addProperty:function(a){if(!(a instanceof ICAL.Property))throw new TypeError("must instance of ICAL.Property");
this._properties||(this._properties=[],this._hydratedPropertyCount=0);a.parent&&a.parent.removeProperty(a);var b=this.jCal[1].push(a.jCal);this._properties[b-1]=a;this._hydratedPropertyCount++;a.parent=this;return a},addPropertyWithValue:function(a,b){a=new ICAL.Property(a);a.setValue(b);this.addProperty(a);return a},updatePropertyWithValue:function(a,b){var c=this.getFirstProperty(a);c?c.setValue(b):c=this.addPropertyWithValue(a,b);return c},removeProperty:function(a){(a=this._removeObject(1,"_properties",
a))&&this._hydratedPropertyCount--;return a},removeAllProperties:function(a){a=this._removeAllObjects(1,"_properties",a);this._hydratedPropertyCount=0;return a},toJSON:function(){return this.jCal},toString:function(){return ICAL.stringify.component(this.jCal,this._designSet)}};b.fromString=function(a){return new b(ICAL.parse.component(a))};return b}();
ICAL.Property=function(){function b(b,d){this._parent=d||null;"string"===typeof b?(this.jCal=[b,{},a.defaultType],this.jCal[2]=this.getDefaultType()):this.jCal=b;this._updateType()}var a=ICAL.design;b.prototype={get type(){return this.jCal[2]},get name(){return this.jCal[0]},get parent(){return this._parent},set parent(b){var c=!this._parent||b&&b._designSet!=this._parent._designSet;this._parent=b;this.type==a.defaultType&&c&&(this.jCal[2]=this.getDefaultType(),this._updateType());return b},get _designSet(){return this.parent?
this.parent._designSet:a.defaultSet},_updateType:function(){var a=this._designSet;this.type in a.value&&(this.isDecorated="decorate"in a.value[this.type]?!0:!1,this.name in a.property&&(this.isMultiValue="multiValue"in a.property[this.name],this.isStructuredValue="structuredValue"in a.property[this.name]))},_hydrateValue:function(a){return this._values&&this._values[a]?this._values[a]:this.jCal.length<=3+a?null:this.isDecorated?(this._values||(this._values=[]),this._values[a]=this._decorate(this.jCal[3+
a])):this.jCal[3+a]},_decorate:function(a){return this._designSet.value[this.type].decorate(a,this)},_undecorate:function(a){return this._designSet.value[this.type].undecorate(a,this)},_setDecoratedValue:function(a,b){this._values||(this._values=[]);"object"===typeof a&&"icaltype"in a?(this.jCal[3+b]=this._undecorate(a),this._values[b]=a):(this.jCal[3+b]=a,this._values[b]=this._decorate(a))},getParameter:function(a){if(a in this.jCal[1])return this.jCal[1][a]},getFirstParameter:function(a){a=this.getParameter(a);
return Array.isArray(a)?a[0]:a},setParameter:function(a,b){var c=a.toLowerCase();"string"===typeof b&&c in this._designSet.param&&"multiValue"in this._designSet.param[c]&&(b=[b]);this.jCal[1][a]=b},removeParameter:function(a){delete this.jCal[1][a]},getDefaultType:function(){var b=this.jCal[0],d=this._designSet;return b in d.property&&(b=d.property[b],"defaultType"in b)?b.defaultType:a.defaultType},resetType:function(a){this.removeAllValues();this.jCal[2]=a;this._updateType()},getFirstValue:function(){return this._hydrateValue(0)},
getValues:function(){var a=this.jCal.length-3;if(1>a)return[];for(var b=0,e=[];b<a;b++)e[b]=this._hydrateValue(b);return e},removeAllValues:function(){this._values&&(this._values.length=0);this.jCal.length=3},setValues:function(a){if(!this.isMultiValue)throw Error(this.name+": does not not support mulitValue.\noverride isMultiValue");var b=a.length,c=0;this.removeAllValues();0<b&&"object"===typeof a[0]&&"icaltype"in a[0]&&this.resetType(a[0].icaltype);if(this.isDecorated)for(;c<b;c++)this._setDecoratedValue(a[c],
c);else for(;c<b;c++)this.jCal[3+c]=a[c]},setValue:function(a){this.removeAllValues();"object"===typeof a&&"icaltype"in a&&this.resetType(a.icaltype);this.isDecorated?this._setDecoratedValue(a,0):this.jCal[3]=a},toJSON:function(){return this.jCal},toICALString:function(){return ICAL.stringify.property(this.jCal,this._designSet,!0)}};b.fromString=function(a,d){return new b(ICAL.parse.property(a,d))};return b}();
ICAL.UtcOffset=function(){function b(a){this.fromData(a)}b.prototype={hours:0,minutes:0,factor:1,icaltype:"utc-offset",clone:function(){return ICAL.UtcOffset.fromSeconds(this.toSeconds())},fromData:function(a){if(a)for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this._normalize()},fromSeconds:function(a){var b=Math.abs(a);this.factor=0>a?-1:1;this.hours=ICAL.helpers.trunc(b/3600);b-=3600*this.hours;this.minutes=ICAL.helpers.trunc(b/60);return this},toSeconds:function(){return this.factor*(60*this.minutes+
3600*this.hours)},compare:function(a){var b=this.toSeconds();a=a.toSeconds();return(b>a)-(a>b)},_normalize:function(){for(var a=this.toSeconds(),b=this.factor;-43200>a;)a+=97200;for(;50400<a;)a-=97200;this.fromSeconds(a);0==a&&(this.factor=b)},toICALString:function(){return ICAL.design.icalendar.value["utc-offset"].toICAL(this.toString())},toString:function(){return(1==this.factor?"+":"-")+ICAL.helpers.pad2(this.hours)+":"+ICAL.helpers.pad2(this.minutes)}};b.fromString=function(a){var b={};b.factor=
"+"===a[0]?1:-1;b.hours=ICAL.helpers.strictParseInt(a.substr(1,2));b.minutes=ICAL.helpers.strictParseInt(a.substr(4,2));return new ICAL.UtcOffset(b)};b.fromSeconds=function(a){var c=new b;c.fromSeconds(a);return c};return b}();
ICAL.Binary=function(){function b(a){this.value=a}b.prototype={icaltype:"binary",decodeValue:function(){return this._b64_decode(this.value)},setEncodedValue:function(a){this.value=this._b64_encode(a)},_b64_encode:function(a){var b=0,d=0,e=[];if(!a)return a;do{var g=a.charCodeAt(b++);var k=a.charCodeAt(b++);var f=a.charCodeAt(b++);var l=g<<16|k<<8|f;g=l>>18&63;k=l>>12&63;f=l>>6&63;l&=63;e[d++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(k)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(l)}while(b<a.length);b=e.join("");a=a.length%3;return(a?b.slice(0,a-3):b)+"\x3d\x3d\x3d".slice(a||3)},_b64_decode:function(a){var b=0,d=0,e=[];if(!a)return a;a+="";do{var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(a.charAt(b++));var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(a.charAt(b++));
var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(a.charAt(b++));var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(a.charAt(b++));var w=g<<18|k<<12|f<<6|l;g=w>>16&255;k=w>>8&255;w&=255;64==f?e[d++]=String.fromCharCode(g):64==l?e[d++]=String.fromCharCode(g,k):e[d++]=String.fromCharCode(g,k,w)}while(b<a.length);return e.join("")},toString:function(){return this.value}};b.fromString=function(a){return new b(a)};return b}();
(function(){ICAL.Period=function(b){this.wrappedJSObject=this;if(b&&"start"in b){if(b.start&&!(b.start instanceof ICAL.Time))throw new TypeError(".start must be an instance of ICAL.Time");this.start=b.start}if(b&&b.end&&b.duration)throw Error("cannot accept both end and duration");if(b&&"end"in b){if(b.end&&!(b.end instanceof ICAL.Time))throw new TypeError(".end must be an instance of ICAL.Time");this.end=b.end}if(b&&"duration"in b){if(b.duration&&!(b.duration instanceof ICAL.Duration))throw new TypeError(".duration must be an instance of ICAL.Duration");
this.duration=b.duration}};ICAL.Period.prototype={start:null,end:null,duration:null,icalclass:"icalperiod",icaltype:"period",clone:function(){return ICAL.Period.fromData({start:this.start?this.start.clone():null,end:this.end?this.end.clone():null,duration:this.duration?this.duration.clone():null})},getDuration:function(){return this.duration?this.duration:this.end.subtractDate(this.start)},getEnd:function(){if(this.end)return this.end;var b=this.start.clone();b.addDuration(this.duration);return b},
toString:function(){return this.start+"/"+(this.end||this.duration)},toJSON:function(){return[this.start.toString(),(this.end||this.duration).toString()]},toICALString:function(){return this.start.toICALString()+"/"+(this.end||this.duration).toICALString()}};ICAL.Period.fromString=function(b,a){var c=b.split("/");if(2!==c.length)throw Error('Invalid string value: "'+b+'" must contain a "/" char.');b={start:ICAL.Time.fromDateTimeString(c[0],a)};c=c[1];ICAL.Duration.isValueString(c)?b.duration=ICAL.Duration.fromString(c):
b.end=ICAL.Time.fromDateTimeString(c,a);return new ICAL.Period(b)};ICAL.Period.fromData=function(b){return new ICAL.Period(b)};ICAL.Period.fromJSON=function(b,a){return ICAL.Duration.isValueString(b[1])?ICAL.Period.fromData({start:ICAL.Time.fromDateTimeString(b[0],a),duration:ICAL.Duration.fromString(b[1])}):ICAL.Period.fromData({start:ICAL.Time.fromDateTimeString(b[0],a),end:ICAL.Time.fromDateTimeString(b[1],a)})}})();
(function(){var b=/([PDWHMTS]{1,1})/;ICAL.Duration=function(a){this.wrappedJSObject=this;this.fromData(a)};ICAL.Duration.prototype={weeks:0,days:0,hours:0,minutes:0,seconds:0,isNegative:!1,icalclass:"icalduration",icaltype:"duration",clone:function(){return ICAL.Duration.fromData(this)},toSeconds:function(){var a=this.seconds+60*this.minutes+3600*this.hours+86400*this.days+604800*this.weeks;return this.isNegative?-a:a},fromSeconds:function(a){var b=Math.abs(a);this.isNegative=0>a;this.days=ICAL.helpers.trunc(b/
86400);0==this.days%7?(this.weeks=this.days/7,this.days=0):this.weeks=0;b-=86400*(this.days+7*this.weeks);this.hours=ICAL.helpers.trunc(b/3600);b-=3600*this.hours;this.minutes=ICAL.helpers.trunc(b/60);this.seconds=b-=60*this.minutes;return this},fromData:function(a){var b="weeks days hours minutes seconds isNegative".split(" "),d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d];this[e]=a&&e in a?a[e]:0}},reset:function(){this.isNegative=!1;this.seconds=this.minutes=this.hours=this.days=this.weeks=0},
compare:function(a){var b=this.toSeconds();a=a.toSeconds();return(b>a)-(b<a)},normalize:function(){this.fromSeconds(this.toSeconds())},toString:function(){if(0==this.toSeconds())return"PT0S";var a="";this.isNegative&&(a+="-");a+="P";this.weeks&&(a+=this.weeks+"W");this.days&&(a+=this.days+"D");if(this.hours||this.minutes||this.seconds)a+="T",this.hours&&(a+=this.hours+"H"),this.minutes&&(a+=this.minutes+"M"),this.seconds&&(a+=this.seconds+"S");return a},toICALString:function(){return this.toString()}};
ICAL.Duration.fromSeconds=function(a){return(new ICAL.Duration).fromSeconds(a)};ICAL.Duration.isValueString=function(a){return"P"===a[0]||"P"===a[1]};ICAL.Duration.fromString=function(a){for(var c,d=Object.create(null),e=0;-1!==(c=a.search(b));){var g=a[c],k=a.substr(0,c);a=a.substr(c+1);c=e;a:{e=void 0;var f=d;switch(g){case "P":f.isNegative=k&&"-"===k?!0:!1;break;case "D":e="days";break;case "W":e="weeks";break;case "H":e="hours";break;case "M":e="minutes";break;case "S":e="seconds";break;default:e=
0;break a}if(e){if(!k&&0!==k)throw Error('invalid duration value: Missing number before "'+g+'"');var l=parseInt(k,10);if(ICAL.helpers.isStrictlyNaN(l))throw Error('invalid duration value: Invalid number "'+k+'" before "'+g+'"');f[e]=l}e=1}e=c+e}if(2>e)throw Error('invalid duration value: Not enough duration components in "'+a+'"');return new ICAL.Duration(d)};ICAL.Duration.fromData=function(a){return new ICAL.Duration(a)}})();
(function(){var b=["tzid","location","tznames","latitude","longitude"];ICAL.Timezone=function(a){this.wrappedJSObject=this;this.fromData(a)};ICAL.Timezone.prototype={tzid:"",location:"",tznames:"",latitude:0,longitude:0,component:null,expandedUntilYear:0,icalclass:"icaltimezone",fromData:function(a){this.expandedUntilYear=0;this.changes=[];if(a instanceof ICAL.Component)this.component=a;else{if(a&&"component"in a)if("string"==typeof a.component){var c=ICAL.parse(a.component);this.component=new ICAL.Component(c)}else this.component=
a.component instanceof ICAL.Component?a.component:null;for(var d in b)b.hasOwnProperty(d)&&(c=b[d],a&&c in a&&(this[c]=a[c]))}this.component instanceof ICAL.Component&&!this.tzid&&(this.tzid=this.component.getFirstPropertyValue("tzid"));return this},utcOffset:function(a){if(this==ICAL.Timezone.utcTimezone||this==ICAL.Timezone.localTimezone)return 0;this._ensureCoverage(a.year);if(!this.changes.length)return 0;a={year:a.year,month:a.month,day:a.day,hour:a.hour,minute:a.minute,second:a.second};for(var b=
this._findNearbyChange(a),d=-1,e=1;;){var g=ICAL.helpers.clone(this.changes[b],!0);g.utcOffset<g.prevUtcOffset?ICAL.Timezone.adjust_change(g,0,0,0,g.utcOffset):ICAL.Timezone.adjust_change(g,0,0,0,g.prevUtcOffset);0<=ICAL.Timezone._compare_change_fn(a,g)?d=b:e=-1;if(-1==e&&-1!=d)break;b+=e;if(0>b)return 0;if(b>=this.changes.length)break}b=this.changes[d];0>b.utcOffset-b.prevUtcOffset&&0<d&&(e=ICAL.helpers.clone(b,!0),ICAL.Timezone.adjust_change(e,0,0,0,e.prevUtcOffset),0>ICAL.Timezone._compare_change_fn(a,
e)&&(a=this.changes[d-1],0!=b.is_daylight&&0==a.is_daylight&&(b=a)));return b.utcOffset},_findNearbyChange:function(a){a=ICAL.helpers.binsearchInsert(this.changes,a,ICAL.Timezone._compare_change_fn);return a>=this.changes.length?this.changes.length-1:a},_ensureCoverage:function(a){if(-1==ICAL.Timezone._minimumExpansionYear){var b=ICAL.Time.now();ICAL.Timezone._minimumExpansionYear=b.year}b=a;b<ICAL.Timezone._minimumExpansionYear&&(b=ICAL.Timezone._minimumExpansionYear);b+=ICAL.Timezone.EXTRA_COVERAGE;
b>ICAL.Timezone.MAX_YEAR&&(b=ICAL.Timezone.MAX_YEAR);if(!this.changes.length||this.expandedUntilYear<a){a=this.component.getAllSubcomponents();for(var d=a.length,e=0;e<d;e++)this._expandComponent(a[e],b,this.changes);this.changes.sort(ICAL.Timezone._compare_change_fn);this.expandedUntilYear=b}},_expandComponent:function(a,b,d){function c(a){return a.factor*(3600*a.hours+60*a.minutes)}function g(){var b={};b.is_daylight="daylight"==a.name;b.utcOffset=c(a.getFirstProperty("tzoffsetto").getFirstValue());
b.prevUtcOffset=c(a.getFirstProperty("tzoffsetfrom").getFirstValue());return b}if(!a.hasProperty("dtstart")||!a.hasProperty("tzoffsetto")||!a.hasProperty("tzoffsetfrom"))return null;var k=a.getFirstProperty("dtstart").getFirstValue();if(a.hasProperty("rrule")||a.hasProperty("rdate")){var f=a.getAllProperties("rdate"),l;for(l in f)if(f.hasOwnProperty(l)){var w=f[l].getFirstValue();var m=g();m.year=w.year;m.month=w.month;m.day=w.day;w.isDate?(m.hour=k.hour,m.minute=k.minute,m.second=k.second,k.zone!=
ICAL.Timezone.utcTimezone&&ICAL.Timezone.adjust_change(m,0,0,0,-m.prevUtcOffset)):(m.hour=w.hour,m.minute=w.minute,m.second=w.second,w.zone!=ICAL.Timezone.utcTimezone&&ICAL.Timezone.adjust_change(m,0,0,0,-m.prevUtcOffset));d.push(m)}if(f=a.getFirstProperty("rrule"))for(f=f.getFirstValue(),m=g(),f.until&&f.until.zone==ICAL.Timezone.utcTimezone&&(f.until.adjust(0,0,0,m.prevUtcOffset),f.until.zone=ICAL.Timezone.localTimezone),k=f.iterator(k);f=k.next();){m=g();if(f.year>b||!f)break;m.year=f.year;m.month=
f.month;m.day=f.day;m.hour=f.hour;m.minute=f.minute;m.second=f.second;m.isDate=f.isDate;ICAL.Timezone.adjust_change(m,0,0,0,-m.prevUtcOffset);d.push(m)}}else m=g(),m.year=k.year,m.month=k.month,m.day=k.day,m.hour=k.hour,m.minute=k.minute,m.second=k.second,ICAL.Timezone.adjust_change(m,0,0,0,-m.prevUtcOffset),d.push(m);return d},toString:function(){return this.tznames?this.tznames:this.tzid}};ICAL.Timezone._compare_change_fn=function(a,b){return a.year<b.year?-1:a.year>b.year?1:a.month<b.month?-1:
a.month>b.month?1:a.day<b.day?-1:a.day>b.day?1:a.hour<b.hour?-1:a.hour>b.hour?1:a.minute<b.minute?-1:a.minute>b.minute?1:a.second<b.second?-1:a.second>b.second?1:0};ICAL.Timezone.convert_time=function(a,b,d){if(a.isDate||b.tzid==d.tzid||b==ICAL.Timezone.localTimezone||d==ICAL.Timezone.localTimezone)return a.zone=d,a;b=b.utcOffset(a);a.adjust(0,0,0,-b);b=d.utcOffset(a);a.adjust(0,0,0,b);return null};ICAL.Timezone.fromData=function(a){return(new ICAL.Timezone).fromData(a)};ICAL.Timezone.utcTimezone=
ICAL.Timezone.fromData({tzid:"UTC"});ICAL.Timezone.localTimezone=ICAL.Timezone.fromData({tzid:"floating"});ICAL.Timezone.adjust_change=function(a,b,d,e,g){return ICAL.Time.prototype.adjust.call(a,b,d,e,g,a)};ICAL.Timezone._minimumExpansionYear=-1;ICAL.Timezone.MAX_YEAR=2035;ICAL.Timezone.EXTRA_COVERAGE=5})();
ICAL.TimezoneService=function(){var b,a={reset:function(){b=Object.create(null);var a=ICAL.Timezone.utcTimezone;b.Z=a;b.UTC=a;b.GMT=a},has:function(a){return!!b[a]},get:function(a){return b[a]},register:function(a,d){a instanceof ICAL.Component&&"vtimezone"===a.name&&(d=new ICAL.Timezone(a),a=d.tzid);if(d instanceof ICAL.Timezone)b[a]=d;else throw new TypeError("timezone must be ICAL.Timezone or ICAL.Component");},remove:function(a){return delete b[a]}};a.reset();return a}();
(function(){ICAL.Time=function(b,a){this.wrappedJSObject=this;var c=this._time=Object.create(null);c.year=0;c.month=1;c.day=1;c.hour=0;c.minute=0;c.second=0;c.isDate=!1;this.fromData(b,a)};ICAL.Time._dowCache={};ICAL.Time._wnCache={};ICAL.Time.prototype={icalclass:"icaltime",_cachedUnixTime:null,get icaltype(){return this.isDate?"date":"date-time"},zone:null,_pendingNormalization:!1,clone:function(){return new ICAL.Time(this._time,this.zone)},reset:function(){this.fromData(ICAL.Time.epochTime);this.zone=
ICAL.Timezone.utcTimezone},resetTo:function(b,a,c,d,e,g,k){this.fromData({year:b,month:a,day:c,hour:d,minute:e,second:g,zone:k})},fromJSDate:function(b,a){b?a?(this.zone=ICAL.Timezone.utcTimezone,this.year=b.getUTCFullYear(),this.month=b.getUTCMonth()+1,this.day=b.getUTCDate(),this.hour=b.getUTCHours(),this.minute=b.getUTCMinutes(),this.second=b.getUTCSeconds()):(this.zone=ICAL.Timezone.localTimezone,this.year=b.getFullYear(),this.month=b.getMonth()+1,this.day=b.getDate(),this.hour=b.getHours(),this.minute=
b.getMinutes(),this.second=b.getSeconds()):this.reset();this._cachedUnixTime=null;return this},fromData:function(b,a){if(b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&"icaltype"!==c&&(this[c]=b[c]);a&&(this.zone=a);!b||"isDate"in b?b&&"isDate"in b&&(this.isDate=b.isDate):this.isDate=!("hour"in b);b&&"timezone"in b&&(this.zone=ICAL.TimezoneService.get(b.timezone)||ICAL.Timezone.localTimezone);b&&"zone"in b&&(this.zone=b.zone);this.zone||(this.zone=ICAL.Timezone.localTimezone);this._cachedUnixTime=
null;return this},dayOfWeek:function(){var b=(this.year<<9)+(this.month<<5)+this.day;if(b in ICAL.Time._dowCache)return ICAL.Time._dowCache[b];var a=this.year-(3>this.month?1:0),c=this.day+a+ICAL.helpers.trunc(26*(this.month+(3>this.month?12:0)+1)/10)+ICAL.helpers.trunc(a/4);c+=6*ICAL.helpers.trunc(a/100)+ICAL.helpers.trunc(a/400);c=(c+6)%7+1;return ICAL.Time._dowCache[b]=c},dayOfYear:function(){var b=ICAL.Time.isLeapYear(this.year)?1:0;return ICAL.Time.daysInYearPassedMonth[b][this.month-1]+this.day},
startOfWeek:function(b){b=b||ICAL.Time.SUNDAY;var a=this.clone();a.day-=(this.dayOfWeek()+7-b)%7;a.isDate=!0;a.hour=0;a.minute=0;a.second=0;return a},endOfWeek:function(b){b=b||ICAL.Time.SUNDAY;var a=this.clone();a.day+=(7-this.dayOfWeek()+b-ICAL.Time.SUNDAY)%7;a.isDate=!0;a.hour=0;a.minute=0;a.second=0;return a},startOfMonth:function(){var b=this.clone();b.day=1;b.isDate=!0;b.hour=0;b.minute=0;b.second=0;return b},endOfMonth:function(){var b=this.clone();b.day=ICAL.Time.daysInMonth(b.month,b.year);
b.isDate=!0;b.hour=0;b.minute=0;b.second=0;return b},startOfYear:function(){var b=this.clone();b.day=1;b.month=1;b.isDate=!0;b.hour=0;b.minute=0;b.second=0;return b},endOfYear:function(){var b=this.clone();b.day=31;b.month=12;b.isDate=!0;b.hour=0;b.minute=0;b.second=0;return b},startDoyWeek:function(b){b=b||ICAL.Time.SUNDAY;b=this.dayOfWeek()-b;0>b&&(b+=7);return this.dayOfYear()-b},getDominicalLetter:function(){return ICAL.Time.getDominicalLetter(this.year)},nthWeekDay:function(b,a){var c=ICAL.Time.daysInMonth(this.month,
this.year),d=0,e=this.clone();0<=a?(e.day=1,0!=a&&a--,d=e.day,c=e.dayOfWeek(),c=b-c,0>c&&(c+=7),d=d+c-b):(e.day=c,e=e.dayOfWeek(),a++,b=e-b,0>b&&(b+=7),b=c-b);return d+(b+7*a)},isNthWeekDay:function(b,a){var c=this.dayOfWeek();return 0===a&&c===b||this.nthWeekDay(b,a)===this.day?!0:!1},weekNumber:function(b){var a=(this.year<<12)+(this.month<<8)+(this.day<<3)+b;if(a in ICAL.Time._wnCache)return ICAL.Time._wnCache[a];var c=this.clone();c.isDate=!0;var d=this.year;if(12==c.month&&25<c.day){var e=ICAL.Time.weekOneStarts(d+
1,b);0>c.compare(e)&&(e=ICAL.Time.weekOneStarts(d,b))}else e=ICAL.Time.weekOneStarts(d,b),0>c.compare(e)&&(e=ICAL.Time.weekOneStarts(--d,b));b=c.subtractDate(e).toSeconds()/86400;b=ICAL.helpers.trunc(b/7)+1;return ICAL.Time._wnCache[a]=b},addDuration:function(b){var a=b.isNegative?-1:1,c=this.second,d=this.minute,e=this.hour,g=this.day;c+=a*b.seconds;d+=a*b.minutes;e+=a*b.hours;g+=a*b.days;g+=7*a*b.weeks;this.second=c;this.minute=d;this.hour=e;this.day=g;this._cachedUnixTime=null},subtractDate:function(b){var a=
this.toUnixTime()+this.utcOffset();b=b.toUnixTime()+b.utcOffset();return ICAL.Duration.fromSeconds(a-b)},subtractDateTz:function(b){var a=this.toUnixTime();b=b.toUnixTime();return ICAL.Duration.fromSeconds(a-b)},compare:function(b){var a=this.toUnixTime();b=b.toUnixTime();return a>b?1:b>a?-1:0},compareDateOnlyTz:function(b,a){var c=this.convertToZone(a);b=b.convertToZone(a);return 0!=(a=ICAL.Time._cmp_attr(c,b,"year"))||0!=(a=ICAL.Time._cmp_attr(c,b,"month"))?a:a=ICAL.Time._cmp_attr(c,b,"day")},convertToZone:function(b){var a=
this.clone(),c=this.zone.tzid==b.tzid;this.isDate||c||ICAL.Timezone.convert_time(a,this.zone,b);a.zone=b;return a},utcOffset:function(){return this.zone==ICAL.Timezone.localTimezone||this.zone==ICAL.Timezone.utcTimezone?0:this.zone.utcOffset(this)},toICALString:function(){var b=this.toString();return 10<b.length?ICAL.design.icalendar.value["date-time"].toICAL(b):ICAL.design.icalendar.value.date.toICAL(b)},toString:function(){var b=this.year+"-"+ICAL.helpers.pad2(this.month)+"-"+ICAL.helpers.pad2(this.day);
this.isDate||(b+="T"+ICAL.helpers.pad2(this.hour)+":"+ICAL.helpers.pad2(this.minute)+":"+ICAL.helpers.pad2(this.second),this.zone===ICAL.Timezone.utcTimezone&&(b+="Z"));return b},toJSDate:function(){return this.zone==ICAL.Timezone.localTimezone?this.isDate?new Date(this.year,this.month-1,this.day):new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,0):new Date(1E3*this.toUnixTime())},_normalize:function(){this._time.isDate&&(this._time.hour=0,this._time.minute=0,this._time.second=
0);this.adjust(0,0,0,0);return this},adjust:function(b,a,c,d,e){var g=0,k=0;e=e||this._time;e.isDate||(d=e.second+d,e.second=d%60,d=ICAL.helpers.trunc(d/60),0>e.second&&(e.second+=60,d--),c=e.minute+c+d,e.minute=c%60,c=ICAL.helpers.trunc(c/60),0>e.minute&&(e.minute+=60,c--),a=e.hour+a+c,e.hour=a%24,g=ICAL.helpers.trunc(a/24),0>e.hour&&(e.hour+=24,g--));12<e.month?k=ICAL.helpers.trunc((e.month-1)/12):1>e.month&&(k=ICAL.helpers.trunc(e.month/12)-1);e.year+=k;e.month-=12*k;b=e.day+b+g;if(0<b)for(;;){k=
ICAL.Time.daysInMonth(e.month,e.year);if(b<=k)break;e.month++;12<e.month&&(e.year++,e.month=1);b-=k}else for(;0>=b;)1==e.month?(e.year--,e.month=12):e.month--,b+=ICAL.Time.daysInMonth(e.month,e.year);e.day=b;this._cachedUnixTime=null;return this},fromUnixTime:function(b){this.zone=ICAL.Timezone.utcTimezone;var a=ICAL.Time.epochTime.clone();a.adjust(0,0,0,b);this.year=a.year;this.month=a.month;this.day=a.day;this.hour=a.hour;this.minute=a.minute;this.second=Math.floor(a.second);this._cachedUnixTime=
null},toUnixTime:function(){if(null!==this._cachedUnixTime)return this._cachedUnixTime;var b=this.utcOffset();return this._cachedUnixTime=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second-b)/1E3},toJSON:function(){for(var b="year month day hour minute second isDate".split(" "),a=Object.create(null),c=0,d=b.length,e;c<d;c++)e=b[c],a[e]=this[e];this.zone&&(a.timezone=this.zone.tzid);return a}};(function(){function b(a){Object.defineProperty(ICAL.Time.prototype,a,{get:function(){this._pendingNormalization&&
(this._normalize(),this._pendingNormalization=!1);return this._time[a]},set:function(b){"isDate"===a&&b&&!this._time.isDate&&this.adjust(0,0,0,0);this._cachedUnixTime=null;this._pendingNormalization=!0;return this._time[a]=b}})}"defineProperty"in Object&&(b("year"),b("month"),b("day"),b("hour"),b("minute"),b("second"),b("isDate"))})();ICAL.Time.daysInMonth=function(b,a){var c=30;if(1>b||12<b)return c;c=[0,31,28,31,30,31,30,31,31,30,31,30,31][b];2==b&&(c+=ICAL.Time.isLeapYear(a));return c};ICAL.Time.isLeapYear=
function(b){return 1752>=b?0==b%4:0==b%4&&0!=b%100||0==b%400};ICAL.Time.fromDayOfYear=function(b,a){var c=new ICAL.Time;c.auto_normalize=!1;var d=ICAL.Time.isLeapYear(a)?1:0;if(1>b)return a--,d=ICAL.Time.isLeapYear(a)?1:0,b+=ICAL.Time.daysInYearPassedMonth[d][12],ICAL.Time.fromDayOfYear(b,a);if(b>ICAL.Time.daysInYearPassedMonth[d][12])return d=ICAL.Time.isLeapYear(a)?1:0,b-=ICAL.Time.daysInYearPassedMonth[d][12],a++,ICAL.Time.fromDayOfYear(b,a);c.year=a;c.isDate=!0;for(a=11;0<=a;a--)if(b>ICAL.Time.daysInYearPassedMonth[d][a]){c.month=
a+1;c.day=b-ICAL.Time.daysInYearPassedMonth[d][a];break}c.auto_normalize=!0;return c};ICAL.Time.fromStringv2=function(b){return new ICAL.Time({year:parseInt(b.substr(0,4),10),month:parseInt(b.substr(5,2),10),day:parseInt(b.substr(8,2),10),isDate:!0})};ICAL.Time.fromDateString=function(b){return new ICAL.Time({year:ICAL.helpers.strictParseInt(b.substr(0,4)),month:ICAL.helpers.strictParseInt(b.substr(5,2)),day:ICAL.helpers.strictParseInt(b.substr(8,2)),isDate:!0})};ICAL.Time.fromDateTimeString=function(b,
a){if(19>b.length)throw Error('invalid date-time value: "'+b+'"');var c;b[19]&&"Z"===b[19]?c="Z":a&&(c=a.getParameter("tzid"));return new ICAL.Time({year:ICAL.helpers.strictParseInt(b.substr(0,4)),month:ICAL.helpers.strictParseInt(b.substr(5,2)),day:ICAL.helpers.strictParseInt(b.substr(8,2)),hour:ICAL.helpers.strictParseInt(b.substr(11,2)),minute:ICAL.helpers.strictParseInt(b.substr(14,2)),second:ICAL.helpers.strictParseInt(b.substr(17,2)),timezone:c})};ICAL.Time.fromString=function(b){return 10<
b.length?ICAL.Time.fromDateTimeString(b):ICAL.Time.fromDateString(b)};ICAL.Time.fromJSDate=function(b,a){return(new ICAL.Time).fromJSDate(b,a)};ICAL.Time.fromData=function(b,a){return(new ICAL.Time).fromData(b,a)};ICAL.Time.now=function(){return ICAL.Time.fromJSDate(new Date,!1)};ICAL.Time.weekOneStarts=function(b,a){b=ICAL.Time.fromData({year:b,month:1,day:1,isDate:!0});var c=b.dayOfWeek();a=a||ICAL.Time.DEFAULT_WEEK_START;c>ICAL.Time.THURSDAY&&(b.day+=7);a>ICAL.Time.THURSDAY&&(b.day-=7);b.day-=
c-a;return b};ICAL.Time.getDominicalLetter=function(b){var a=(b+(b/4|0)+(b/400|0)-(b/100|0)-1)%7;return ICAL.Time.isLeapYear(b)?"GFEDCBA"[(a+6)%7]+"GFEDCBA"[a]:"GFEDCBA"[a]};ICAL.Time.epochTime=ICAL.Time.fromData({year:1970,month:1,day:1,hour:0,minute:0,second:0,isDate:!1,timezone:"Z"});ICAL.Time._cmp_attr=function(b,a,c){return b[c]>a[c]?1:b[c]<a[c]?-1:0};ICAL.Time.daysInYearPassedMonth=[[0,31,59,90,120,151,181,212,243,273,304,334,365],[0,31,60,91,121,152,182,213,244,274,305,335,366]];ICAL.Time.SUNDAY=
1;ICAL.Time.MONDAY=2;ICAL.Time.TUESDAY=3;ICAL.Time.WEDNESDAY=4;ICAL.Time.THURSDAY=5;ICAL.Time.FRIDAY=6;ICAL.Time.SATURDAY=7;ICAL.Time.DEFAULT_WEEK_START=ICAL.Time.MONDAY})();
(function(){ICAL.VCardTime=function(b,a,c){this.wrappedJSObject=this;var d=this._time=Object.create(null);d.year=null;d.month=null;d.day=null;d.hour=null;d.minute=null;d.second=null;this.icaltype=c||"date-and-or-time";this.fromData(b,a)};ICAL.helpers.inherits(ICAL.Time,ICAL.VCardTime,{icalclass:"vcardtime",icaltype:"date-and-or-time",zone:null,clone:function(){return new ICAL.VCardTime(this._time,this.zone,this.icaltype)},_normalize:function(){return this},utcOffset:function(){return this.zone instanceof
ICAL.UtcOffset?this.zone.toSeconds():ICAL.Time.prototype.utcOffset.apply(this,arguments)},toICALString:function(){return ICAL.design.vcard.value[this.icaltype].toICAL(this.toString())},toString:function(){var b=ICAL.helpers.pad2,a=this.year,c=this.month,d=this.day,e=this.hour,g=this.minute,k=this.second,f=null!==c,l=null!==d,w=null!==e,m=null!==g,u=null!==k;a=(null!==a?b(a)+(f||l?"-":""):f||l?"--":"")+(f?b(c):"")+(l?"-"+b(d):"");b=(w?b(e):"-")+(w&&m?":":"")+(m?b(g):"")+(w||m?"":"-")+(m&&u?":":"")+
(u?b(k):"");e=this.zone===ICAL.Timezone.utcTimezone?"Z":this.zone instanceof ICAL.UtcOffset?this.zone.toString():this.zone===ICAL.Timezone.localTimezone?"":this.zone instanceof ICAL.Timezone?ICAL.UtcOffset.fromSeconds(this.zone.utcOffset(this)).toString():"";switch(this.icaltype){case "time":return b+e;case "date-and-or-time":case "date-time":return a+("--"==b?"":"T"+b+e);case "date":return a}return null}});ICAL.VCardTime.fromDateAndOrTimeString=function(b,a){function c(a,b,c){return a?ICAL.helpers.strictParseInt(a.substr(b,
c)):null}var d=b.split("T");b=d[0];var e=(d=d[1])?ICAL.design.vcard.value.time._splitZone(d):[];d=e[0];e=e[1];var g=b?b.length:0,k=e?e.length:0,f=b&&"-"==b[0]&&"-"==b[1],l=e&&"-"==e[0];b={year:f?null:c(b,0,4),month:!f||4!=g&&7!=g?7==g?c(b,5,2):10==g?c(b,5,2):null:c(b,2,2),day:5==g?c(b,3,2):7==g&&f?c(b,5,2):10==g?c(b,8,2):null,hour:l?null:c(e,0,2),minute:l&&3==k?c(e,1,2):4<k?l?c(e,1,2):c(e,3,2):null,second:4==k?c(e,2,2):6==k?c(e,4,2):8==k?c(e,6,2):null};d="Z"==d?ICAL.Timezone.utcTimezone:d&&":"==d[3]?
ICAL.UtcOffset.fromString(d):null;return new ICAL.VCardTime(b,d,a)}})();
(function(){function b(a,b,c,d){var e=d;"+"===d[0]&&(e=d.substr(1));e=ICAL.helpers.strictParseInt(e);if(void 0!==b&&d<b)throw Error(a+': invalid value "'+d+'" must be \x3e '+b);if(void 0!==c&&d>c)throw Error(a+': invalid value "'+d+'" must be \x3c '+b);return e}var a={SU:ICAL.Time.SUNDAY,MO:ICAL.Time.MONDAY,TU:ICAL.Time.TUESDAY,WE:ICAL.Time.WEDNESDAY,TH:ICAL.Time.THURSDAY,FR:ICAL.Time.FRIDAY,SA:ICAL.Time.SATURDAY},c={},d;for(d in a)a.hasOwnProperty(d)&&(c[a[d]]=d);ICAL.Recur=function(a){this.wrappedJSObject=
this;this.parts={};a&&"object"===typeof a&&this.fromData(a)};ICAL.Recur.prototype={parts:null,interval:1,wkst:ICAL.Time.MONDAY,until:null,count:null,freq:null,icalclass:"icalrecur",icaltype:"recur",iterator:function(a){return new ICAL.RecurIterator({rule:this,dtstart:a})},clone:function(){return new ICAL.Recur(this.toJSON())},isFinite:function(){return!(!this.count&&!this.until)},isByCount:function(){return!(!this.count||this.until)},addComponent:function(a,b){a=a.toUpperCase();a in this.parts?this.parts[a].push(b):
this.parts[a]=[b]},setComponent:function(a,b){this.parts[a.toUpperCase()]=b.slice()},getComponent:function(a){a=a.toUpperCase();return a in this.parts?this.parts[a].slice():[]},getNextOccurrence:function(a,b){a=this.iterator(a);do var c=a.next();while(c&&0>=c.compare(b));c&&b.zone&&(c.zone=b.zone);return c},fromData:function(a){for(var b in a){var c=b.toUpperCase();c in l?Array.isArray(a[b])?this.parts[c]=a[b]:this.parts[c]=[a[b]]:this[b]=a[b]}this.interval&&"number"!=typeof this.interval&&f.INTERVAL(this.interval,
this);this.wkst&&"number"!=typeof this.wkst&&(this.wkst=ICAL.Recur.icalDayToNumericDay(this.wkst));!this.until||this.until instanceof ICAL.Time||(this.until=ICAL.Time.fromString(this.until))},toJSON:function(){var a=Object.create(null);a.freq=this.freq;this.count&&(a.count=this.count);1<this.interval&&(a.interval=this.interval);for(var b in this.parts)if(this.parts.hasOwnProperty(b)){var c=this.parts[b];Array.isArray(c)&&1==c.length?a[b.toLowerCase()]=c[0]:a[b.toLowerCase()]=ICAL.helpers.clone(this.parts[b])}this.until&&
(a.until=this.until.toString());"wkst"in this&&this.wkst!==ICAL.Time.DEFAULT_WEEK_START&&(a.wkst=ICAL.Recur.numericDayToIcalDay(this.wkst));return a},toString:function(){var a="FREQ\x3d"+this.freq;this.count&&(a+=";COUNT\x3d"+this.count);1<this.interval&&(a+=";INTERVAL\x3d"+this.interval);for(var b in this.parts)this.parts.hasOwnProperty(b)&&(a+=";"+b+"\x3d"+this.parts[b]);this.until&&(a+=";UNTIL\x3d"+this.until.toICALString());"wkst"in this&&this.wkst!==ICAL.Time.DEFAULT_WEEK_START&&(a+=";WKST\x3d"+
ICAL.Recur.numericDayToIcalDay(this.wkst));return a}};ICAL.Recur.icalDayToNumericDay=function(b){return a[b]};ICAL.Recur.numericDayToIcalDay=function(a){return c[a]};var e=/^(SU|MO|TU|WE|TH|FR|SA)$/,g=/^([+-])?(5[0-3]|[1-4][0-9]|[1-9])?(SU|MO|TU|WE|TH|FR|SA)$/,k="SECONDLY MINUTELY HOURLY DAILY WEEKLY MONTHLY YEARLY".split(" "),f={FREQ:function(a,b,c){if(-1!==k.indexOf(a))b.freq=a;else throw Error('invalid frequency "'+a+'" expected: "'+k.join(", ")+'"');},COUNT:function(a,b,c){b.count=ICAL.helpers.strictParseInt(a)},
INTERVAL:function(a,b,c){b.interval=ICAL.helpers.strictParseInt(a);1>b.interval&&(b.interval=1)},UNTIL:function(a,b,c){b.until=10<a.length?ICAL.design.icalendar.value["date-time"].fromICAL(a):ICAL.design.icalendar.value.date.fromICAL(a);c||(b.until=ICAL.Time.fromString(b.until))},WKST:function(a,b,c){if(e.test(a))b.wkst=ICAL.Recur.icalDayToNumericDay(a);else throw Error('invalid WKST value "'+a+'"');}},l={BYSECOND:b.bind(this,"BYSECOND",0,60),BYMINUTE:b.bind(this,"BYMINUTE",0,59),BYHOUR:b.bind(this,
"BYHOUR",0,23),BYDAY:function(a){if(g.test(a))return a;throw Error('invalid BYDAY value "'+a+'"');},BYMONTHDAY:b.bind(this,"BYMONTHDAY",-31,31),BYYEARDAY:b.bind(this,"BYYEARDAY",-366,366),BYWEEKNO:b.bind(this,"BYWEEKNO",-53,53),BYMONTH:b.bind(this,"BYMONTH",0,12),BYSETPOS:b.bind(this,"BYSETPOS",-366,366)};ICAL.Recur.fromString=function(a){a=ICAL.Recur._stringToData(a,!1);return new ICAL.Recur(a)};ICAL.Recur.fromData=function(a){return new ICAL.Recur(a)};ICAL.Recur._stringToData=function(a,b){var c=
Object.create(null);a=a.split(";");for(var d=a.length,e=0;e<d;e++){var g=a[e].split("\x3d"),k=g[0].toUpperCase(),m=g[0].toLowerCase(),w=b?m:k;g=g[1];if(k in l){m=g.split(",");g=0;for(var Q=m.length;g<Q;g++)m[g]=l[k](m[g]);c[w]=1==m.length?m[0]:m}else if(k in f)f[k](g,c,b);else c[m]=g}return c}})();
ICAL.RecurIterator=function(){function b(a){this.fromData(a)}b.prototype={completed:!1,rule:null,dtstart:null,last:null,occurrence_number:0,by_indices:null,initialized:!1,by_data:null,days:null,days_index:0,fromData:function(a){this.rule=ICAL.helpers.formatClassType(a.rule,ICAL.Recur);if(!this.rule)throw Error("iterator requires a (ICAL.Recur) rule");this.dtstart=ICAL.helpers.formatClassType(a.dtstart,ICAL.Time);if(!this.dtstart)throw Error("iterator requires a (ICAL.Time) dtstart");this.by_data=
a.by_data?a.by_data:ICAL.helpers.clone(this.rule.parts,!0);a.occurrence_number&&(this.occurrence_number=a.occurrence_number);this.days=a.days||[];a.last&&(this.last=ICAL.helpers.formatClassType(a.last,ICAL.Time));this.by_indices=a.by_indices;this.by_indices||(this.by_indices={BYSECOND:0,BYMINUTE:0,BYHOUR:0,BYDAY:0,BYMONTH:0,BYWEEKNO:0,BYMONTHDAY:0});(this.initialized=a.initialized||!1)||this.init()},init:function(){this.initialized=!0;this.last=this.dtstart.clone();var a=this.by_data;"BYDAY"in a&&
this.sort_byday_rules(a.BYDAY,this.rule.wkst);if("BYYEARDAY"in a&&("BYMONTH"in a||"BYWEEKNO"in a||"BYMONTHDAY"in a||"BYDAY"in a))throw Error("Invalid BYYEARDAY rule");if("BYWEEKNO"in a&&"BYMONTHDAY"in a)throw Error("BYWEEKNO does not fit to BYMONTHDAY");if("MONTHLY"==this.rule.freq&&("BYYEARDAY"in a||"BYWEEKNO"in a))throw Error("For MONTHLY recurrences neither BYYEARDAY nor BYWEEKNO may appear");if("WEEKLY"==this.rule.freq&&("BYYEARDAY"in a||"BYMONTHDAY"in a))throw Error("For WEEKLY recurrences neither BYMONTHDAY nor BYYEARDAY may appear");
if("YEARLY"!=this.rule.freq&&"BYYEARDAY"in a)throw Error("BYYEARDAY may only appear in YEARLY rules");this.last.second=this.setup_defaults("BYSECOND","SECONDLY",this.dtstart.second);this.last.minute=this.setup_defaults("BYMINUTE","MINUTELY",this.dtstart.minute);this.last.hour=this.setup_defaults("BYHOUR","HOURLY",this.dtstart.hour);this.last.day=this.setup_defaults("BYMONTHDAY","DAILY",this.dtstart.day);this.last.month=this.setup_defaults("BYMONTH","MONTHLY",this.dtstart.month);if("WEEKLY"==this.rule.freq)if("BYDAY"in
a){var b=this.ruleDayOfWeek(a.BYDAY[0]);b=b[1];a=b-this.last.dayOfWeek();if(this.last.dayOfWeek()<b&&0<=a||0>a)this.last.day+=a}else b=ICAL.Recur.numericDayToIcalDay(this.dtstart.dayOfWeek()),a.BYDAY=[b];if("YEARLY"==this.rule.freq){for(;;){this.expand_year_days(this.last.year);if(0<this.days.length)break;this.increment_year(this.rule.interval)}this._nextByYearDay()}if("MONTHLY"==this.rule.freq&&this.has_by_data("BYDAY")){var d=null,e=this.last.clone(),g=ICAL.Time.daysInMonth(this.last.month,this.last.year),
k;for(k in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(k)){this.last=e.clone();b=this.ruleDayOfWeek(this.by_data.BYDAY[k]);a=b[0];b=b[1];var f=this.last.nthWeekDay(b,a);if(6<=a||-6>=a)throw Error("Malformed values in BYDAY part");if(f>g||0>=f){if(d&&d.month==e.month)continue;for(;f>g||0>=f;)this.increment_month(),g=ICAL.Time.daysInMonth(this.last.month,this.last.year),f=this.last.nthWeekDay(b,a)}this.last.day=f;if(!d||0>this.last.compare(d))d=this.last.clone()}this.last=d.clone();this.has_by_data("BYMONTHDAY")&&
this._byDayAndMonthDay(!0);if(this.last.day>g||0==this.last.day)throw Error("Malformed values in BYDAY part");}else this.has_by_data("BYMONTHDAY")&&0>this.last.day&&(g=ICAL.Time.daysInMonth(this.last.month,this.last.year),this.last.day=g+this.last.day+1)},next:function(){var a=this.last?this.last.clone():null;if(this.rule.count&&this.occurrence_number>=this.rule.count||this.rule.until&&0<this.last.compare(this.rule.until))return this.completed=!0,null;if(0==this.occurrence_number&&0<=this.last.compare(this.dtstart))return this.occurrence_number++,
this.last;do{var b=1;switch(this.rule.freq){case "SECONDLY":this.next_second();break;case "MINUTELY":this.next_minute();break;case "HOURLY":this.next_hour();break;case "DAILY":this.next_day();break;case "WEEKLY":this.next_week();break;case "MONTHLY":b=this.next_month();break;case "YEARLY":this.next_year();break;default:return null}}while(!this.check_contracting_rules()||0>this.last.compare(this.dtstart)||!b);if(0==this.last.compare(a))throw Error("Same occurrence found twice, protecting you from death by recursion");
if(this.rule.until&&0<this.last.compare(this.rule.until))return this.completed=!0,null;this.occurrence_number++;return this.last},next_second:function(){return this.next_generic("BYSECOND","SECONDLY","second","minute")},increment_second:function(a){return this.increment_generic(a,"second",60,"minute")},next_minute:function(){return this.next_generic("BYMINUTE","MINUTELY","minute","hour","next_second")},increment_minute:function(a){return this.increment_generic(a,"minute",60,"hour")},next_hour:function(){return this.next_generic("BYHOUR",
"HOURLY","hour","monthday","next_minute")},increment_hour:function(a){this.increment_generic(a,"hour",24,"monthday")},next_day:function(){var a="DAILY"==this.rule.freq;if(0==this.next_hour())return 0;a?this.increment_monthday(this.rule.interval):this.increment_monthday(1);return 0},next_week:function(){var a=0;if(0==this.next_weekday_by_week())return a;this.has_by_data("BYWEEKNO")?(++this.by_indices.BYWEEKNO,this.by_indices.BYWEEKNO==this.by_data.BYWEEKNO.length&&(this.by_indices.BYWEEKNO=0,a=1),
this.last.month=1,this.last.day=1,this.last.day+=7*this.by_data.BYWEEKNO[this.by_indices.BYWEEKNO],a&&this.increment_year(1)):this.increment_monthday(7*this.rule.interval);return a},normalizeByMonthDayRules:function(a,b,d){a=ICAL.Time.daysInMonth(b,a);b=[];for(var c=0,g=d.length,k;c<g;c++)if(k=d[c],!(Math.abs(k)>a)){if(0>k)k=a+(k+1);else if(0===k)continue;-1===b.indexOf(k)&&b.push(k)}return b.sort(function(a,b){return a-b})},_byDayAndMonthDay:function(a){function b(){m=ICAL.Time.daysInMonth(u.last.month,
u.last.year);e=u.normalizeByMonthDayRules(u.last.year,u.last.month,u.by_data.BYMONTHDAY);for(f=e.length;e[k]<=x&&(!a||e[k]!=x)&&k<f-1;)k++}function d(){x=0;u.increment_month();k=0;b()}var e,g=this.by_data.BYDAY,k=0,f,l=g.length,w=0,m,u=this,x=this.last.day;b();a&&--x;for(var A=48;!w&&A;){A--;var D=x+1;if(D>m)d();else{var y=e[k++];if(y>=D){x=y;for(D=0;D<l;D++){var E=this.ruleDayOfWeek(g[D]);y=E[0];E=E[1];this.last.day=x;if(this.last.isNthWeekDay(E,y)){w=1;break}}w||k!==f||d()}else d()}}if(0>=A)throw Error("Malformed values in BYDAY combined with BYMONTHDAY parts");
return w},next_month:function(){var a=1;if(0==this.next_hour())return a;if(this.has_by_data("BYDAY")&&this.has_by_data("BYMONTHDAY"))a=this._byDayAndMonthDay();else if(this.has_by_data("BYDAY")){var b=ICAL.Time.daysInMonth(this.last.month,this.last.year),d=0,e=0;if(this.has_by_data("BYSETPOS")){a=this.last.day;for(var g=1;g<=b;g++)this.last.day=g,this.is_day_in_byday(this.last)&&(e++,g<=a&&d++);this.last.day=a}a=0;for(g=this.last.day+1;g<=b;g++)if(this.last.day=g,this.is_day_in_byday(this.last)&&
(!this.has_by_data("BYSETPOS")||this.check_set_position(++d)||this.check_set_position(d-e-1))){a=1;break}if(g>b)if(this.last.day=1,this.increment_month(),this.is_day_in_byday(this.last)){if(!this.has_by_data("BYSETPOS")||this.check_set_position(1))a=1}else a=0}else this.has_by_data("BYMONTHDAY")?(this.by_indices.BYMONTHDAY++,this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length&&(this.by_indices.BYMONTHDAY=0,this.increment_month()),b=ICAL.Time.daysInMonth(this.last.month,this.last.year),g=this.by_data.BYMONTHDAY[this.by_indices.BYMONTHDAY],
0>g&&(g=b+g+1),g>b?(this.last.day=1,a=this.is_day_in_byday(this.last)):this.last.day=g):(this.increment_month(),b=ICAL.Time.daysInMonth(this.last.month,this.last.year),this.by_data.BYMONTHDAY[0]>b?a=0:this.last.day=this.by_data.BYMONTHDAY[0]);return a},next_weekday_by_week:function(){var a=0;if(0==this.next_hour())return a;if(!this.has_by_data("BYDAY"))return 1;for(;;){var b=new ICAL.Time;this.by_indices.BYDAY++;this.by_indices.BYDAY==Object.keys(this.by_data.BYDAY).length&&(this.by_indices.BYDAY=
0,a=1);var d=this.ruleDayOfWeek(this.by_data.BYDAY[this.by_indices.BYDAY])[1];d-=this.rule.wkst;0>d&&(d+=7);b.year=this.last.year;b.month=this.last.month;b.day=this.last.day;b=b.startDoyWeek(this.rule.wkst);if(!(1>d+b)||a)return d=ICAL.Time.fromDayOfYear(b+d,this.last.year),this.last.year=d.year,this.last.month=d.month,this.last.day=d.day,a}},next_year:function(){if(0==this.next_hour())return 0;if(++this.days_index==this.days.length){this.days_index=0;do this.increment_year(this.rule.interval),this.expand_year_days(this.last.year);
while(0==this.days.length)}this._nextByYearDay();return 1},_nextByYearDay:function(){var a=this.days[this.days_index],b=this.last.year;1>a&&(a+=1,b+=1);a=ICAL.Time.fromDayOfYear(a,b);this.last.day=a.day;this.last.month=a.month},ruleDayOfWeek:function(a){if(a=a.match(/([+-]?[0-9])?(MO|TU|WE|TH|FR|SA|SU)/)){var b=parseInt(a[1]||0,10);a=ICAL.Recur.icalDayToNumericDay(a[2]);return[b,a]}return[0,0]},next_generic:function(a,b,d,e,g){var c=a in this.by_data;b=this.rule.freq==b;var f=0;if(g&&0==this[g]())return f;
if(c)this.by_indices[a]++,g=this.by_data[a],this.by_indices[a]==g.length&&(this.by_indices[a]=0,f=1),this.last[d]=g[this.by_indices[a]];else if(b)this["increment_"+d](this.rule.interval);if(c&&f&&b)this["increment_"+e](1);return f},increment_monthday:function(a){for(var b=0;b<a;b++){var d=ICAL.Time.daysInMonth(this.last.month,this.last.year);this.last.day++;this.last.day>d&&(this.last.day-=d,this.increment_month())}},increment_month:function(){this.last.day=1;if(this.has_by_data("BYMONTH"))this.by_indices.BYMONTH++,
this.by_indices.BYMONTH==this.by_data.BYMONTH.length&&(this.by_indices.BYMONTH=0,this.increment_year(1)),this.last.month=this.by_data.BYMONTH[this.by_indices.BYMONTH];else{"MONTHLY"==this.rule.freq?this.last.month+=this.rule.interval:this.last.month++;this.last.month--;var a=ICAL.helpers.trunc(this.last.month/12);this.last.month%=12;this.last.month++;0!=a&&this.increment_year(a)}},increment_year:function(a){this.last.year+=a},increment_generic:function(a,b,d,e){this.last[b]+=a;a=ICAL.helpers.trunc(this.last[b]/
d);this.last[b]%=d;if(0!=a)this["increment_"+e](a)},has_by_data:function(a){return a in this.rule.parts},expand_year_days:function(a){var b=new ICAL.Time;this.days=[];var d={},e=["BYDAY","BYWEEKNO","BYMONTHDAY","BYMONTH","BYYEARDAY"];for(k in e)if(e.hasOwnProperty(k)){var g=e[k];g in this.rule.parts&&(d[g]=this.rule.parts[g])}if("BYMONTH"in d&&"BYWEEKNO"in d){e=1;var k={};b.year=a;b.isDate=!0;for(g=0;g<this.by_data.BYMONTH.length;g++){var f=this.by_data.BYMONTH[g];b.month=f;b.day=1;g=b.weekNumber(this.rule.wkst);
b.day=ICAL.Time.daysInMonth(f,a);for(f=b.weekNumber(this.rule.wkst);g<f;g++)k[g]=1}for(f=0;f<this.by_data.BYWEEKNO.length&&e;f++)g=this.by_data.BYWEEKNO[f],e=52>g?e&k[f]:0;e?delete d.BYMONTH:delete d.BYWEEKNO}e=Object.keys(d).length;if(0==e)a=this.dtstart.clone(),a.year=this.last.year,this.days.push(a.dayOfYear());else if(1==e&&"BYMONTH"in d)for(var l in this.by_data.BYMONTH)this.by_data.BYMONTH.hasOwnProperty(l)&&(b=this.dtstart.clone(),b.year=a,b.month=this.by_data.BYMONTH[l],b.isDate=!0,this.days.push(b.dayOfYear()));
else if(1==e&&"BYMONTHDAY"in d)for(var w in this.by_data.BYMONTHDAY){if(this.by_data.BYMONTHDAY.hasOwnProperty(w)){l=this.dtstart.clone();var m=this.by_data.BYMONTHDAY[w];if(0>m){var u=ICAL.Time.daysInMonth(l.month,a);m=m+u+1}l.day=m;l.year=a;l.isDate=!0;this.days.push(l.dayOfYear())}}else if(2==e&&"BYMONTHDAY"in d&&"BYMONTH"in d)for(l in this.by_data.BYMONTH){if(this.by_data.BYMONTH.hasOwnProperty(l))for(w in d=this.by_data.BYMONTH[l],u=ICAL.Time.daysInMonth(d,a),this.by_data.BYMONTHDAY)this.by_data.BYMONTHDAY.hasOwnProperty(w)&&
(m=this.by_data.BYMONTHDAY[w],0>m&&(m=m+u+1),b.day=m,b.month=d,b.year=a,b.isDate=!0,this.days.push(b.dayOfYear()))}else if(!(1==e&&"BYWEEKNO"in d||2==e&&"BYWEEKNO"in d&&"BYMONTHDAY"in d))if(1==e&&"BYDAY"in d)this.days=this.days.concat(this.expand_by_day(a));else if(2==e&&"BYDAY"in d&&"BYMONTH"in d){for(l in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(l))if(f=this.by_data.BYMONTH[l],u=ICAL.Time.daysInMonth(f,a),b.year=a,b.month=this.by_data.BYMONTH[l],b.day=1,b.isDate=!0,d=b.dayOfWeek(),
w=b.dayOfYear()-1,b.day=u,e=b.dayOfWeek(),this.has_by_data("BYSETPOS")){d=[];for(k=1;k<=u;k++)b.day=k,this.is_day_in_byday(b)&&d.push(k);for(u=0;u<d.length;u++)(this.check_set_position(u+1)||this.check_set_position(u-d.length))&&this.days.push(w+d[u])}else for(m in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(m))if(g=this.ruleDayOfWeek(this.by_data.BYDAY[m]),k=g[0],f=g[1],g=(f+7-d)%7+1,f=u-(e+7-f)%7,0==k)for(k=g;k<=u;k+=7)this.days.push(w+k);else 0<k?(k=g+7*(k-1),k<=u&&this.days.push(w+
k)):(k=f+7*(k+1),0<k&&this.days.push(w+k));this.days.sort(function(a,b){return a-b})}else if(2==e&&"BYDAY"in d&&"BYMONTHDAY"in d)for(u in l=this.expand_by_day(a),l)l.hasOwnProperty(u)&&(k=l[u],b=ICAL.Time.fromDayOfYear(k,a),0<=this.by_data.BYMONTHDAY.indexOf(b.day)&&this.days.push(k));else if(3==e&&"BYDAY"in d&&"BYMONTHDAY"in d&&"BYMONTH"in d)for(u in l=this.expand_by_day(a),l)l.hasOwnProperty(u)&&(k=l[u],b=ICAL.Time.fromDayOfYear(k,a),0<=this.by_data.BYMONTH.indexOf(b.month)&&0<=this.by_data.BYMONTHDAY.indexOf(b.day)&&
this.days.push(k));else if(2==e&&"BYDAY"in d&&"BYWEEKNO"in d)for(u in l=this.expand_by_day(a),l)l.hasOwnProperty(u)&&(k=l[u],b=ICAL.Time.fromDayOfYear(k,a),g=b.weekNumber(this.rule.wkst),this.by_data.BYWEEKNO.indexOf(g)&&this.days.push(k));else 3==e&&"BYDAY"in d&&"BYWEEKNO"in d&&"BYMONTHDAY"in d||(this.days=1==e&&"BYYEARDAY"in d?this.days.concat(this.by_data.BYYEARDAY):[]);return 0},expand_by_day:function(a){var b=[],d=this.last.clone();d.year=a;d.month=1;d.day=1;d.isDate=!0;a=d.dayOfWeek();d.month=
12;d.day=31;d.isDate=!0;var e=d.dayOfWeek();d=d.dayOfYear();for(var g in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(g)){var k=this.ruleDayOfWeek(this.by_data.BYDAY[g]),f=k[0];k=k[1];if(0==f)for(f=(k+7-a)%7+1;f<=d;f+=7)b.push(f);else 0<f?b.push((k>=a?k-a+1:k-a+8)+7*(f-1)):(f=-f,b.push((k<=e?d-e+k:d-e+k-7)-7*(f-1)))}return b},is_day_in_byday:function(a){for(var b in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(b)){var d=this.ruleDayOfWeek(this.by_data.BYDAY[b]),e=d[0];d=d[1];
var g=a.dayOfWeek();if(0==e&&d==g||a.nthWeekDay(d,e)==a.day)return 1}return 0},check_set_position:function(a){return this.has_by_data("BYSETPOS")?-1!==this.by_data.BYSETPOS.indexOf(a):!1},sort_byday_rules:function(a,b){for(var c=0;c<a.length;c++)for(var e=0;e<c;e++){var g=this.ruleDayOfWeek(a[e])[1],k=this.ruleDayOfWeek(a[c])[1];g-=b;k-=b;0>g&&(g+=7);0>k&&(k+=7);g>k&&(g=a[c],a[c]=a[e],a[e]=g)}},check_contract_restriction:function(a,c){var d=b._expandMap[this.rule.freq][b._indexMap[a]],e=!1;if(a in
this.by_data&&d==b.CONTRACT){a=this.by_data[a];for(var g in a)if(a.hasOwnProperty(g)&&a[g]==c){e=!0;break}}else e=!0;return e},check_contracting_rules:function(){var a=this.last.dayOfWeek(),b=this.last.weekNumber(this.rule.wkst),d=this.last.dayOfYear();return this.check_contract_restriction("BYSECOND",this.last.second)&&this.check_contract_restriction("BYMINUTE",this.last.minute)&&this.check_contract_restriction("BYHOUR",this.last.hour)&&this.check_contract_restriction("BYDAY",ICAL.Recur.numericDayToIcalDay(a))&&
this.check_contract_restriction("BYWEEKNO",b)&&this.check_contract_restriction("BYMONTHDAY",this.last.day)&&this.check_contract_restriction("BYMONTH",this.last.month)&&this.check_contract_restriction("BYYEARDAY",d)},setup_defaults:function(a,c,d){return b._expandMap[this.rule.freq][b._indexMap[a]]!=b.CONTRACT&&(a in this.by_data||(this.by_data[a]=[d]),this.rule.freq!=c)?this.by_data[a][0]:d},toJSON:function(){var a=Object.create(null);a.initialized=this.initialized;a.rule=this.rule.toJSON();a.dtstart=
this.dtstart.toJSON();a.by_data=this.by_data;a.days=this.days;a.last=this.last.toJSON();a.by_indices=this.by_indices;a.occurrence_number=this.occurrence_number;return a}};b._indexMap={BYSECOND:0,BYMINUTE:1,BYHOUR:2,BYDAY:3,BYMONTHDAY:4,BYYEARDAY:5,BYWEEKNO:6,BYMONTH:7,BYSETPOS:8};b._expandMap={SECONDLY:[1,1,1,1,1,1,1,1],MINUTELY:[2,1,1,1,1,1,1,1],HOURLY:[2,2,1,1,1,1,1,1],DAILY:[2,2,2,1,1,1,1,1],WEEKLY:[2,2,2,2,3,3,1,1],MONTHLY:[2,2,2,2,2,3,3,1],YEARLY:[2,2,2,2,2,2,2,2]};b.UNKNOWN=0;b.CONTRACT=1;b.EXPAND=
2;b.ILLEGAL=3;return b}();
ICAL.RecurExpansion=function(){function b(a){return ICAL.helpers.formatClassType(a,ICAL.Time)}function a(a,b){return a.compare(b)}function c(a){this.ruleDates=[];this.exDates=[];this.fromData(a)}c.prototype={complete:!1,ruleIterators:null,ruleDates:null,exDates:null,ruleDateInc:0,exDateInc:0,exDate:null,ruleDate:null,dtstart:null,last:null,fromData:function(a){var c=ICAL.helpers.formatClassType(a.dtstart,ICAL.Time);if(c)this.dtstart=c;else throw Error(".dtstart (ICAL.Time) must be given");if(a.component)this._init(a.component);
else{this.last=b(a.last)||c.clone();if(!a.ruleIterators)throw Error(".ruleIterators or .component must be given");this.ruleIterators=a.ruleIterators.map(function(a){return ICAL.helpers.formatClassType(a,ICAL.RecurIterator)});this.ruleDateInc=a.ruleDateInc;this.exDateInc=a.exDateInc;a.ruleDates&&(this.ruleDates=a.ruleDates.map(b),this.ruleDate=this.ruleDates[this.ruleDateInc]);a.exDates&&(this.exDates=a.exDates.map(b),this.exDate=this.exDates[this.exDateInc]);"undefined"!==typeof a.complete&&(this.complete=
a.complete)}},next:function(){for(var a,b,c=0;;){if(500<c++)throw Error("max tries have occured, rule may be impossible to forfill.");b=this.ruleDate;a=this._nextRecurrenceIter(this.last);if(!b&&!a){this.complete=!0;break}if(!b||a&&0<b.compare(a.last))b=a.last.clone(),a.next();this.ruleDate===b&&this._nextRuleDay();this.last=b;if(this.exDate&&(a=this.exDate.compare(this.last),0>a&&this._nextExDay(),0===a)){this._nextExDay();continue}return this.last}},toJSON:function(){function a(a){return a.toJSON()}
var b=Object.create(null);b.ruleIterators=this.ruleIterators.map(a);this.ruleDates&&(b.ruleDates=this.ruleDates.map(a));this.exDates&&(b.exDates=this.exDates.map(a));b.ruleDateInc=this.ruleDateInc;b.exDateInc=this.exDateInc;b.last=this.last.toJSON();b.dtstart=this.dtstart.toJSON();b.complete=this.complete;return b},_extractDates:function(b,c){function d(b){l=ICAL.helpers.binsearchInsert(e,b,a);e.splice(l,0,b)}var e=[];b=b.getAllProperties(c);c=b.length;for(var f=0,l;f<c;f++)b[f].getValues().forEach(d);
return e},_init:function(b){this.ruleIterators=[];this.last=this.dtstart.clone();if(b.hasProperty("rdate")||b.hasProperty("rrule")||b.hasProperty("recurrence-id")){b.hasProperty("rdate")&&(this.ruleDates=this._extractDates(b,"rdate"),this.ruleDates[0]&&0>this.ruleDates[0].compare(this.dtstart)?(this.ruleDateInc=0,this.last=this.ruleDates[0].clone()):this.ruleDateInc=ICAL.helpers.binsearchInsert(this.ruleDates,this.last,a),this.ruleDate=this.ruleDates[this.ruleDateInc]);if(b.hasProperty("rrule"))for(var c=
b.getAllProperties("rrule"),d=0,k=c.length,f;d<k;d++)f=c[d].getFirstValue(),f=f.iterator(this.dtstart),this.ruleIterators.push(f),f.next();b.hasProperty("exdate")&&(this.exDates=this._extractDates(b,"exdate"),this.exDateInc=ICAL.helpers.binsearchInsert(this.exDates,this.last,a),this.exDate=this.exDates[this.exDateInc])}else this.ruleDate=this.last.clone(),this.complete=!0},_nextExDay:function(){this.exDate=this.exDates[++this.exDateInc]},_nextRuleDay:function(){this.ruleDate=this.ruleDates[++this.ruleDateInc]},
_nextRecurrenceIter:function(){var a=this.ruleIterators;if(0===a.length)return null;for(var b=a.length,c,k,f=0,l;f<b;f++)if(c=a[f],k=c.last,c.completed)b--,0!==f&&f--,a.splice(f,1);else if(!l||0<l.last.compare(k))l=c;return l}};return c}();
ICAL.Event=function(){function b(a,b){a instanceof ICAL.Component||(b=a,a=null);this.component=a?a:new ICAL.Component("vevent");this._rangeExceptionCache=Object.create(null);this.exceptions=Object.create(null);this.rangeExceptions=[];b&&b.strictExceptions&&(this.strictExceptions=b.strictExceptions);b&&b.exceptions?b.exceptions.forEach(this.relateException,this):this.component.parent&&!this.isRecurrenceException()&&this.component.parent.getAllSubcomponents("vevent").forEach(function(a){a.hasProperty("recurrence-id")&&
this.relateException(a)},this)}function a(a,b){return a[0]>b[0]?1:b[0]>a[0]?-1:0}b.prototype={THISANDFUTURE:"THISANDFUTURE",exceptions:null,strictExceptions:!1,relateException:function(b){if(this.isRecurrenceException())throw Error("cannot relate exception to exceptions");b instanceof ICAL.Component&&(b=new ICAL.Event(b));if(this.strictExceptions&&b.uid!==this.uid)throw Error("attempted to relate unrelated exception");var c=b.recurrenceId.toString();this.exceptions[c]=b;b.modifiesFuture()&&(b=[b.recurrenceId.toUnixTime(),
c],c=ICAL.helpers.binsearchInsert(this.rangeExceptions,b,a),this.rangeExceptions.splice(c,0,b))},modifiesFuture:function(){return this.component.hasProperty("recurrence-id")?this.component.getFirstProperty("recurrence-id").getParameter("range")===this.THISANDFUTURE:!1},findRangeException:function(b){if(!this.rangeExceptions.length)return null;b=b.toUnixTime();var c=ICAL.helpers.binsearchInsert(this.rangeExceptions,[b],a);--c;if(0>c)return null;c=this.rangeExceptions[c];return b<c[0]?null:c[1]},getOccurrenceDetails:function(a){var b=
a.toString(),c=a.convertToZone(ICAL.Timezone.utcTimezone).toString(),g={recurrenceId:a};if(b in this.exceptions)a=g.item=this.exceptions[b],g.startDate=a.startDate,g.endDate=a.endDate,g.item=a;else if(c in this.exceptions)a=this.exceptions[c],g.startDate=a.startDate,g.endDate=a.endDate,g.item=a;else if(c=this.findRangeException(a)){b=this.exceptions[c];g.item=b;var k=this._rangeExceptionCache[c];if(!k){k=b.recurrenceId.clone();var f=b.startDate.clone();k.zone=f.zone;k=f.subtractDate(k);this._rangeExceptionCache[c]=
k}a=a.clone();a.zone=b.startDate.zone;a.addDuration(k);c=a.clone();c.addDuration(b.duration);g.startDate=a;g.endDate=c}else c=a.clone(),c.addDuration(this.duration),g.endDate=c,g.startDate=a,g.item=this;return g},iterator:function(a){return new ICAL.RecurExpansion({component:this.component,dtstart:a||this.startDate})},isRecurring:function(){var a=this.component;return a.hasProperty("rrule")||a.hasProperty("rdate")},isRecurrenceException:function(){return this.component.hasProperty("recurrence-id")},
getRecurrenceTypes:function(){for(var a=this.component.getAllProperties("rrule"),b=0,e=a.length,g=Object.create(null);b<e;b++){var k=a[b].getFirstValue();g[k.freq]=!0}return g},get uid(){return this._firstProp("uid")},set uid(a){this._setProp("uid",a)},get startDate(){return this._firstProp("dtstart")},set startDate(a){this._setTime("dtstart",a)},get endDate(){var a=this._firstProp("dtend");if(!a){var b=this._firstProp("duration");a=this.startDate.clone();b?a.addDuration(b):a.isDate&&(a.day+=1)}return a},
set endDate(a){this.component.hasProperty("duration")&&this.component.removeProperty("duration");this._setTime("dtend",a)},get duration(){var a=this._firstProp("duration");return a?a:this.endDate.subtractDate(this.startDate)},set duration(a){this.component.hasProperty("dtend")&&this.component.removeProperty("dtend");this._setProp("duration",a)},get location(){return this._firstProp("location")},set location(a){return this._setProp("location",a)},get attendees(){return this.component.getAllProperties("attendee")},
get summary(){return this._firstProp("summary")},set summary(a){this._setProp("summary",a)},get description(){return this._firstProp("description")},set description(a){this._setProp("description",a)},get organizer(){return this._firstProp("organizer")},set organizer(a){this._setProp("organizer",a)},get sequence(){return this._firstProp("sequence")},set sequence(a){this._setProp("sequence",a)},get recurrenceId(){return this._firstProp("recurrence-id")},set recurrenceId(a){this._setProp("recurrence-id",
a)},_setTime:function(a,b){var c=this.component.getFirstProperty(a);c||(c=new ICAL.Property(a),this.component.addProperty(c));b.zone===ICAL.Timezone.localTimezone||b.zone===ICAL.Timezone.utcTimezone?c.removeParameter("tzid"):c.setParameter("tzid",b.zone.tzid);c.setValue(b)},_setProp:function(a,b){this.component.updatePropertyWithValue(a,b)},_firstProp:function(a){return this.component.getFirstPropertyValue(a)},toString:function(){return this.component.toString()}};return b}();
ICAL.ComponentParser=function(){function b(a){"undefined"===typeof a&&(a={});for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}b.prototype={parseEvent:!0,parseTimezone:!0,oncomplete:function(){},onerror:function(a){},ontimezone:function(a){},onevent:function(a){},process:function(a){"string"===typeof a&&(a=ICAL.parse(a));a instanceof ICAL.Component||(a=new ICAL.Component(a));a=a.getAllSubcomponents();for(var b=0,d=a.length,e;b<d;b++)switch(e=a[b],e.name){case "vtimezone":if(this.parseTimezone){var g=
e.getFirstPropertyValue("tzid");if(g)this.ontimezone(new ICAL.Timezone({tzid:g,component:e}))}break;case "vevent":if(this.parseEvent)this.onevent(new ICAL.Event(e))}this.oncomplete()}};return b}();
later=function(){var b={version:"1.2.0"};Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),d=b.length>>>0;if(0===d)return-1;var e=0;1<arguments.length&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&Infinity!=e&&-Infinity!=e&&(e=(0<e||-1)*Math.floor(Math.abs(e))));if(e>=d)return-1;for(e=0<=e?e:Math.max(d-Math.abs(e),0);e<d;e++)if(e in b&&b[e]===a)return e;return-1});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,
"")});b.array={};b.array.sort=function(a,b){a.sort(function(a,b){return+a-+b});b&&0===a[0]&&a.push(a.shift())};b.array.next=function(a,b,d){for(var c,g=0!==d[0],k=0,f=b.length-1;-1<f;--f){c=b[f];if(c===a)return c;if(c>a||0===c&&g&&d[1]>a)k=f;else break}return b[k]};b.array.nextInvalid=function(a,b,d){var c=d[0];d=d[1];var g=b.length,k=0===b[g-1]&&0!==c?d:0,f=a;a=b.indexOf(a);for(var l=f;f===(b[a]||k);)if(f++,f>d&&(f=c),a++,a===g&&(a=0),f===l)return;return f};b.array.prev=function(a,b,d){for(var c,
g=b.length,k=0!==d[0],f=g-1,l=0;l<g;l++){c=b[l];if(c===a)return c;if(c<a||0===c&&k&&d[1]<a)f=l;else break}return b[f]};b.array.prevInvalid=function(a,b,d){var c=d[0];d=d[1];var g=b.length,k=0===b[g-1]&&0!==c?d:0,f=a;a=b.indexOf(a);for(var l=f;f===(b[a]||k);)if(f--,f<c&&(f=d),a--,-1===a&&(a=g-1),f===l)return;return f};b.day=b.D={name:"day",range:86400,val:function(a){return a.D||(a.D=b.date.getDate.call(a))},isValid:function(a,c){return b.D.val(a)===(c||b.D.extent(a)[1])},extent:function(a){if(a.DExtent)return a.DExtent;
var c=b.M.val(a),d=b.DAYS_IN_MONTH[c-1];2===c&&366===b.dy.extent(a)[1]&&(d+=1);return a.DExtent=[1,d]},start:function(a){return a.DStart||(a.DStart=b.date.next(b.Y.val(a),b.M.val(a),b.D.val(a)))},end:function(a){return a.DEnd||(a.DEnd=b.date.prev(b.Y.val(a),b.M.val(a),b.D.val(a)))},next:function(a,c){c=c>b.D.extent(a)[1]?1:c;a=b.date.nextRollover(a,c,b.D,b.M);var d=b.D.extent(a)[1];c=c>d?1:c||d;return b.date.next(b.Y.val(a),b.M.val(a),c)},prev:function(a,c){a=b.date.prevRollover(a,c,b.D,b.M);var d=
b.D.extent(a)[1];return b.date.prev(b.Y.val(a),b.M.val(a),c>d?d:c||d)}};b.dayOfWeekCount=b.dc={name:"day of week count",range:604800,val:function(a){return a.dc||(a.dc=Math.floor((b.D.val(a)-1)/7)+1)},isValid:function(a,c){return b.dc.val(a)===c||0===c&&b.D.val(a)>b.D.extent(a)[1]-7},extent:function(a){return a.dcExtent||(a.dcExtent=[1,Math.ceil(b.D.extent(a)[1]/7)])},start:function(a){return a.dcStart||(a.dcStart=b.date.next(b.Y.val(a),b.M.val(a),Math.max(1,7*(b.dc.val(a)-1)+1||1)))},end:function(a){return a.dcEnd||
(a.dcEnd=b.date.prev(b.Y.val(a),b.M.val(a),Math.min(7*b.dc.val(a),b.D.extent(a)[1])))},next:function(a,c){c=c>b.dc.extent(a)[1]?1:c;var d=b.date.nextRollover(a,c,b.dc,b.M),e=b.dc.extent(d)[1];c=c>e?1:c;d=b.date.next(b.Y.val(d),b.M.val(d),0===c?b.D.extent(d)[1]-6:1+7*(c-1));return d.getTime()<=a.getTime()?(d=b.M.next(a,b.M.val(a)+1),b.date.next(b.Y.val(d),b.M.val(d),0===c?b.D.extent(d)[1]-6:1+7*(c-1))):d},prev:function(a,c){a=b.date.prevRollover(a,c,b.dc,b.M);var d=b.dc.extent(a)[1];c=c>d?d:c||d;return b.dc.end(b.date.prev(b.Y.val(a),
b.M.val(a),1+7*(c-1)))}};b.dayOfWeek=b.dw=b.d={name:"day of week",range:86400,val:function(a){return a.dw||(a.dw=b.date.getDay.call(a)+1)},isValid:function(a,c){return b.dw.val(a)===(c||7)},extent:function(){return[1,7]},start:function(a){return b.D.start(a)},end:function(a){return b.D.end(a)},next:function(a,c){c=7<c?1:c||7;return b.date.next(b.Y.val(a),b.M.val(a),b.D.val(a)+(c-b.dw.val(a))+(c<=b.dw.val(a)?7:0))},prev:function(a,c){c=7<c?7:c||7;return b.date.prev(b.Y.val(a),b.M.val(a),b.D.val(a)+
(c-b.dw.val(a))+(c>=b.dw.val(a)?-7:0))}};b.dayOfYear=b.dy={name:"day of year",range:86400,val:function(a){return a.dy||(a.dy=Math.ceil(1+(b.D.start(a).getTime()-b.Y.start(a).getTime())/b.DAY))},isValid:function(a,c){return b.dy.val(a)===(c||b.dy.extent(a)[1])},extent:function(a){var c=b.Y.val(a);return a.dyExtent||(a.dyExtent=[1,c%4?365:366])},start:function(a){return b.D.start(a)},end:function(a){return b.D.end(a)},next:function(a,c){c=c>b.dy.extent(a)[1]?1:c;a=b.date.nextRollover(a,c,b.dy,b.Y);
var d=b.dy.extent(a)[1];c=c>d?1:c||d;return b.date.next(b.Y.val(a),b.M.val(a),c)},prev:function(a,c){a=b.date.prevRollover(a,c,b.dy,b.Y);var d=b.dy.extent(a)[1];c=c>d?d:c||d;return b.date.prev(b.Y.val(a),b.M.val(a),c)}};b.hour=b.h={name:"hour",range:3600,val:function(a){return a.h||(a.h=b.date.getHour.call(a))},isValid:function(a,c){return b.h.val(a)===c},extent:function(){return[0,23]},start:function(a){return a.hStart||(a.hStart=b.date.next(b.Y.val(a),b.M.val(a),b.D.val(a),b.h.val(a)))},end:function(a){return a.hEnd||
(a.hEnd=b.date.prev(b.Y.val(a),b.M.val(a),b.D.val(a),b.h.val(a)))},next:function(a,c){c=23<c?0:c;var d=b.date.next(b.Y.val(a),b.M.val(a),b.D.val(a)+(c<=b.h.val(a)?1:0),c);!b.date.isUTC&&d.getTime()<=a.getTime()&&(d=b.date.next(b.Y.val(d),b.M.val(d),b.D.val(d),c+1));return d},prev:function(a,c){c=23<c?23:c;return b.date.prev(b.Y.val(a),b.M.val(a),b.D.val(a)+(c>=b.h.val(a)?-1:0),c)}};b.minute=b.m={name:"minute",range:60,val:function(a){return a.m||(a.m=b.date.getMin.call(a))},isValid:function(a,c){return b.m.val(a)===
c},extent:function(a){return[0,59]},start:function(a){return a.mStart||(a.mStart=b.date.next(b.Y.val(a),b.M.val(a),b.D.val(a),b.h.val(a),b.m.val(a)))},end:function(a){return a.mEnd||(a.mEnd=b.date.prev(b.Y.val(a),b.M.val(a),b.D.val(a),b.h.val(a),b.m.val(a)))},next:function(a,c){var d=b.m.val(a),e=b.s.val(a);c=59<c?60-d:c<=d?60-d+c:c-d;d=new Date(a.getTime()+c*b.MIN-e*b.SEC);!b.date.isUTC&&d.getTime()<=a.getTime()&&(d=new Date(a.getTime()+(c+120)*b.MIN-e*b.SEC));return d},prev:function(a,c){c=59<c?
59:c;return b.date.prev(b.Y.val(a),b.M.val(a),b.D.val(a),b.h.val(a)+(c>=b.m.val(a)?-1:0),c)}};b.month=b.M={name:"month",range:2629740,val:function(a){return a.M||(a.M=b.date.getMonth.call(a)+1)},isValid:function(a,c){return b.M.val(a)===(c||12)},extent:function(){return[1,12]},start:function(a){return a.MStart||(a.MStart=b.date.next(b.Y.val(a),b.M.val(a)))},end:function(a){return a.MEnd||(a.MEnd=b.date.prev(b.Y.val(a),b.M.val(a)))},next:function(a,c){c=12<c?1:c||12;return b.date.next(b.Y.val(a)+(c>
b.M.val(a)?0:1),c)},prev:function(a,c){c=12<c?12:c||12;return b.date.prev(b.Y.val(a)-(c>=b.M.val(a)?1:0),c)}};b.second=b.s={name:"second",range:1,val:function(a){return a.s||(a.s=b.date.getSec.call(a))},isValid:function(a,c){return b.s.val(a)===c},extent:function(){return[0,59]},start:function(a){return a},end:function(a){return a},next:function(a,c){var d=b.s.val(a);c=59<c?60-d:c<=d?60-d+c:c-d;d=new Date(a.getTime()+c*b.SEC);!b.date.isUTC&&d.getTime()<=a.getTime()&&(d=new Date(a.getTime()+(c+7200)*
b.SEC));return d},prev:function(a,c,d){c=59<c?59:c;return b.date.prev(b.Y.val(a),b.M.val(a),b.D.val(a),b.h.val(a),b.m.val(a)+(c>=b.s.val(a)?-1:0),c)}};b.time=b.t={name:"time",range:1,val:function(a){return a.t||(a.t=3600*b.h.val(a)+60*b.m.val(a)+b.s.val(a))},isValid:function(a,c){return b.t.val(a)===c},extent:function(){return[0,86399]},start:function(a){return a},end:function(a){return a},next:function(a,c){c=86399<c?0:c;var d=b.date.next(b.Y.val(a),b.M.val(a),b.D.val(a)+(c<=b.t.val(a)?1:0),0,0,
c);!b.date.isUTC&&d.getTime()<a.getTime()&&(d=b.date.next(b.Y.val(d),b.M.val(d),b.D.val(d),b.h.val(d),b.m.val(d),c+7200));return d},prev:function(a,c){c=86399<c?86399:c;return b.date.next(b.Y.val(a),b.M.val(a),b.D.val(a)+(c>=b.t.val(a)?-1:0),0,0,c)}};b.weekOfMonth=b.wm={name:"week of month",range:604800,val:function(a){return a.wm||(a.wm=(b.D.val(a)+(b.dw.val(b.M.start(a))-1)+(7-b.dw.val(a)))/7)},isValid:function(a,c){return b.wm.val(a)===(c||b.wm.extent(a)[1])},extent:function(a){return a.wmExtent||
(a.wmExtent=[1,(b.D.extent(a)[1]+(b.dw.val(b.M.start(a))-1)+(7-b.dw.val(b.M.end(a))))/7])},start:function(a){return a.wmStart||(a.wmStart=b.date.next(b.Y.val(a),b.M.val(a),Math.max(b.D.val(a)-b.dw.val(a)+1,1)))},end:function(a){return a.wmEnd||(a.wmEnd=b.date.prev(b.Y.val(a),b.M.val(a),Math.min(b.D.val(a)+(7-b.dw.val(a)),b.D.extent(a)[1])))},next:function(a,c){c=c>b.wm.extent(a)[1]?1:c;a=b.date.nextRollover(a,c,b.wm,b.M);var d=b.wm.extent(a)[1];c=c>d?1:c||d;return b.date.next(b.Y.val(a),b.M.val(a),
Math.max(1,7*(c-1)-(b.dw.val(a)-2)))},prev:function(a,c){a=b.date.prevRollover(a,c,b.wm,b.M);var d=b.wm.extent(a)[1];c=c>d?d:c||d;return b.wm.end(b.date.next(b.Y.val(a),b.M.val(a),Math.max(1,7*(c-1)-(b.dw.val(a)-2))))}};b.weekOfYear=b.wy={name:"week of year (ISO)",range:604800,val:function(a){if(a.wy)return a.wy;var c=b.dw.next(b.wy.start(a),5),d=b.dw.next(b.Y.prev(c,b.Y.val(c)-1),5);return a.wy=1+Math.ceil((c.getTime()-d.getTime())/b.WEEK)},isValid:function(a,c){return b.wy.val(a)===(c||b.wy.extent(a)[1])},
extent:function(a){if(a.wyExtent)return a.wyExtent;var c=b.dw.next(b.wy.start(a),5),d=b.dw.val(b.Y.start(c));c=b.dw.val(b.Y.end(c));return a.wyExtent=[1,5===d||5===c?53:52]},start:function(a){return a.wyStart||(a.wyStart=b.date.next(b.Y.val(a),b.M.val(a),b.D.val(a)-(1<b.dw.val(a)?b.dw.val(a)-2:6)))},end:function(a){return a.wyEnd||(a.wyEnd=b.date.prev(b.Y.val(a),b.M.val(a),b.D.val(a)+(1<b.dw.val(a)?8-b.dw.val(a):0)))},next:function(a,c){c=c>b.wy.extent(a)[1]?1:c;a=b.dw.next(b.wy.start(a),5);var d=
b.date.nextRollover(a,c,b.wy,b.Y);1!==b.wy.val(d)&&(d=b.dw.next(d,2));a=b.wy.extent(d)[1];d=b.wy.start(d);c=c>a?1:c||a;return b.date.next(b.Y.val(d),b.M.val(d),b.D.val(d)+7*(c-1))},prev:function(a,c){a=b.dw.next(b.wy.start(a),5);var d=b.date.prevRollover(a,c,b.wy,b.Y);1!==b.wy.val(d)&&(d=b.dw.next(d,2));a=b.wy.extent(d)[1];d=b.wy.end(d);c=c>a?a:c||a;return b.wy.end(b.date.next(b.Y.val(d),b.M.val(d),b.D.val(d)+7*(c-1)))}};b.year=b.Y={name:"year",range:31556900,val:function(a){return a.Y||(a.Y=b.date.getYear.call(a))},
isValid:function(a,c){return b.Y.val(a)===c},extent:function(){return[1970,2099]},start:function(a){return a.YStart||(a.YStart=b.date.next(b.Y.val(a)))},end:function(a){return a.YEnd||(a.YEnd=b.date.prev(b.Y.val(a)))},next:function(a,c){return c>b.Y.val(a)&&c<=b.Y.extent()[1]?b.date.next(c):b.NEVER},prev:function(a,c){return c<b.Y.val(a)&&c>=b.Y.extent()[0]?b.date.prev(c):b.NEVER}};b.fullDate=b.fd={name:"full date",range:1,val:function(a){return a.fd||(a.fd=a.getTime())},isValid:function(a,c){return b.fd.val(a)===
c},extent:function(){return[0,3250368E7]},start:function(a){return a},end:function(a){return a},next:function(a,c){return b.fd.val(a)<c?new Date(c):b.NEVER},prev:function(a,c){return b.fd.val(a)>c?new Date(c):b.NEVER}};b.modifier={};b.modifier.after=b.modifier.a=function(a,b){var c=b[0];return{name:"after "+a.name,range:(a.extent(new Date)[1]-c)*a.range,val:a.val,isValid:function(a,b){return this.val(a)>=c},extent:a.extent,start:a.start,end:a.end,next:function(b,d){d!=c&&(d=a.extent(b)[0]);return a.next(b,
d)},prev:function(b,d){d=d===c?a.extent(b)[1]:c-1;return a.prev(b,d)}}};b.modifier.before=b.modifier.b=function(a,b){var c=b[b.length-1];return{name:"before "+a.name,range:a.range*(c-1),val:a.val,isValid:function(a,b){return this.val(a)<c},extent:a.extent,start:a.start,end:a.end,next:function(b,d){d=d===c?a.extent(b)[0]:c;return a.next(b,d)},prev:function(b,d){d=d===c?c-1:a.extent(b)[1];return a.prev(b,d)}}};b.compile=function(a){function c(a){return"next"===a?function(a,b){return a.getTime()>b.getTime()}:
function(a,b){return b.getTime()>a.getTime()}}var d=[],e=0,g;for(g in a){var k=g.split("_"),f=k[0],l=k[1];k=a[g];f=l?b.modifier[l](b[f],k):b[f];d.push({constraint:f,vals:k});e++}d.sort(function(a,b){a=a.constraint.range;b=b.constraint.range;return b<a?-1:b>a?1:0});var w=d[e-1].constraint;return{start:function(a,c){for(var f=b.array[a],g=1E3,k;g--&&!k&&c;){k=!0;for(var l=0;l<e;l++){var m=d[l].constraint,u=m.val(c),Q=m.extent(c);u=f(u,d[l].vals,Q);if(!m.isValid(c,u)){c=m[a](c,u);k=!1;break}}}c!==b.NEVER&&
(c="next"===a?w.start(c):w.end(c));return c},end:function(a,f){for(var g,k=b.array[a+"Invalid"],l=c(a),m=e-1;0<=m;m--){var u=d[m].constraint,w=u.val(f),Q=u.extent(f);w=k(w,d[m].vals,Q);void 0!==w&&(u=u[a](f,w),!u||g&&!l(g,u)||(g=u))}return g},tick:function(a,c){return new Date("next"===a?w.end(c).getTime()+b.SEC:w.start(c).getTime()-b.SEC)},tickStart:function(a){return w.start(a)}}};b.schedule=function(a){function c(a,c,w,x,M){var y=k(a),A=c,D=1E3,E=[],ma=[],X,T=[],Y="next"===a,F=Y?0:1,I=Y?1:0;w=
w?new Date(w):new Date;if(!w||!w.getTime())throw Error("Invalid start date.");var R=l;for(var W=w,S=0,ia=R.length;S<ia;S++)E[S]=R[S].start(a,W);R=m;W=w;k(a);S=0;for(ia=R.length;S<ia;S++){var ka=R[S].start(a,W);ma[S]=ka?[ka,R[S].end(a,ka)]:b.NEVER}for(;D--&&A&&(X=f(E,y))&&(!x||!y(X,x));){if(u){R=a;W=m;S=ma;ia=X;ka=k(R);for(var ca=0,fa=W.length;ca<fa;ca++)if(S[ca]&&!ka(S[ca][0],ia)){var O=W[ca].start(R,ia);S[ca]=O?[O,W[ca].end(R,O)]:b.NEVER}R=void 0;W=ma;S=X;ia=k(a);ka=0;for(ca=W.length;ka<ca;ka++)fa=
W[ka],!fa||ia(fa[0],S)||fa[1]&&!ia(fa[1],S)||R&&!ia(fa[1],R)||(R=fa[1]);if(R){e(a,l,E,R);continue}}if(M){ca=void 0;R=ma;W=y;S=0;for(ia=R.length;S<ia;S++)!R[S]||ca&&!W(ca,R[S][0])||(ca=R[S][0]);a:{R=void 0;W=a;S=l;ia=E;ka=X;fa=k(W);O=0;for(var da=S.length;O<da;O++){var q=ia[O];if(q&&q.getTime()===ka.getTime()){q=S[O].end(W,q);if(ca&&(!q||fa(q,ca))){R=ca;break a}if(!R||fa(q,R))R=q}}}W=Y?[new Date(Math.max(w,X)),R?new Date(x?Math.min(R,x):R):void 0]:[R?new Date(x?Math.max(x,R.getTime()+b.SEC):R.getTime()+
b.SEC):void 0,new Date(Math.min(w,X.getTime()+b.SEC))];if(G&&W[F].getTime()===G[I].getTime())G[I]=W[I],A++;else{var G=W;T.push(G)}if(!R)break;e(a,l,E,R)}else for(T.push(Y?new Date(Math.max(w,X)):g(l,E,X,x)),R=a,W=l,S=E,ia=X,ka=0,ca=W.length;ka<ca;ka++)S[ka]&&S[ka].getTime()===ia.getTime()&&(S[ka]=W[ka].start(R,W[ka].tick(R,ia)));A--}a=0;for(w=T.length;a<w;a++)x=T[a],T[a]="[object Array]"===Object.prototype.toString.call(x)?[d(x[0]),d(x[1])]:d(x);return 0===T.length?b.NEVER:1===c?T[0]:T}function d(a){if(a instanceof
Date&&!isNaN(a.valueOf()))return new Date(a)}function e(a,b,c,d){for(var e=k(a),f=0,g=b.length;f<g;f++)c[f]&&!e(c[f],d)&&(c[f]=b[f].start(a,d))}function g(a,b,c,d){for(var e,f=0,g=b.length;f<g;f++)if(b[f]&&b[f].getTime()===c.getTime()){var k=a[f].tickStart(c);if(d&&k<d)return d;if(!e||k>e)e=k}return e}function k(a){return"next"===a?function(a,b){return!a||!b||a.getTime()>b.getTime()}:function(a,b){return!a||!b||b.getTime()>a.getTime()}}function f(a,b){for(var c=a[0],d=1,e=a.length;d<e;d++)a[d]&&b(c,
a[d])&&(c=a[d]);return c}if(!a)throw Error("Missing schedule definition.");if(!a.schedules)throw Error("Definition must include at least one schedule.");for(var l=[],w=a.schedules.length,m=[],u=a.exceptions?a.exceptions.length:0,x=0;x<w;x++)l.push(b.compile(a.schedules[x]));for(w=0;w<u;w++)m.push(b.compile(a.exceptions[w]));return{isValid:function(a){return c("next",1,a,a)!==b.NEVER},next:function(a,b,d){return c("next",a||1,b,d)},prev:function(a,b,d){return c("prev",a||1,b,d)},nextRange:function(a,
b,d){return c("next",a||1,b,d,!0)},prevRange:function(a,b,d){return c("prev",a||1,b,d,!0)}}};b.setTimeout=function(a,c){function d(){var b=Date.now(),c=e.next(2,b);if(c[0]){var l=c[0].getTime()-b;1E3>l&&(l=c[1]?c[1].getTime()-b:1E3);g=2147483647>l?setTimeout(a,l):setTimeout(d,2147483647)}else g=void 0}var e=b.schedule(c),g;a&&d();return{isDone:function(){return!g},clear:function(){clearTimeout(g)}}};b.setInterval=function(a,c){function d(){g||(a(),e=b.setTimeout(d,c))}if(a){var e=b.setTimeout(d,c),
g=e.isDone();return{isDone:function(){return e.isDone()},clear:function(){g=!0;e.clear()}}}};b.date={};b.date.timezone=function(a){b.date.build=a?function(a,b,c,d,l,w){return new Date(a,b,c,d,l,w)}:function(a,b,c,d,l,w){return new Date(Date.UTC(a,b,c,d,l,w))};var c=a?"get":"getUTC",d=Date.prototype;b.date.getYear=d[c+"FullYear"];b.date.getMonth=d[c+"Month"];b.date.getDate=d[c+"Date"];b.date.getDay=d[c+"Day"];b.date.getHour=d[c+"Hours"];b.date.getMin=d[c+"Minutes"];b.date.getSec=d[c+"Seconds"];b.date.isUTC=
!a};b.date.UTC=function(){b.date.timezone(!1)};b.date.localTime=function(){b.date.timezone(!0)};b.date.UTC();b.SEC=1E3;b.MIN=60*b.SEC;b.HOUR=60*b.MIN;b.DAY=24*b.HOUR;b.WEEK=7*b.DAY;b.DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];b.NEVER=0;b.date.next=function(a,c,d,e,g,k){return b.date.build(a,void 0!==c?c-1:0,void 0!==d?d:1,e||0,g||0,k||0)};b.date.nextRollover=function(a,c,d,e){var g=d.val(a);d=d.extent(a)[1];return(c||d)<=g||c>d?new Date(e.end(a).getTime()+b.SEC):e.start(a)};b.date.prev=function(a,
c,d,e,g,k){var f=arguments.length;c=2>f?11:c-1;d=3>f?b.D.extent(b.date.next(a,c+1))[1]:d;return b.date.build(a,c,d,4>f?23:e,5>f?59:g,6>f?59:k)};b.date.prevRollover=function(a,b,d,e){d=d.val(a);return b>=d||!b?e.start(e.prev(a,e.val(a)-1)):e.start(a)};b.parse={};b.parse.cron=function(a,b){function c(a,b,c){return isNaN(a)?w[a]||null:Math.min(+a+(b||0),c||9999)}function e(a){var b={},c;for(c in a)"dc"!==c&&"d"!==c&&(b[c]=a[c].slice(0));return b}function g(a,b,c,d,e){for(a[b]||(a[b]=[]);c<=d;)0>a[b].indexOf(c)&&
a[b].push(c),c+=e||1;a[b].sort(function(a,b){return a-b})}function k(a,b,c,d){if(b.d&&!b.dc||b.dc&&0>b.dc.indexOf(d))a.push(e(b)),b=a[a.length-1];g(b,"d",c,c);g(b,"dc",d,d)}function f(a){return-1<a.indexOf("#")||0<a.indexOf("L")}function l(a,b){return f(a)&&!f(b)?1:a-b}var w={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12,SUN:1,MON:2,TUE:3,WED:4,THU:5,FRI:6,SAT:7},m={"* * * * * *":"0/1 * * * * *","@YEARLY":"0 0 1 1 *","@ANNUALLY":"0 0 1 1 *","@MONTHLY":"0 0 1 * *","@WEEKLY":"0 0 * * 0",
"@DAILY":"0 0 * * *","@HOURLY":"0 * * * *"},u={s:[0,0,59],m:[1,0,59],h:[2,0,23],D:[3,1,31],M:[4,1,12],Y:[6,1970,2099],d:[5,1,7,1]};a=function(a){a=a.toUpperCase();return m[a]||a}(a);return function(a){var b={schedules:[{}],exceptions:[]};a=a.replace(/(\s)+/g," ").split(" ");var d,e;for(d in u){var f=u[d];if((e=a[f[0]])&&"*"!==e&&"?"!==e){e=e.split(",").sort(l);var m,x=e.length;for(m=0;m<x;m++){var B,C=e[m];var K=b;var ma=d,X=f[1],T=f[2],Y=f[3],F=K.schedules,I=F[F.length-1];"L"===C&&(C=X-1);null!==
(B=c(C,Y,T))?g(I,ma,B,B):null!==(B=c(C.replace("W",""),Y,T))?(C=K,Y=I,T={},ma={},1===B?(g(Y,"D",1,3),g(Y,"d",w.MON,w.FRI),g(T,"D",2,2),g(T,"d",w.TUE,w.FRI),g(ma,"D",3,3)):(g(Y,"D",B-1,B+1),g(Y,"d",w.MON,w.FRI),g(T,"D",B-1,B-1),g(T,"d",w.MON,w.THU),g(ma,"D",B+1,B+1)),g(ma,"d",w.TUE,w.FRI),C.exceptions.push(T),C.exceptions.push(ma)):null!==(B=c(C.replace("L",""),Y,T))?k(F,I,B,X-1):2===(K=C.split("#")).length?(B=c(K[0],Y,T),k(F,I,B,c(K[1]))):(B=I,I=C.split("/"),C=+I[1],I=I[0],"*"!==I&&"0"!==I&&(I=I.split("-"),
X=c(I[0],Y,T),T=c(I[1],Y,T)||T),g(B,ma,X,T,C))}}}return b}(b?a:"0 "+a)};b.parse.recur=function(){var a,c,d,e;function g(b,f,g){b=A?b+"_"+A:b;l||(w.push({}),l=w[0]);l[b]||(l[b]=[]);m=l[b];if(x){u=[];for(E=f;E<=g;E+=x)u.push(E);a=b;c=x;d=m.length;e=g}u=D?[f]:y?[g]:u;b=u.length;for(E=0;E<b;E+=1)f=u[E],0>m.indexOf(f)&&m.push(f);u=x=A=D=y=0}var k=[],f=[],l,w=k,m,u,x,A,D,y,E;return{schedules:k,exceptions:f,on:function(){u=arguments[0]instanceof Array?arguments[0]:arguments;return this},every:function(a){x=
a||1;return this},after:function(a){A="a";u=[a];return this},before:function(a){A="b";u=[a];return this},first:function(){D=1;return this},last:function(){y=1;return this},time:function(){for(var a=0,b=u.length;a<b;a++){var c=u[a].split(":");3>c.length&&c.push(0);u[a]=3600*+c[0]+60*+c[1]+ +c[2]}g("t");return this},second:function(){g("s",0,59);return this},minute:function(){g("m",0,59);return this},hour:function(){g("h",0,23);return this},dayOfMonth:function(){g("D",1,y?0:31);return this},dayOfWeek:function(){g("d",
1,7);return this},onWeekend:function(){u=[1,7];return this.dayOfWeek()},onWeekday:function(){u=[2,3,4,5,6];return this.dayOfWeek()},dayOfWeekCount:function(){g("dc",1,y?0:5);return this},dayOfYear:function(){g("dy",1,y?0:366);return this},weekOfMonth:function(){g("wm",1,y?0:5);return this},weekOfYear:function(){g("wy",1,y?0:53);return this},month:function(){g("M",1,12);return this},year:function(){g("Y",1970,2450);return this},fullDate:function(){for(var a=0,b=u.length;a<b;a++)u[a]=u[a].getTime();
g("fd");return this},customModifier:function(a,c){if(!b.modifier[a])throw Error("Custom modifier "+a+" not recognized!");A=a;u=c instanceof Array?c:[c];return this},customPeriod:function(a){var c=b[a];if(!c)throw Error("Custom time period "+a+" not recognized!");g(a,c.extent(new Date)[0],c.extent(new Date)[1]);return this},startingOn:function(a){return this.between(a,e)},between:function(b,e){l[a]=l[a].splice(0,d);x=c;g(a,b,e);return this},and:function(){l=w[w.push({})-1];return this},except:function(){w=
f;l=null;return this}}};b.parse.text=function(a){function c(a,b,c,d){return{startPos:a,endPos:b,text:c,type:d}}function d(a){a=a instanceof Array?a:[a];var b=/\s+/,d,e;a.push(b);for(e=x;!k||k.type===b;){var f=-1;var g=A.substring(e);var k=c(e,e,A.split(b)[0]);var l,m=a.length;for(l=0;l<m;l++){var u=a[l];(d=u.exec(g))&&0===d.index&&d[0].length>f&&(f=d[0].length,k=c(e,e+f,g.substring(0,f),u))}k.type===b&&(e=k.endPos)}return k}function e(a){a=d(a);x=a.endPos;return a}function g(a){var b=+m(a);a=l(y.through)?
+m(a):b;for(var c=[];b<=a;b++)c.push(b);return c}function k(a){for(var b=g(a);l(y.and);)b=b.concat(g(a));return b}function f(a){var b=w([y.second,y.minute,y.hour,y.dayOfYear,y.dayOfWeek,y.dayInstance,y.day,y.month,y.year,y.weekOfMonth,y.weekOfYear]);switch(b.type){case y.second:a.second();break;case y.minute:a.minute();break;case y.hour:a.hour();break;case y.dayOfYear:a.dayOfYear();break;case y.dayOfWeek:a.dayOfWeek();break;case y.dayInstance:a.dayOfWeekCount();break;case y.day:a.dayOfMonth();break;
case y.weekOfMonth:a.weekOfMonth();break;case y.weekOfYear:a.weekOfYear();break;case y.month:a.month();break;case y.year:a.year();break;default:D=x}return b}function l(a){var b=d(a).type===a;b&&e(a);return b}function w(a){var b=e(a);if(b.type){var c=b.text,d=c;switch(a){case y.time:c=c.split(/(:|am|pm)/);a="pm"===c[3]&&12>c[0]?parseInt(c[0],10)+12:c[0];c=c[2].trim();d=(1===a.length?"0":"")+a+":"+c;break;case y.rank:d=parseInt(/^\d+/.exec(c)[0],10);break;case y.monthName:case y.dayName:d=E[c.substring(0,
3)]}b.text=d}else D=x;return b}function m(a){return w(a).text}var u=b.parse.recur,x=0,A="",D,y={eof:/^$/,rank:/^((\d+)(st|nd|rd|th)?)\b/,time:/^((([0]?[1-9]|1[0-2]):[0-5]\d(\s)?(am|pm))|(([0]?\d|1\d|2[0-3]):[0-5]\d))\b/,dayName:/^((sun|mon|tue(s)?|wed(nes)?|thu(r(s)?)?|fri|sat(ur)?)(day)?)\b/,monthName:/^(jan(uary)?|feb(ruary)?|ma((r(ch)?)?|y)|apr(il)?|ju(ly|ne)|aug(ust)?|oct(ober)?|(sept|nov|dec)(ember)?)\b/,yearIndex:/^(\d\d\d\d)\b/,every:/^every\b/,after:/^after\b/,before:/^before\b/,second:/^(s|sec(ond)?(s)?)\b/,
minute:/^(m|min(ute)?(s)?)\b/,hour:/^(h|hour(s)?)\b/,day:/^(day(s)?( of the month)?)\b/,dayInstance:/^day instance\b/,dayOfWeek:/^day(s)? of the week\b/,dayOfYear:/^day(s)? of the year\b/,weekOfYear:/^week(s)?( of the year)?\b/,weekOfMonth:/^week(s)? of the month\b/,weekday:/^weekday\b/,weekend:/^weekend\b/,month:/^month(s)?\b/,year:/^year(s)?\b/,between:/^between (the)?\b/,start:/^(start(ing)? (at|on( the)?)?)\b/,at:/^(at|@)\b/,and:/^(,|and\b)/,except:/^(except\b)/,also:/(also)\b/,first:/^(first)\b/,
last:/^last\b/,"in":/^in\b/,of:/^of\b/,onthe:/^on the\b/,on:/^on\b/,through:/(-|^(to|through)\b)/},E={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7,"1st":1,fir:1,"2nd":2,sec:2,"3rd":3,thi:3,"4th":4,"for":4};return function(a){x=0;A=a;D=-1;for(a=u();x<A.length&&0>D;)switch(w([y.every,y.after,y.before,y.onthe,y.on,y.of,y["in"],y.at,y.and,y.except,y.also]).type){case y.every:var b=a;if(l(y.weekend))b.on(E.sun,E.sat).dayOfWeek();else if(l(y.weekday))b.on(E.mon,
E.tue,E.wed,E.thu,E.fri).dayOfWeek();else{var c=m(y.rank);b.every(c);var e=f(b);l(y.start)?(c=m(y.rank),b.startingOn(c),w(e.type)):l(y.between)&&(c=m(y.rank),l(y.and)&&(e=m(y.rank),b.between(c,e)))}break;case y.after:void 0!==d(y.time).type?(a.after(m(y.time)),a.time()):(a.after(m(y.rank)),f(a));break;case y.before:void 0!==d(y.time).type?(a.before(m(y.time)),a.time()):(a.before(m(y.rank)),f(a));break;case y.onthe:b=a;if(l(y.first))b.first();else if(l(y.last))b.last();else b.on(k(y.rank));f(b);break;
case y.on:a.on(k(y.dayName)).dayOfWeek();break;case y.of:a.on(k(y.monthName)).month();break;case y["in"]:a.on(k(y.yearIndex)).year();break;case y.at:for(a.on(m(y.time)).time();l(y.and);)a.on(m(y.time)).time();break;case y.and:break;case y.also:a.and();break;case y.except:a.except();break;default:D=x}return{schedules:a.schedules,exceptions:a.exceptions,error:D}}(a.toLowerCase())};return b}();later.date.localTime();
define("lodash-after",[],function(){function b(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function a(a){a?(a=c(a),a=a===d||a===-d?1.7976931348623157E308*(0>a?-1:1):a===a?a:0):a=0===a?a:0;var b=a%1;return a===a?b?a-b:a:0}function c(a){if("number"==typeof a)return a;var c=a;if("symbol"==typeof c||c&&"object"==typeof c&&"[object Symbol]"==m.call(c))return e;b(a)&&(a="function"==typeof a.valueOf?a.valueOf():a,a=b(a)?a+"":a);if("string"!=typeof a)return 0===a?a:+a;a=a.replace(g,"");return(c=
f.test(a))||l.test(a)?w(a.slice(2),c?2:8):k.test(a)?e:+a}var d=1/0,e=0/0,g=/^\s+|\s+$/g,k=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,l=/^0o[0-7]+$/i,w=parseInt,m=Object.prototype.toString;return function(b,c){if("function"!=typeof c)throw new TypeError("Expected a function");b=a(b);return function(){if(1>--b)return c.apply(this,arguments)}}});
define("lodash-defer",[],function(){function b(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function a(a,b,c){if("function"!=typeof a)throw new TypeError("Expected a function");return setTimeout(function(){a.apply(void 0,c)},b)}var c=Math.max;return function(a,e){e=c(void 0===e?a.length-1:e,0);return function(){for(var d=arguments,k=-1,f=c(d.length-e,0),l=Array(f);++k<f;)l[k]=
d[e+k];k=-1;for(f=Array(e+1);++k<e;)f[k]=d[k];f[e]=l;return b(a,this,f)}}(function(b,c){return a(b,1,c)})});(function(){window.ScreensPlayer=window.ScreensPlayer||{sequence:{},strategies:{},transitions:{}};window.CQ=window.CQ||{};window.CQ.screens=window.CQ.screens||{};window.CQ.screens.sequence={util:{}}})();
(function(b,a){var c=function(a){return{startDate:null,endDate:null,isValidInDate:function(a){return!1}}},d=function(a){var d=c(),e=b.parse.text(a);Object.defineProperty(d,"startDate",{get:function(){return e.schedules[0].fd_a&&e.schedules[0].fd_a[0]?e.schedules[0].fd_a[0]:null},set:function(a){e.schedules[0].fd_a=[];e.schedules[0].fd_a[0]=a}});Object.defineProperty(d,"endDate",{get:function(){return e.schedules[0].fd_b&&e.schedules[0].fd_b[0]?e.schedules[0].fd_b[0]:null},set:function(a){e.schedules[0].fd_b=
[];e.schedules[0].fd_b[0]=a}});d.isValidInDate=function(a){return b.schedule(e).isValid(a)};return d},e=function(a){var d=c(),e=b.parse.cron(a,5<a.split(" ").length);Object.defineProperty(d,"startDate",{get:function(){return e.schedules[0].fd_a&&e.schedules[0].fd_a[0]?e.schedules[0].fd_a[0]:null},set:function(a){e.schedules[0].fd_a=[];e.schedules[0].fd_a[0]=a}});Object.defineProperty(d,"endDate",{get:function(){return e.schedules[0].fd_b&&e.schedules[0].fd_b[0]?e.schedules[0].fd_b[0]:null},set:function(a){e.schedules[0].fd_b=
[];e.schedules[0].fd_b[0]=a}});d.isValidInDate=function(a){return b.schedule(e).isValid(a)};return d},g=function(b){b=new a.Component(b);var c=b.getFirstSubcomponent("vevent"),d=c.getFirstPropertyValue("rrule"),e=c.getFirstPropertyValue("dtstart"),f=new a.Event(c);return{vcalendar:b,vevent:c,recur:d,dtstart:e,veventComp:f}},k=function(b){var d=c();try{var e=window.ICAL.parse(b),f=g(e);d.isValidInDate=function(b){var c=new a.Time.fromJSDate(b);b=(new a.Time.fromData({year:c.year,month:c.month,day:c.day,
hour:0,minute:0})).adjust(0,0,0,-1);b=f.recur.getNextOccurrence(f.dtstart,b);var e=f.veventComp.getOccurrenceDetails(b),g=1E3*c.toUnixTime();b=0>=e.startDate.compare(c);c=0<=e.endDate.compare(c);e=0<d.startDate?g>=d.startDate:!0;g=0<d.endDate?g<=d.endDate:!0;return b&&c&&e&&g}}catch(u){console.error("[STRATEGY] Invalid iCalendar ",u)}return d};window.ScreensPlayer.isSequenceItemScheduled=function(c,g){if(c.schedule){try{a.parse(c.schedule);var f=!0}catch(A){f=!1}f?f=k(c.schedule):(f=-1!==b.parse.text(c.schedule).error?
!1:!0,f?(console.warn("[STRATEGY] Invalid iCalendar schedule.",c.schedule,"Please update channel assignment."),f=d(c.schedule)):(console.warn("[STRATEGY] Invalid iCalendar schedule.",c.schedule,"Please update channel assignment. Falling back to cron parsing."),f=e(c.schedule)))}else f=e("* * * * * *");var l=6E4*(new Date).getTimezoneOffset(),u="number"===typeof c.startDate;u&&(f.startDate=(new Date(c.startDate+l)).getTime());var x="number"===typeof c.endDate;x&&(f.endDate=(new Date(c.endDate+l)).getTime());
return!(c.schedule||u||x)||f.isValidInDate(g)};window.CQ.screens.sequence.util.isFirmwareOrigin=function(a){return"single"===a};window.CQ.screens.sequence.util.isInAuthoring=function(a){try{return!!(a.top!==a&&a.top.Granite&&a.top.Granite.author&&a.top.Granite.author.layerManager)}catch(l){return!1}};window.CQ.screens.sequence.util.isInDirectPreview=function(a){try{return-1===a.top.location.search.indexOf("displayPath\x3d")}catch(l){return!1}};window.CQ.screens.sequence.util.isEmbeddedSequence=function(a){try{return!(a===
a.parent||!a.parent.ScreensDisplay)}catch(l){return!1}};window.CQ.screens.sequence.util.isMultizoneChannelOrigin=function(a,b){return"parentSequence"===a&&"multizone"===b.context};window.CQ.screens.sequence.util.createSequencePayload=function(a){return a&&a.sequence?{playOnce:a.sequence.playOnce}:null};window.CQ.screens.sequence.util.registerParentSequenceInWindowIO=function(a,b){-1!==Object.keys(b.targetWindows).map(function(a){return b.targetWindows[a]}).indexOf(a.parent)&&b.targetWindows.single!==
a.parent||b.addWindow("parentSequence",a.parent)}})(window.later,window.ICAL);
(function(b){function a(a,b,c){return function(d,e){var f=new a.ScreensPlayer.Sequence(b,e);b.on("channel-show",function(b,c){console.log("[Sequence#init] Received channel-show for origin "+c);(a.CQ.screens.sequence.util.isFirmwareOrigin(c)&&!a.CQ.screens.sequence.util.isEmbeddedSequence(a)||a.CQ.screens.sequence.util.isMultizoneChannelOrigin(c,b))&&f.start(a.CQ.screens.sequence.util.createSequencePayload(b))});b.on("channel-hide",function(b,c){console.log("[Sequence#init] Received channel-hide for origin "+
c);(a.CQ.screens.sequence.util.isFirmwareOrigin(c)||a.CQ.screens.sequence.util.isMultizoneChannelOrigin(c,b))&&f.stop()});c&&f.start()}}function c(c,e){return function(){document.querySelector(".cq-Screens-channel--sequence")&&(window.CQ.screens.sequence.util.isEmbeddedSequence(window)&&window.CQ.screens.sequence.util.registerParentSequenceInWindowIO(window,c),b(".cq-Sequence[data-strategy]").each(a(window,c,e)),c.postMessage("channel-status-ready"))}}require(["util/ScreensDisplay","window.io"],function(a,
e){(a=a.getWindowIO())||(a=new e);if(window.CQ.screens.sequence.util.isEmbeddedSequence(window)||!window.CQ.screens.sequence.util.isInAuthoring(window)&&!window.CQ.screens.sequence.util.isInDirectPreview(window))if(window.CQ.screens.sequence.util.isEmbeddedSequence(window))b(c(a,!1));else a.on("player-wio-ready",c(a,!1));else b(c(a,!0))})})(window.jQuery);
(function(b){function a(a){return Array.from(a.children).some(function(a){return"CQ"!==a.nodeName})}b.ScreensPlayer.sequence.legacyItemSkipFilter=function(b){return"true"!==b.dataset.itemSkip&&a(b)}})(window);
(function(b){var a=b.ScreensPlayer;b.ScreensPlayer.sequence.scheduledItemsFilter=function(b){b=b.querySelector("[data-schedule]")||b.querySelector("[data-startdate]")||b.querySelector("[data-enddate]");var c=new Date;var e=b?{schedule:b.dataset.schedule||null,startDate:b.dataset.startdate?Number(b.dataset.startdate):null,endDate:b.dataset.enddate?Number(b.dataset.enddate):null}:{};return b&&!a.isSequenceItemScheduled(e,c)?!1:!0}})(window);
(function(b,a){b=function(a){this.strategy=a;this.strategy.items().hide();return this};b.prototype.execute=function(a,b,e){var c=function(){b.show(0,e)};a&&a.hide(0,c)||c()};b.prototype.destroy=function(){this.strategy=null};a.transitions.normal=b})(window.jQuery,window.ScreensPlayer);
(function(b,a){b=function(a){this.strategy=a;this.strategy.items().css({position:"absolute",x:0,y:0});return this};b.prototype.execute=function(a,b,e,g){b.css("z-index",1);b.fadeIn(g||1600,function(){b.css("z-index",0);a&&a.hide(0);e()});b.show(0)};b.prototype.destroy=function(){this.strategy=null};a.transitions.fade=b})(window.jQuery,window.ScreensPlayer);
(function(b,a){var c=function(a){return a.css({position:"absolute",x:0,y:0})},d=function(a,b,c,d,e,g){function f(){a.css({x:0,y:0}).hide(0);e()}d.width=c.width=window.innerWidth+"px";d.height=c.height=window.innerHeight+"px";b.css(c).show(0).transition({x:0,y:0},g||1600);a&&a.css({x:0,y:0}).transition(d,g||1600,f)||e()};b=function(a){this.strategy=a;c(this.strategy.items());return this};var e=function(a){this.strategy=a;c(this.strategy.items());return this},g=function(a){this.strategy=a;c(this.strategy.items());
return this},k=function(a){this.strategy=a;c(this.strategy.items());return this};b.prototype.execute=function(a,b,c,e){d(a,b,{y:-window.innerHeight},{y:+window.innerHeight},c,e)};e.prototype.execute=function(a,b,c,e){d(a,b,{y:window.innerHeight},{y:-window.innerHeight},c,e)};g.prototype.execute=function(a,b,c,e){d(a,b,{x:-window.innerWidth},{x:window.innerWidth},c,e)};k.prototype.execute=function(a,b,c,e){d(a,b,{x:window.innerWidth},{x:-window.innerWidth},c,e)};b.prototype.destroy=function(){this.strategy=
null};e.prototype.destroy=function(){this.strategy=null};g.prototype.destroy=function(){this.strategy=null};k.prototype.destroy=function(){this.strategy=null};a.transitions.slideintop=b;a.transitions.slideinbottom=e;a.transitions.slideinleft=g;a.transitions.slideinright=k})(window.jQuery,window.ScreensPlayer);
(function(b,a){var c=function(a){this.$el=b(a);this.el=this.$el.get(0);this.$el.data("screens-strategy",this);this.items().hide()};c.prototype.init=function(){};c.prototype.items=function(){return b(this.el.getElementsByClassName("cq-Sequence-item"))};c.prototype.visibleItems=function(){var c=this.items().toArray().filter(a.sequence.scheduledItemsFilter).filter(a.sequence.legacyItemSkipFilter);return b(c)};c.prototype.startItem=function(a){return this.items().first()};c.prototype.isCycleComplete=
function(a){var b=this.visibleItems().last();return 0===this.visibleItems().length||a&&b[0]===a[0]};c.prototype.next=function(a){var b=this.visibleItems();if(!b.length||0===b.length)return null;var c=a?b.index(a):-1;b=b.eq((c+1)%b.length);c=b.get(0);var d="normal",f=0,l=b.prev(".cq-Sequence-transition");a&&(l=l.add(a.next(".cq-Sequence-transition")));l&&l.length&&(d=(a=l.get(0).getElementsByClassName("transition")[0])?a.dataset.transition:null,f=a?parseInt(a.dataset.transitionDuration,10):null);"0"===
c.dataset.duration?b=this.next():"true"===c.dataset.pauseSequence&&this.$el.trigger("pause-sequence");return{$item:b,transitionType:d,transitionDuration:f}};c.prototype.duration=function(a){a=a.get(0);var b=null;a&&(b=parseInt(a.dataset.duration,10),!b&&(b=(b=a.querySelector("[data-duration]"))?parseInt(b.dataset.duration,10):null,!b&&a.classList.contains("cq-Screens-subsequence")&&(a=a.getElementsByTagName("iframe")[0])))&&(a.setAttribute("data-duration","-1"),b=-1);b=parseInt(b,10);if(isNaN(b)||
0===b)b=parseInt(this.el.dataset.duration,10)||8E3;return b};c.prototype.scheduleCurrent=function(a,b){this.timeout=window.setTimeout(a,b)};c.prototype.destroy=function(){this.$el.removeData("screens-strategy");this.el=this.$el=null};a.strategies.normal=c})(window.jQuery,window.ScreensPlayer);
(function(b,a,c){c=function(a){this.$el=b(a);this.el=this.$el.get(0);this.$el.data("screens-strategy",this);this.items().hide();this.init()};c.prototype.init=function(){this.data={};this.computeSequenceCycles(this.visibleItems());this.updateTimeAnchor(new Date)};c.prototype.updateTimeAnchor=function(a){a=new Date(a);a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);this.data.anchor=a.getTime()};c.prototype.computeSequenceCycles=function(a){var c=this;this.data.cycles=[];this.data.totalDuration=
0;b.each(a,function(a,d){var e=b(d);d.dataset.itemSkip||(e=c.duration(e),-1!==e&&(c.data.cycles.push({duration:e,index:a,startTime:c.data.totalDuration,item:d}),c.data.totalDuration+=e))});this.data.nbCycles=this.data.cycles.length};c.prototype.update=function(){this.computeSequenceCycles(this.visibleItems());this.updateTimeAnchor(Date.now());return!0};c.prototype.items=function(){return b(this.el.getElementsByClassName("cq-Sequence-item"))};c.prototype.visibleItems=function(){var c=this.items().toArray().filter(a.sequence.legacyItemSkipFilter);
return b(c)};c.prototype.startItem=function(a){return b()};c.prototype.isCycleComplete=function(a){var b=this.visibleItems().last();return 0===this.visibleItems().length||a&&b[0]===a[0]};c.prototype.getNext=function(){this.computeSequenceCycles(this.visibleItems());var a=(new Date).getTime(),b=a-this.data.anchor,c=Math.floor(b/this.data.totalDuration),k=b%this.data.totalDuration;a-=k;b=this.data.cycles.find(function(a){return a.startTime+a.duration>k+16})||this.data.cycles[0]||{item:null};return{index:b.index,
time:a+b.startTime+b.duration,item:b.item,loopCount:c}};c.prototype.next=function(){var a=this.getNext();return a.item?{$item:b(a.item),transitionType:"normal",loopCount:a.loopCount}:null};c.prototype.scheduleCurrent=function(a,b){b=this.getNext().time-(new Date).getTime();window.setTimeout(a,b)};c.prototype.duration=function(a){a=a.get(0);var b=null,c;a&&(b=parseInt(a.dataset.duration,10),!b&&(b=(c=a.querySelector("[data-duration]"))?parseInt(c.dataset.duration,10):null,!b&&a.classList.contains("cq-Screens-subsequence")&&
(c=a.getElementsByTagName("iframe")[0])))&&(c.setAttribute("data-duration","-1"),b=-1);b=parseInt(b,10);if(isNaN(b)||0===b)b=parseInt(this.el.dataset.duration,10)||8E3;-1===b&&(b=(c=a.querySelector("[data-item-duration]"))&&parseInt(c.dataset.itemDuration,10)||b);return b};c.prototype.destroy=function(){this.$el.removeData("screens-strategy");delete this.$el;delete this.el};a.strategies.absolute=c})(window.jQuery,window.ScreensPlayer,window.later);
(function(b,a){var c=function(a){this.$el=b(a);this.el=this.$el.get(0);this.$el.data("screens-strategy",this);this.latency=0;this.items().hide();this.init()};c.prototype=Object.assign({},a.strategies.absolute.prototype);c.prototype.updateTimeAnchor=function(a){this.data.anchor=a-this.latency};c.prototype.update=function(a){if(!isNaN(a.latency))return this.latency=a.latency||0,!1;this.computeSequenceCycles(this.visibleItems());this.updateTimeAnchor(Date.now()-(a.msIntoTheSequence||0));return!0};a.strategies.synced=
c})(window.jQuery,window.ScreensPlayer);
(function(b,a){var c=function(a){this.$el=b(a);this.el=this.$el.get(0);this.$el.data("screens-strategy",this);this.items().hide();this.startItem()};c.prototype.init=function(){};c.prototype.items=function(){return b(this.el.getElementsByClassName("cq-Sequence-item"))};c.prototype.visibleItems=function(){var c=this.items().toArray().filter(a.sequence.legacyItemSkipFilter);return b(c)};c.prototype.startItem=function(a){var b=this.visibleItems();this.$currentItem=this.visibleItems().eq(a?a%b.length:
0);return null};c.prototype.isCycleComplete=function(a){return!this.visibleItems().length||!!a};c.prototype.getNext=function(){var a=this.visibleItems();if(!a.length||0===a.length)return null;var b=this.$currentItem?a.index(this.$currentItem):-1;return a.eq((b+1)%a.length)};c.prototype.next=function(a){if(a)return null;a=this.getNext();return a?(this.$currentItem=a)?{$item:this.$currentItem,transitionType:"normal"}:null:null};c.prototype.duration=function(a){a=a.get(0);var b=null;a&&(b=parseInt(a.dataset.duration,
10),b||(b=(a=a.querySelector("[data-duration]"))?parseInt(a.dataset.duration,10):null));b&&"0"!==b||(b=parseInt(this.el.dataset.duration,10)||8E3);return parseInt(b,10)};c.prototype.scheduleCurrent=function(a,b){this.timeout=window.setTimeout(a,b)};c.prototype.destroy=function(){this.$el.removeData("screens-strategy");this.el=this.$el=null};a.strategies.singleitem=c})(window.jQuery,window.ScreensPlayer);
(function(b,a){function c(a,b){if(!window.CQ.screens.sequence.util.isEmbeddedSequence(window))switch(a.type){case "sequence-element-show":a.msg&&this.strategy.update&&this.strategy.update({msIntoTheSequence:a.msg.msIntoTheSequence})}}function d(a){window.CQ.screens.sequence.util.isEmbeddedSequence(window)||a.msg&&this.strategy.update&&this.strategy.update({latency:a.msg.latency||0})}var e="sequence-start sequence-stop sequence-resume sequence-pause sequence-set-strategy sequence-element-update".split(" "),
g=function(g,f,l,w){this._init=function(){this.$el=b(f);this.el=this.$el.get(0);this._wio=g;this._wioEventHandlers=[];this._allItemsSkippedInterval=null;this.$el.data("screens-sequence",this);this.disabled=!0;this.currentItemDuration=this.currentItemStartTime=0;this.setStrategy(l||this.$el.data("strategy")||"normal");this.transition=b.isFunction(w)&&w||new (a.transitions[w||this.$el.data("transition")||"normal"])(this.strategy);this._bindEvents();this._wio.postMessage("sequence-state-initialized",
{items:this.strategy.items().length},"parentSequence");this._wio.on("parent-ready",function(a,b){"parentSequence"===b&&this._wio.postMessage("sequence-state-initialized",{items:this.strategy.items().length},"parentSequence")}.bind(this));return this};this._createWioMessageHandler=function(a){var b=this;return function(c,d){b.$el.trigger(a,c)}};this._bindEvents=function(){this.$el.on("sequence-start",function(a,b){this.start(b)}.bind(this));this.$el.on("sequence-pause",function(){this.pause()}.bind(this));
this.$el.on("sequence-resume",function(){this.resume()}.bind(this));this.$el.on("sequence-stop",function(){this.stop()}.bind(this));this.$el.on("sequence-element-update",function(a){this.strategy.update&&this.strategy.update()&&(console.log("Strategy updated. Restarting sequence."),this.stop(),this.start())}.bind(this));this.$el.on("sequence-set-strategy",function(a,b){b&&b.strategy&&this.setStrategy(b.strategy)}.bind(this));for(var a=0;a<e.length;a++){var b=this._wio.on(e[a],this._createWioMessageHandler(e[a]));
this._wioEventHandlers.push({event:e[a],handler:b})}this._wio.on("COMMAND_P2P_RECEIVE",c.bind(this));this._wio.on("COMMAND_P2P_PONG",d.bind(this))};this._destroy=function(){this.$el.off(e.join(" "));for(var a=0;a<this._wioEventHandlers.length;a++)this._wio.removeListener(this._wioEventHandlers[a].event,this._wioEventHandlers.handler);this._wio.off("COMMAND_P2P_RECEIVE");this._wio.off("COMMAND_P2P_PONG");this._wio=null;this.$el.removeData("screens-sequence");this.el=this.$el=null;this.transition.destroy();
this.transition=null;this.strategy.destroy();this.strategy=null};return this._init()};g.prototype.setStrategy=function(c){this.strategy=b.isFunction(c)?c:new a.strategies[c](this.$el)};g.prototype.start=function(a){a&&(a.playOnce&&(this.playOnce=a.playOnce),a.duration&&(this.duration=a.duration),a.loopCount&&(this.$currentItem=this.strategy.startItem(a.loopCount)));if(!this.disabled)return null;this.disabled=!1;this._wio.postMessage("sequence-state-started",{},"parentSequence");this.next();return this};
g.prototype.pause=function(){if(this.disabled)return null;this.disabled=!0;window.clearTimeout(this.strategy.timeout);this.currentItemDuration-=(new Date).getTime()-this.currentItemStartTime;this._wio.postMessage("sequence-state-paused",{},"parentSequence");return this};g.prototype.resume=function(){if(!this.disabled)return null;this.disabled=!1;this.currentItemStartTime=(new Date).getTime();var a=this.currentItemStartTime+this.currentItemDuration-(new Date).getTime();0<a?this.strategy.scheduleCurrent(this.next.bind(this),
a):this.next();this._wio.postMessage("sequence-state-resumed",{},"parentSequence");return this};g.prototype.stop=function(){this.$currentItem&&(this.$currentItem.trigger("sequence-element-stop"),this.$currentItem.trigger("sequence-element-hide"),this._wio.targetWindows.single&&this._wio.postMessage("sequence-element-hide",{},"single"));this.$currentItem=null;window.clearTimeout(this.strategy.timeout);this._wio.postMessage("sequence-state-stopped",{},"parentSequence");if(this.disabled)return null;
this.disabled=!0;return this};g.prototype.next=function(){if(!this.disabled){if(this.strategy.isCycleComplete(this.$currentItem)&&(this._wio.targetWindows.parentSequence?this._wio.postMessage("sequence-state-cycle-complete",{},"parentSequence"):this._wio.targetWindows.single?(this._wio.postMessage("sequence-state-cycle-complete",{},"single"),this.postMessage("COMMAND_P2P_SEND",{type:"sequence-state-cycle-complete"})):console.log("Could not inform parent about cycle complete event"),-1===this.duration||
this.playOnce)){this.$currentItem&&this.$currentItem.hide();return}var b=this.strategy.next(this.$currentItem);if(b){var c=b.$item;this.currentItemDuration=this.strategy.duration(c);if(this.$currentItem&&1===this.strategy.visibleItems().length)this.stop(),this.resume();else{g.loadNext(this.strategy,b);var d=b.transitionType,e=b.transitionDuration;b=b.loopCount;this.$currentItem&&this.$currentItem.trigger("sequence-element-stop");var m=this.transition;d&&(m=new a.transitions[d](this.strategy));this.disabled||
(this._wio.targetWindows.single&&this._wio.postMessage("sequence-element-show",{},"single"),-1<this.currentItemDuration?(c.trigger("sequence-element-show",[b]),this.currentItemStartTime=(new Date).getTime(),this.strategy.scheduleCurrent(this.next.bind(this),this.currentItemDuration)):(d=function(){window.setTimeout(this.next.bind(this),10,c)},c.trigger("sequence-element-show",[b,d.bind(this)]),c.trigger("sequence-element-delegate-transition",[d.bind(this)])),this.strategy.data&&0<=this.strategy.data.anchor&&
this.postMessage("COMMAND_P2P_SEND",{type:"sequence-element-show",msg:{msIntoTheSequence:Date.now()-this.strategy.data.anchor}}));m.execute(this.$currentItem,c,function(){this.disabled||(this._wio.targetWindows.single&&this._wio.postMessage("sequence-element-hide",{},"single"),this.$currentItem&&this.$currentItem.trigger("sequence-element-hide"),this.$currentItem=c)}.bind(this),e)}}else console.warn("All items in sequence are skipped. Not able to advance."),window.clearInterval(this._allItemsSkippedInterval),
this._allItemsSkippedInterval=window.setInterval(this.next.bind(this),6E4,this.$currentItem)}};g.prototype.destroy=function(){this.stop();window.clearInterval(this._allItemsSkippedInterval);this._destroy()};g.loadNext=function(a,b){(a=a.next(b.$item))&&a.$item!==b.$item&&a.$item.trigger("sequence-element-load")};g.prototype.postMessage=function(a,b){this._wio.targetWindows.single?this._wio.postMessage(a,Object.assign({timestamp:Date.now()},b),"single"):console.log("Could not inform firmware about event "+
a)};window.ScreensPlayer.Sequence=g})(window.jQuery,window.ScreensPlayer);
(function(b){window.ScreensPlayer.ContextHubHelper={};var a=function(a,b){if(!a)throw Error("Missing selector: cannot initialize the helper.");if(!b)throw Error("Missing ContextHub: cannot initialize the helper.");if(!b.version)throw Error("ContextHub not initialized: cannot initialize the helper.");this.selector=a;this.contextHub=b};a.prototype.onInit=function(a){this.initHandler=a;return this};a.prototype.onUpdate=function(a){this.updateHandler=a;return this};a.prototype.onUpdateVisible=function(a){this.updateVisibleHandler=
a;return this};a.prototype.activate=function(){var a=this;if(a.initHandler)this.contextHub.eventing.on("ch-segment-engine:teaser-registered",function(b,c){c.data.forEach(function(b){var c=document.querySelector("#"+b.key+" "+a.selector);c&&a.initHandler(b.key,c)})});a.updateHandler&&(this.delegateTransitionHandler=function(b,c){b.target.querySelector(a.selector)&&(a.transitionCallback=c)},b(document).on("sequence-element-delegate-transition",".cq-Sequence-item.target",this.delegateTransitionHandler),
this.contextHub.eventing.on("ch-segment-engine:teaser-loaded",function(b,c){c.data.forEach(function(b){var c=document.querySelector("#"+b.key),d=c.querySelector(a.selector);d&&(null!==c.offsetParent&&(a.transitionCallback&&a.transitionCallback(),a.transitionCallback=null,a.updateVisibleHandler&&a.updateVisibleHandler(b.key,d)),a.updateHandler&&a.updateHandler(b.key,d))})}))};a.prototype.deactivate=function(){this.contextHub.eventing.off("ch-segment-engine:teaser-registered");this.contextHub.eventing.off("ch-segment-engine:teaser-loaded");
b(document).off("sequence-element-delegate-transition",".cq-Sequence-item.target",this.delegateTransitionHandler);this.delegateTransitionHandler=null};window.ScreensPlayer.ContextHubHelper.createTargetedComponent=function(b,d){return new a(b,d)};window.ScreensPlayer.ContextHubHelper.polyfillUpdateInterval=function(a){a&&a.version&&!a.Store.JSONPStore.prototype.setUpdateInterval&&Object.keys(a.getAllStores()).forEach(function(b){var c=a.getStore(b);b=c.config.pollInterval;!c.queryService||isNaN(b)||
0>=b||window.setInterval(function(){c.queryService(!0)},b)})};window.ScreensPlayer.ContextHubHelper.patchVariantUrlsForOfflinePlayback=function(a){if(a&&a.version)a.eventing.on("ch-segment-engine:teaser-registered",function(a,b){function c(a){a.url=a.url.replace("jcr:content","_jcr_content")}b.data.forEach(function(a){a.teaser.details.variants.forEach(c)})})};b(function(){window.ScreensPlayer.ContextHubHelper.polyfillUpdateInterval(window.ContextHub);window.ScreensPlayer.ContextHubHelper.patchVariantUrlsForOfflinePlayback(window.ContextHub)})})(window.jQuery);
(function(){define("jquery",function(){return jQuery});define("backbone",function(){return Backbone})})();
